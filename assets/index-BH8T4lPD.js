(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Wf={exports:{}},Oa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function Zb(){if(D_)return Oa;D_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Oa.Fragment=e,Oa.jsx=i,Oa.jsxs=i,Oa}var I_;function Jb(){return I_||(I_=1,Wf.exports=Zb()),Wf.exports}var E=Jb(),Xf={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function eT(){if(M_)return ae;M_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function S(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,j={};function P(T,z,J){this.props=T,this.context=z,this.refs=j,this.updater=J||N}P.prototype.isReactComponent={},P.prototype.setState=function(T,z){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,z,"setState")},P.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function U(){}U.prototype=P.prototype;function Y(T,z,J){this.props=T,this.context=z,this.refs=j,this.updater=J||N}var V=Y.prototype=new U;V.constructor=Y,A(V,P.prototype),V.isPureReactComponent=!0;var me=Array.isArray,X={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function le(T,z,J,$,F,_e){return J=_e.ref,{$$typeof:s,type:T,key:z,ref:J!==void 0?J:null,props:_e}}function be(T,z){return le(T.type,z,void 0,void 0,void 0,T.props)}function B(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function ie(T){var z={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return z[J]})}var mt=/\/+/g;function Sn(T,z){return typeof T=="object"&&T!==null&&T.key!=null?ie(""+T.key):z.toString(36)}function on(){}function bn(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(on,on):(T.status="pending",T.then(function(z){T.status==="pending"&&(T.status="fulfilled",T.value=z)},function(z){T.status==="pending"&&(T.status="rejected",T.reason=z)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function bt(T,z,J,$,F){var _e=typeof T;(_e==="undefined"||_e==="boolean")&&(T=null);var oe=!1;if(T===null)oe=!0;else switch(_e){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(T.$$typeof){case s:case e:oe=!0;break;case v:return oe=T._init,bt(oe(T._payload),z,J,$,F)}}if(oe)return F=F(T),oe=$===""?"."+Sn(T,0):$,me(F)?(J="",oe!=null&&(J=oe.replace(mt,"$&/")+"/"),bt(F,z,J,"",function(Ge){return Ge})):F!=null&&(B(F)&&(F=be(F,J+(F.key==null||T&&T.key===F.key?"":(""+F.key).replace(mt,"$&/")+"/")+oe)),z.push(F)),1;oe=0;var pt=$===""?".":$+":";if(me(T))for(var Te=0;Te<T.length;Te++)$=T[Te],_e=pt+Sn($,Te),oe+=bt($,z,J,_e,F);else if(Te=S(T),typeof Te=="function")for(T=Te.call(T),Te=0;!($=T.next()).done;)$=$.value,_e=pt+Sn($,Te++),oe+=bt($,z,J,_e,F);else if(_e==="object"){if(typeof T.then=="function")return bt(bn(T),z,J,$,F);throw z=String(T),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return oe}function q(T,z,J){if(T==null)return T;var $=[],F=0;return bt(T,$,"","",function(_e){return z.call(J,_e,F++)}),$}function re(T){if(T._status===-1){var z=T._result;z=z(),z.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=z)}if(T._status===1)return T._result.default;throw T._result}var te=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Oe(){}return ae.Children={map:q,forEach:function(T,z,J){q(T,function(){z.apply(this,arguments)},J)},count:function(T){var z=0;return q(T,function(){z++}),z},toArray:function(T){return q(T,function(z){return z})||[]},only:function(T){if(!B(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ae.Component=P,ae.Fragment=i,ae.Profiler=o,ae.PureComponent=Y,ae.StrictMode=a,ae.Suspense=h,ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ae.act=function(){throw Error("act(...) is not supported in production builds of React.")},ae.cache=function(T){return function(){return T.apply(null,arguments)}},ae.cloneElement=function(T,z,J){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var $=A({},T.props),F=T.key,_e=void 0;if(z!=null)for(oe in z.ref!==void 0&&(_e=void 0),z.key!==void 0&&(F=""+z.key),z)!G.call(z,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&z.ref===void 0||($[oe]=z[oe]);var oe=arguments.length-2;if(oe===1)$.children=J;else if(1<oe){for(var pt=Array(oe),Te=0;Te<oe;Te++)pt[Te]=arguments[Te+2];$.children=pt}return le(T.type,F,void 0,void 0,_e,$)},ae.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ae.createElement=function(T,z,J){var $,F={},_e=null;if(z!=null)for($ in z.key!==void 0&&(_e=""+z.key),z)G.call(z,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(F[$]=z[$]);var oe=arguments.length-2;if(oe===1)F.children=J;else if(1<oe){for(var pt=Array(oe),Te=0;Te<oe;Te++)pt[Te]=arguments[Te+2];F.children=pt}if(T&&T.defaultProps)for($ in oe=T.defaultProps,oe)F[$]===void 0&&(F[$]=oe[$]);return le(T,_e,void 0,void 0,null,F)},ae.createRef=function(){return{current:null}},ae.forwardRef=function(T){return{$$typeof:m,render:T}},ae.isValidElement=B,ae.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:re}},ae.memo=function(T,z){return{$$typeof:p,type:T,compare:z===void 0?null:z}},ae.startTransition=function(T){var z=X.T,J={};X.T=J;try{var $=T(),F=X.S;F!==null&&F(J,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Oe,te)}catch(_e){te(_e)}finally{X.T=z}},ae.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ae.use=function(T){return X.H.use(T)},ae.useActionState=function(T,z,J){return X.H.useActionState(T,z,J)},ae.useCallback=function(T,z){return X.H.useCallback(T,z)},ae.useContext=function(T){return X.H.useContext(T)},ae.useDebugValue=function(){},ae.useDeferredValue=function(T,z){return X.H.useDeferredValue(T,z)},ae.useEffect=function(T,z){return X.H.useEffect(T,z)},ae.useId=function(){return X.H.useId()},ae.useImperativeHandle=function(T,z,J){return X.H.useImperativeHandle(T,z,J)},ae.useInsertionEffect=function(T,z){return X.H.useInsertionEffect(T,z)},ae.useLayoutEffect=function(T,z){return X.H.useLayoutEffect(T,z)},ae.useMemo=function(T,z){return X.H.useMemo(T,z)},ae.useOptimistic=function(T,z){return X.H.useOptimistic(T,z)},ae.useReducer=function(T,z,J){return X.H.useReducer(T,z,J)},ae.useRef=function(T){return X.H.useRef(T)},ae.useState=function(T){return X.H.useState(T)},ae.useSyncExternalStore=function(T,z,J){return X.H.useSyncExternalStore(T,z,J)},ae.useTransition=function(){return X.H.useTransition()},ae.version="19.0.0",ae}var k_;function Vd(){return k_||(k_=1,Xf.exports=eT()),Xf.exports}var O=Vd(),$f={exports:{}},xa={},Zf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function tT(){return L_||(L_=1,function(s){function e(q,re){var te=q.length;q.push(re);e:for(;0<te;){var Oe=te-1>>>1,T=q[Oe];if(0<o(T,re))q[Oe]=re,q[te]=T,te=Oe;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var re=q[0],te=q.pop();if(te!==re){q[0]=te;e:for(var Oe=0,T=q.length,z=T>>>1;Oe<z;){var J=2*(Oe+1)-1,$=q[J],F=J+1,_e=q[F];if(0>o($,te))F<T&&0>o(_e,$)?(q[Oe]=_e,q[F]=te,Oe=F):(q[Oe]=$,q[J]=te,Oe=J);else if(F<T&&0>o(_e,te))q[Oe]=_e,q[F]=te,Oe=F;else break e}}return re}function o(q,re){var te=q.sortIndex-re.sortIndex;return te!==0?te:q.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var h=[],p=[],v=1,y=null,S=3,N=!1,A=!1,j=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function V(q){for(var re=i(p);re!==null;){if(re.callback===null)a(p);else if(re.startTime<=q)a(p),re.sortIndex=re.expirationTime,e(h,re);else break;re=i(p)}}function me(q){if(j=!1,V(q),!A)if(i(h)!==null)A=!0,bn();else{var re=i(p);re!==null&&bt(me,re.startTime-q)}}var X=!1,G=-1,le=5,be=-1;function B(){return!(s.unstable_now()-be<le)}function ie(){if(X){var q=s.unstable_now();be=q;var re=!0;try{e:{A=!1,j&&(j=!1,U(G),G=-1),N=!0;var te=S;try{t:{for(V(q),y=i(h);y!==null&&!(y.expirationTime>q&&B());){var Oe=y.callback;if(typeof Oe=="function"){y.callback=null,S=y.priorityLevel;var T=Oe(y.expirationTime<=q);if(q=s.unstable_now(),typeof T=="function"){y.callback=T,V(q),re=!0;break t}y===i(h)&&a(h),V(q)}else a(h);y=i(h)}if(y!==null)re=!0;else{var z=i(p);z!==null&&bt(me,z.startTime-q),re=!1}}break e}finally{y=null,S=te,N=!1}re=void 0}}finally{re?mt():X=!1}}}var mt;if(typeof Y=="function")mt=function(){Y(ie)};else if(typeof MessageChannel<"u"){var Sn=new MessageChannel,on=Sn.port2;Sn.port1.onmessage=ie,mt=function(){on.postMessage(null)}}else mt=function(){P(ie,0)};function bn(){X||(X=!0,mt())}function bt(q,re){G=P(function(){q(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_continueExecution=function(){A||N||(A=!0,bn())},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_getFirstCallbackNode=function(){return i(h)},s.unstable_next=function(q){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var te=S;S=re;try{return q()}finally{S=te}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=S;S=q;try{return re()}finally{S=te}},s.unstable_scheduleCallback=function(q,re,te){var Oe=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Oe+te:Oe):te=Oe,q){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=te+T,q={id:v++,callback:re,priorityLevel:q,startTime:te,expirationTime:T,sortIndex:-1},te>Oe?(q.sortIndex=te,e(p,q),i(h)===null&&q===i(p)&&(j?(U(G),G=-1):j=!0,bt(me,te-Oe))):(q.sortIndex=T,e(h,q),A||N||(A=!0,bn())),q},s.unstable_shouldYield=B,s.unstable_wrapCallback=function(q){var re=S;return function(){var te=S;S=re;try{return q.apply(this,arguments)}finally{S=te}}}}(Jf)),Jf}var U_;function nT(){return U_||(U_=1,Zf.exports=tT()),Zf.exports}var ed={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function iT(){if(j_)return ht;j_=1;var s=Vd();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(h,p,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:h,containerInfo:p,implementation:v}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ht.createPortal=function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(h,p,null,v)},ht.flushSync=function(h){var p=f.T,v=a.p;try{if(f.T=null,a.p=2,h)return h()}finally{f.T=p,a.p=v,a.d.f()}},ht.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(h,p))},ht.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},ht.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var v=p.as,y=m(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:N}):v==="script"&&a.d.X(h,{crossOrigin:y,integrity:S,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ht.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);a.d.M(h,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(h)},ht.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,y=m(v,p.crossOrigin);a.d.L(h,v,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ht.preloadModule=function(h,p){if(typeof h=="string")if(p){var v=m(p.as,p.crossOrigin);a.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(h)},ht.requestFormReset=function(h){a.d.r(h)},ht.unstable_batchedUpdates=function(h,p){return h(p)},ht.useFormState=function(h,p,v){return f.H.useFormState(h,p,v)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.0.0",ht}var P_;function sT(){if(P_)return ed.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ed.exports=iT(),ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function rT(){if(z_)return xa;z_=1;var s=nT(),e=Vd(),i=sT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),N=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),me=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function G(t){return t===null||typeof t!="object"?null:(t=X&&t[X]||t["@@iterator"],typeof t=="function"?t:null)}var le=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===le?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case h:return"Fragment";case m:return"Portal";case v:return"Profiler";case p:return"StrictMode";case j:return"Suspense";case P:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Provider";case S:return(t._context.displayName||"Context")+".Consumer";case A:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return n=t.displayName||null,n!==null?n:be(t.type)||"Memo";case Y:n=t._payload,t=t._init;try{return be(t(n))}catch{}}return null}var B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=Object.assign,mt,Sn;function on(t){if(mt===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);mt=n&&n[1]||"",Sn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+t+Sn}var bn=!1;function bt(t,n){if(!t||bn)return"";bn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(I){var D=I}Reflect.construct(t,[],L)}else{try{L.call()}catch(I){D=I}t.call(L.prototype)}}else{try{throw Error()}catch(I){D=I}(L=t())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(I){if(I&&D&&typeof I.stack=="string")return[I.stack,D.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],_=d[1];if(g&&_){var b=g.split(`
`),w=_.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<w.length&&!w[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===w.length)for(l=b.length-1,c=w.length-1;1<=l&&0<=c&&b[l]!==w[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==w[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==w[c]){var M=`
`+b[l].replace(" at new "," at ");return t.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",t.displayName)),M}while(1<=l&&0<=c);break}}}finally{bn=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?on(r):""}function q(t){switch(t.tag){case 26:case 27:case 5:return on(t.type);case 16:return on("Lazy");case 13:return on("Suspense");case 19:return on("SuspenseList");case 0:case 15:return t=bt(t.type,!1),t;case 11:return t=bt(t.type.render,!1),t;case 1:return t=bt(t.type,!0),t;default:return""}}function re(t){try{var n="";do n+=q(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function te(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Oe(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function T(t){if(te(t)!==t)throw Error(a(188))}function z(t){var n=t.alternate;if(!n){if(n=te(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return T(c),t;if(d===l)return T(c),n;d=d.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=d;else{for(var g=!1,_=c.child;_;){if(_===r){g=!0,r=c,l=d;break}if(_===l){g=!0,l=c,r=d;break}_=_.sibling}if(!g){for(_=d.child;_;){if(_===r){g=!0,r=d,l=c;break}if(_===l){g=!0,l=d,r=c;break}_=_.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function J(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=J(t),n!==null)return n;t=t.sibling}return null}var $=Array.isArray,F=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},oe=[],pt=-1;function Te(t){return{current:t}}function Ge(t){0>pt||(t.current=oe[pt],oe[pt]=null,pt--)}function ke(t,n){pt++,oe[pt]=t.current,t.current=n}var un=Te(null),Ir=Te(null),ei=Te(null),El=Te(null);function Sl(t,n){switch(ke(ei,n),ke(Ir,t),ke(un,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?a_(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=a_(t),n=l_(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Ge(un),ke(un,n)}function ws(){Ge(un),Ge(Ir),Ge(ei)}function zu(t){t.memoizedState!==null&&ke(El,t);var n=un.current,r=l_(n,t.type);n!==r&&(ke(Ir,t),ke(un,r))}function bl(t){Ir.current===t&&(Ge(un),Ge(Ir)),El.current===t&&(Ge(El),Ca._currentValue=_e)}var Hu=Object.prototype.hasOwnProperty,Bu=s.unstable_scheduleCallback,qu=s.unstable_cancelCallback,x0=s.unstable_shouldYield,D0=s.unstable_requestPaint,cn=s.unstable_now,I0=s.unstable_getCurrentPriorityLevel,Wh=s.unstable_ImmediatePriority,Xh=s.unstable_UserBlockingPriority,Tl=s.unstable_NormalPriority,M0=s.unstable_LowPriority,$h=s.unstable_IdlePriority,k0=s.log,L0=s.unstable_setDisableYieldValue,Mr=null,At=null;function U0(t){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Mr,t,void 0,(t.current.flags&128)===128)}catch{}}function ti(t){if(typeof k0=="function"&&L0(t),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Mr,t)}catch{}}var Nt=Math.clz32?Math.clz32:z0,j0=Math.log,P0=Math.LN2;function z0(t){return t>>>=0,t===0?32:31-(j0(t)/P0|0)|0}var Cl=128,wl=4194304;function Vi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rl(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,d=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var _=r&134217727;return _!==0?(r=_&~c,r!==0?l=Vi(r):(d&=_,d!==0?l=Vi(d):t||(g=_&~g,g!==0&&(l=Vi(g))))):(_=r&~c,_!==0?l=Vi(_):d!==0?l=Vi(d):t||(g=r&~g,g!==0&&(l=Vi(g)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,g=n&-n,c>=g||c===32&&(g&4194176)!==0)?n:l}function kr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function H0(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zh(){var t=Cl;return Cl<<=1,(Cl&4194176)===0&&(Cl=128),t}function Jh(){var t=wl;return wl<<=1,(wl&62914560)===0&&(wl=4194304),t}function Vu(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Lr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function B0(t,n,r,l,c,d){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var _=t.entanglements,b=t.expirationTimes,w=t.hiddenUpdates;for(r=g&~r;0<r;){var M=31-Nt(r),L=1<<M;_[M]=0,b[M]=-1;var D=w[M];if(D!==null)for(w[M]=null,M=0;M<D.length;M++){var I=D[M];I!==null&&(I.lane&=-536870913)}r&=~L}l!==0&&em(t,l,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~n))}function em(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Nt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function tm(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Nt(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function nm(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function im(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:w_(t.type))}function q0(t,n){var r=F.p;try{return F.p=t,n()}finally{F.p=r}}var ni=Math.random().toString(36).slice(2),ft="__reactFiber$"+ni,Tt="__reactProps$"+ni,Rs="__reactContainer$"+ni,Gu="__reactEvents$"+ni,V0="__reactListeners$"+ni,G0="__reactHandles$"+ni,sm="__reactResources$"+ni,Ur="__reactMarker$"+ni;function Fu(t){delete t[ft],delete t[Tt],delete t[Gu],delete t[V0],delete t[G0]}function Gi(t){var n=t[ft];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Rs]||r[ft]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=c_(t);t!==null;){if(r=t[ft])return r;t=c_(t)}return n}t=r,r=t.parentNode}return null}function As(t){if(t=t[ft]||t[Rs]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function jr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ns(t){var n=t[sm];return n||(n=t[sm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Je(t){t[Ur]=!0}var rm=new Set,am={};function Fi(t,n){Os(t,n),Os(t+"Capture",n)}function Os(t,n){for(am[t]=n,t=0;t<n.length;t++)rm.add(n[t])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lm={},om={};function Y0(t){return Hu.call(om,t)?!0:Hu.call(lm,t)?!1:F0.test(t)?om[t]=!0:(lm[t]=!0,!1)}function Al(t,n,r){if(Y0(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Nl(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Cn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function um(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Q0(t){var n=um(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){l=""+g,d.call(this,g)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ol(t){t._valueTracker||(t._valueTracker=Q0(t))}function cm(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=um(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function xl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var K0=/[\n"\\]/g;function Ut(t){return t.replace(K0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yu(t,n,r,l,c,d,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Qu(t,g,Lt(n)):r!=null?Qu(t,g,Lt(r)):l!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Lt(_):t.removeAttribute("name")}function fm(t,n,r,l,c,d,g,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;r=r!=null?""+Lt(r):"",n=n!=null?""+Lt(n):r,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Qu(t,n,r){n==="number"&&xl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function xs(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Lt(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function dm(t,n,r){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Lt(r):""}function hm(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if($(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Lt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Ds(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var W0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mm(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||W0.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function pm(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&mm(t,c,l)}else for(var d in n)n.hasOwnProperty(d)&&mm(t,d,n[d])}function Ku(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dl(t){return $0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Wu=null;function Xu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Is=null,Ms=null;function gm(t){var n=As(t);if(n&&(t=n.stateNode)){var r=t[Tt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Yu(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ut(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[Tt]||null;if(!c)throw Error(a(90));Yu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&cm(l)}break e;case"textarea":dm(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&xs(t,!!r.multiple,n,!1)}}}var $u=!1;function _m(t,n,r){if($u)return t(n,r);$u=!0;try{var l=t(n);return l}finally{if($u=!1,(Is!==null||Ms!==null)&&(po(),Is&&(n=Is,t=Ms,Ms=Is=null,gm(n),t)))for(n=0;n<t.length;n++)gm(t[n])}}function Pr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Tt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Zu=!1;if(Tn)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{Zu=!1}var ii=null,Ju=null,Il=null;function vm(){if(Il)return Il;var t,n=Ju,r=n.length,l,c="value"in ii?ii.value:ii.textContent,d=c.length;for(t=0;t<r&&n[t]===c[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===c[d-l];l++);return Il=c.slice(t,1<l?1-l:void 0)}function Ml(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kl(){return!0}function ym(){return!1}function Ct(t){function n(r,l,c,d,g){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(r=t[_],this[_]=r?r(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?kl:ym,this.isPropagationStopped=ym,this}return ie(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=Ct(Yi),Hr=ie({},Yi,{view:0,detail:0}),Z0=Ct(Hr),ec,tc,Br,Ul=ie({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(ec=t.screenX-Br.screenX,tc=t.screenY-Br.screenY):tc=ec=0,Br=t),ec)},movementY:function(t){return"movementY"in t?t.movementY:tc}}),Em=Ct(Ul),J0=ie({},Ul,{dataTransfer:0}),eS=Ct(J0),tS=ie({},Hr,{relatedTarget:0}),nc=Ct(tS),nS=ie({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),iS=Ct(nS),sS=ie({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rS=Ct(sS),aS=ie({},Yi,{data:0}),Sm=Ct(aS),lS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=uS[t])?!!n[t]:!1}function ic(){return cS}var fS=ie({},Hr,{key:function(t){if(t.key){var n=lS[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ml(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(t){return t.type==="keypress"?Ml(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ml(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dS=Ct(fS),hS=ie({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bm=Ct(hS),mS=ie({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),pS=Ct(mS),gS=ie({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),_S=Ct(gS),vS=ie({},Ul,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yS=Ct(vS),ES=ie({},Yi,{newState:0,oldState:0}),SS=Ct(ES),bS=[9,13,27,32],sc=Tn&&"CompositionEvent"in window,qr=null;Tn&&"documentMode"in document&&(qr=document.documentMode);var TS=Tn&&"TextEvent"in window&&!qr,Tm=Tn&&(!sc||qr&&8<qr&&11>=qr),Cm=" ",wm=!1;function Rm(t,n){switch(t){case"keyup":return bS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ks=!1;function CS(t,n){switch(t){case"compositionend":return Am(n);case"keypress":return n.which!==32?null:(wm=!0,Cm);case"textInput":return t=n.data,t===Cm&&wm?null:t;default:return null}}function wS(t,n){if(ks)return t==="compositionend"||!sc&&Rm(t,n)?(t=vm(),Il=Ju=ii=null,ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Tm&&n.locale!=="ko"?null:n.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!RS[t.type]:n==="textarea"}function Om(t,n,r,l){Is?Ms?Ms.push(l):Ms=[l]:Is=l,n=Eo(n,"onChange"),0<n.length&&(r=new Ll("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Vr=null,Gr=null;function AS(t){t_(t,0)}function jl(t){var n=jr(t);if(cm(n))return t}function xm(t,n){if(t==="change")return n}var Dm=!1;if(Tn){var rc;if(Tn){var ac="oninput"in document;if(!ac){var Im=document.createElement("div");Im.setAttribute("oninput","return;"),ac=typeof Im.oninput=="function"}rc=ac}else rc=!1;Dm=rc&&(!document.documentMode||9<document.documentMode)}function Mm(){Vr&&(Vr.detachEvent("onpropertychange",km),Gr=Vr=null)}function km(t){if(t.propertyName==="value"&&jl(Gr)){var n=[];Om(n,Gr,t,Xu(t)),_m(AS,n)}}function NS(t,n,r){t==="focusin"?(Mm(),Vr=n,Gr=r,Vr.attachEvent("onpropertychange",km)):t==="focusout"&&Mm()}function OS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jl(Gr)}function xS(t,n){if(t==="click")return jl(n)}function DS(t,n){if(t==="input"||t==="change")return jl(n)}function IS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ot=typeof Object.is=="function"?Object.is:IS;function Fr(t,n){if(Ot(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Hu.call(n,c)||!Ot(t[c],n[c]))return!1}return!0}function Lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Um(t,n){var r=Lm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lm(r)}}function jm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?jm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xl(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=xl(t.document)}return n}function lc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function MS(t,n){var r=Pm(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&jm(n.ownerDocument.documentElement,n)){if(l!==null&&lc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,d=Math.min(l.start,c);l=l.end===void 0?d:Math.min(l.end,c),!r.extend&&d>l&&(c=l,l=d,d=c),c=Um(n,d);var g=Um(n,l);c&&g&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==g.node||r.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),d>l?(r.addRange(t),r.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var kS=Tn&&"documentMode"in document&&11>=document.documentMode,Ls=null,oc=null,Yr=null,uc=!1;function zm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uc||Ls==null||Ls!==xl(l)||(l=Ls,"selectionStart"in l&&lc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yr&&Fr(Yr,l)||(Yr=l,l=Eo(oc,"onSelect"),0<l.length&&(n=new Ll("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ls)))}function Qi(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Us={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},cc={},Hm={};Tn&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Ki(t){if(cc[t])return cc[t];if(!Us[t])return t;var n=Us[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Hm)return cc[t]=n[r];return t}var Bm=Ki("animationend"),qm=Ki("animationiteration"),Vm=Ki("animationstart"),LS=Ki("transitionrun"),US=Ki("transitionstart"),jS=Ki("transitioncancel"),Gm=Ki("transitionend"),Fm=new Map,Ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Xt(t,n){Fm.set(t,n),Fi(n,[t])}var jt=[],js=0,fc=0;function Pl(){for(var t=js,n=fc=js=0;n<t;){var r=jt[n];jt[n++]=null;var l=jt[n];jt[n++]=null;var c=jt[n];jt[n++]=null;var d=jt[n];if(jt[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}d!==0&&Qm(r,c,d)}}function zl(t,n,r,l){jt[js++]=t,jt[js++]=n,jt[js++]=r,jt[js++]=l,fc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function dc(t,n,r,l){return zl(t,n,r,l),Hl(t)}function si(t,n){return zl(t,null,null,n),Hl(t)}function Qm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;c&&n!==null&&t.tag===3&&(d=t.stateNode,c=31-Nt(r),d=d.hiddenUpdates,t=d[c],t===null?d[c]=[n]:t.push(n),n.lane=r|536870912)}function Hl(t){if(50<_a)throw _a=0,yf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ps={},Km=new WeakMap;function Pt(t,n){if(typeof t=="object"&&t!==null){var r=Km.get(t);return r!==void 0?r:(n={value:t,source:n,stack:re(n)},Km.set(t,n),n)}return{value:t,source:n,stack:re(n)}}var zs=[],Hs=0,Bl=null,ql=0,zt=[],Ht=0,Wi=null,wn=1,Rn="";function Xi(t,n){zs[Hs++]=ql,zs[Hs++]=Bl,Bl=t,ql=n}function Wm(t,n,r){zt[Ht++]=wn,zt[Ht++]=Rn,zt[Ht++]=Wi,Wi=t;var l=wn;t=Rn;var c=32-Nt(l)-1;l&=~(1<<c),r+=1;var d=32-Nt(n)+c;if(30<d){var g=c-c%5;d=(l&(1<<g)-1).toString(32),l>>=g,c-=g,wn=1<<32-Nt(n)+c|r<<c|l,Rn=d+t}else wn=1<<d|r<<c|l,Rn=t}function hc(t){t.return!==null&&(Xi(t,1),Wm(t,1,0))}function mc(t){for(;t===Bl;)Bl=zs[--Hs],zs[Hs]=null,ql=zs[--Hs],zs[Hs]=null;for(;t===Wi;)Wi=zt[--Ht],zt[Ht]=null,Rn=zt[--Ht],zt[Ht]=null,wn=zt[--Ht],zt[Ht]=null}var gt=null,at=null,ye=!1,$t=null,fn=!1,pc=Error(a(519));function $i(t){var n=Error(a(418,""));throw Wr(Pt(n,t)),pc}function Xm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ft]=t,n[Tt]=l,r){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(r=0;r<ya.length;r++)ge(ya[r],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":ge("invalid",n),fm(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ol(n);break;case"select":ge("invalid",n);break;case"textarea":ge("invalid",n),hm(n,l.value,l.defaultValue,l.children),Ol(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||r_(n.textContent,r)?(l.popover!=null&&(ge("beforetoggle",n),ge("toggle",n)),l.onScroll!=null&&ge("scroll",n),l.onScrollEnd!=null&&ge("scrollend",n),l.onClick!=null&&(n.onclick=So),n=!0):n=!1,n||$i(t)}function $m(t){for(gt=t.return;gt;)switch(gt.tag){case 3:case 27:fn=!0;return;case 5:case 13:fn=!1;return;default:gt=gt.return}}function Qr(t){if(t!==gt)return!1;if(!ye)return $m(t),ye=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Uf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&at&&$i(t),$m(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){at=Jt(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}at=null}}else at=gt?Jt(t.stateNode.nextSibling):null;return!0}function Kr(){at=gt=null,ye=!1}function Wr(t){$t===null?$t=[t]:$t.push(t)}var Xr=Error(a(460)),Zm=Error(a(474)),gc={then:function(){}};function Jm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vl(){}function ep(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Vl,Vl),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Xr?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Vl,Vl);else{if(t=xe,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Xr?Error(a(483)):t}throw $r=n,Xr}}var $r=null;function tp(){if($r===null)throw Error(a(459));var t=$r;return $r=null,t}var Bs=null,Zr=0;function Gl(t){var n=Zr;return Zr+=1,Bs===null&&(Bs=[]),ep(Bs,t,n)}function Jr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fl(t,n){throw n.$$typeof===u?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function np(t){var n=t._init;return n(t._payload)}function ip(t){function n(R,C){if(t){var x=R.deletions;x===null?(R.deletions=[C],R.flags|=16):x.push(C)}}function r(R,C){if(!t)return null;for(;C!==null;)n(R,C),C=C.sibling;return null}function l(R){for(var C=new Map;R!==null;)R.key!==null?C.set(R.key,R):C.set(R.index,R),R=R.sibling;return C}function c(R,C){return R=gi(R,C),R.index=0,R.sibling=null,R}function d(R,C,x){return R.index=x,t?(x=R.alternate,x!==null?(x=x.index,x<C?(R.flags|=33554434,C):x):(R.flags|=33554434,C)):(R.flags|=1048576,C)}function g(R){return t&&R.alternate===null&&(R.flags|=33554434),R}function _(R,C,x,k){return C===null||C.tag!==6?(C=ff(x,R.mode,k),C.return=R,C):(C=c(C,x),C.return=R,C)}function b(R,C,x,k){var Q=x.type;return Q===h?M(R,C,x.props.children,k,x.key):C!==null&&(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Y&&np(Q)===C.type)?(C=c(C,x.props),Jr(C,x),C.return=R,C):(C=uo(x.type,x.key,x.props,null,R.mode,k),Jr(C,x),C.return=R,C)}function w(R,C,x,k){return C===null||C.tag!==4||C.stateNode.containerInfo!==x.containerInfo||C.stateNode.implementation!==x.implementation?(C=df(x,R.mode,k),C.return=R,C):(C=c(C,x.children||[]),C.return=R,C)}function M(R,C,x,k,Q){return C===null||C.tag!==7?(C=ls(x,R.mode,k,Q),C.return=R,C):(C=c(C,x),C.return=R,C)}function L(R,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=ff(""+C,R.mode,x),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case f:return x=uo(C.type,C.key,C.props,null,R.mode,x),Jr(x,C),x.return=R,x;case m:return C=df(C,R.mode,x),C.return=R,C;case Y:var k=C._init;return C=k(C._payload),L(R,C,x)}if($(C)||G(C))return C=ls(C,R.mode,x,null),C.return=R,C;if(typeof C.then=="function")return L(R,Gl(C),x);if(C.$$typeof===N)return L(R,ao(R,C),x);Fl(R,C)}return null}function D(R,C,x,k){var Q=C!==null?C.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return Q!==null?null:_(R,C,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case f:return x.key===Q?b(R,C,x,k):null;case m:return x.key===Q?w(R,C,x,k):null;case Y:return Q=x._init,x=Q(x._payload),D(R,C,x,k)}if($(x)||G(x))return Q!==null?null:M(R,C,x,k,null);if(typeof x.then=="function")return D(R,C,Gl(x),k);if(x.$$typeof===N)return D(R,C,ao(R,x),k);Fl(R,x)}return null}function I(R,C,x,k,Q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return R=R.get(x)||null,_(C,R,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case f:return R=R.get(k.key===null?x:k.key)||null,b(C,R,k,Q);case m:return R=R.get(k.key===null?x:k.key)||null,w(C,R,k,Q);case Y:var ce=k._init;return k=ce(k._payload),I(R,C,x,k,Q)}if($(k)||G(k))return R=R.get(x)||null,M(C,R,k,Q,null);if(typeof k.then=="function")return I(R,C,x,Gl(k),Q);if(k.$$typeof===N)return I(R,C,x,ao(C,k),Q);Fl(C,k)}return null}function K(R,C,x,k){for(var Q=null,ce=null,W=C,Z=C=0,nt=null;W!==null&&Z<x.length;Z++){W.index>Z?(nt=W,W=null):nt=W.sibling;var Ee=D(R,W,x[Z],k);if(Ee===null){W===null&&(W=nt);break}t&&W&&Ee.alternate===null&&n(R,W),C=d(Ee,C,Z),ce===null?Q=Ee:ce.sibling=Ee,ce=Ee,W=nt}if(Z===x.length)return r(R,W),ye&&Xi(R,Z),Q;if(W===null){for(;Z<x.length;Z++)W=L(R,x[Z],k),W!==null&&(C=d(W,C,Z),ce===null?Q=W:ce.sibling=W,ce=W);return ye&&Xi(R,Z),Q}for(W=l(W);Z<x.length;Z++)nt=I(W,R,Z,x[Z],k),nt!==null&&(t&&nt.alternate!==null&&W.delete(nt.key===null?Z:nt.key),C=d(nt,C,Z),ce===null?Q=nt:ce.sibling=nt,ce=nt);return t&&W.forEach(function(Ti){return n(R,Ti)}),ye&&Xi(R,Z),Q}function se(R,C,x,k){if(x==null)throw Error(a(151));for(var Q=null,ce=null,W=C,Z=C=0,nt=null,Ee=x.next();W!==null&&!Ee.done;Z++,Ee=x.next()){W.index>Z?(nt=W,W=null):nt=W.sibling;var Ti=D(R,W,Ee.value,k);if(Ti===null){W===null&&(W=nt);break}t&&W&&Ti.alternate===null&&n(R,W),C=d(Ti,C,Z),ce===null?Q=Ti:ce.sibling=Ti,ce=Ti,W=nt}if(Ee.done)return r(R,W),ye&&Xi(R,Z),Q;if(W===null){for(;!Ee.done;Z++,Ee=x.next())Ee=L(R,Ee.value,k),Ee!==null&&(C=d(Ee,C,Z),ce===null?Q=Ee:ce.sibling=Ee,ce=Ee);return ye&&Xi(R,Z),Q}for(W=l(W);!Ee.done;Z++,Ee=x.next())Ee=I(W,R,Z,Ee.value,k),Ee!==null&&(t&&Ee.alternate!==null&&W.delete(Ee.key===null?Z:Ee.key),C=d(Ee,C,Z),ce===null?Q=Ee:ce.sibling=Ee,ce=Ee);return t&&W.forEach(function($b){return n(R,$b)}),ye&&Xi(R,Z),Q}function Be(R,C,x,k){if(typeof x=="object"&&x!==null&&x.type===h&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case f:e:{for(var Q=x.key;C!==null;){if(C.key===Q){if(Q=x.type,Q===h){if(C.tag===7){r(R,C.sibling),k=c(C,x.props.children),k.return=R,R=k;break e}}else if(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Y&&np(Q)===C.type){r(R,C.sibling),k=c(C,x.props),Jr(k,x),k.return=R,R=k;break e}r(R,C);break}else n(R,C);C=C.sibling}x.type===h?(k=ls(x.props.children,R.mode,k,x.key),k.return=R,R=k):(k=uo(x.type,x.key,x.props,null,R.mode,k),Jr(k,x),k.return=R,R=k)}return g(R);case m:e:{for(Q=x.key;C!==null;){if(C.key===Q)if(C.tag===4&&C.stateNode.containerInfo===x.containerInfo&&C.stateNode.implementation===x.implementation){r(R,C.sibling),k=c(C,x.children||[]),k.return=R,R=k;break e}else{r(R,C);break}else n(R,C);C=C.sibling}k=df(x,R.mode,k),k.return=R,R=k}return g(R);case Y:return Q=x._init,x=Q(x._payload),Be(R,C,x,k)}if($(x))return K(R,C,x,k);if(G(x)){if(Q=G(x),typeof Q!="function")throw Error(a(150));return x=Q.call(x),se(R,C,x,k)}if(typeof x.then=="function")return Be(R,C,Gl(x),k);if(x.$$typeof===N)return Be(R,C,ao(R,x),k);Fl(R,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,C!==null&&C.tag===6?(r(R,C.sibling),k=c(C,x),k.return=R,R=k):(r(R,C),k=ff(x,R.mode,k),k.return=R,R=k),g(R)):r(R,C)}return function(R,C,x,k){try{Zr=0;var Q=Be(R,C,x,k);return Bs=null,Q}catch(W){if(W===Xr)throw W;var ce=Gt(29,W,null,R.mode);return ce.lanes=k,ce.return=R,ce}finally{}}}var Zi=ip(!0),sp=ip(!1),qs=Te(null),Yl=Te(0);function rp(t,n){t=jn,ke(Yl,t),ke(qs,n),jn=t|n.baseLanes}function _c(){ke(Yl,jn),ke(qs,qs.current)}function vc(){jn=Yl.current,Ge(qs),Ge(Yl)}var Bt=Te(null),dn=null;function ri(t){var n=t.alternate;ke(We,We.current&1),ke(Bt,t),dn===null&&(n===null||qs.current!==null||n.memoizedState!==null)&&(dn=t)}function ap(t){if(t.tag===22){if(ke(We,We.current),ke(Bt,t),dn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(dn=t)}}else ai()}function ai(){ke(We,We.current),ke(Bt,Bt.current)}function An(t){Ge(Bt),dn===t&&(dn=null),Ge(We)}var We=Te(0);function Ql(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var PS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},zS=s.unstable_scheduleCallback,HS=s.unstable_NormalPriority,Xe={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yc(){return{controller:new PS,data:new Map,refCount:0}}function ea(t){t.refCount--,t.refCount===0&&zS(HS,function(){t.controller.abort()})}var ta=null,Ec=0,Vs=0,Gs=null;function BS(t,n){if(ta===null){var r=ta=[];Ec=0,Vs=Af(),Gs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Ec++,n.then(lp,lp),n}function lp(){if(--Ec===0&&ta!==null){Gs!==null&&(Gs.status="fulfilled");var t=ta;ta=null,Vs=0,Gs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function qS(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var op=B.S;B.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&BS(t,n),op!==null&&op(t,n)};var Ji=Te(null);function Sc(){var t=Ji.current;return t!==null?t:xe.pooledCache}function Kl(t,n){n===null?ke(Ji,Ji.current):ke(Ji,n.pool)}function up(){var t=Sc();return t===null?null:{parent:Xe._currentValue,pool:t}}var li=0,ue=null,we=null,Fe=null,Wl=!1,Fs=!1,es=!1,Xl=0,na=0,Ys=null,VS=0;function Ve(){throw Error(a(321))}function bc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Ot(t[r],n[r]))return!1;return!0}function Tc(t,n,r,l,c,d){return li=d,ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?ts:oi,es=!1,d=r(l,c),es=!1,Fs&&(d=fp(n,r,l,c)),cp(t),d}function cp(t){B.H=hn;var n=we!==null&&we.next!==null;if(li=0,Fe=we=ue=null,Wl=!1,na=0,Ys=null,n)throw Error(a(300));t===null||et||(t=t.dependencies,t!==null&&ro(t)&&(et=!0))}function fp(t,n,r,l){ue=t;var c=0;do{if(Fs&&(Ys=null),na=0,Fs=!1,25<=c)throw Error(a(301));if(c+=1,Fe=we=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=ns,d=n(r,l)}while(Fs);return d}function GS(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?ia(n):n,t=t.useState()[0],(we!==null?we.memoizedState:null)!==t&&(ue.flags|=1024),n}function Cc(){var t=Xl!==0;return Xl=0,t}function wc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Rc(t){if(Wl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wl=!1}li=0,Fe=we=ue=null,Fs=!1,na=Xl=0,Ys=null}function wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ue.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Ye(){if(we===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var n=Fe===null?ue.memoizedState:Fe.next;if(n!==null)Fe=n,we=t;else{if(t===null)throw ue.alternate===null?Error(a(467)):Error(a(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Fe===null?ue.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}var $l;$l=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ia(t){var n=na;return na+=1,Ys===null&&(Ys=[]),t=ep(Ys,t,n),n=ue,(Fe===null?n.memoizedState:Fe.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?ts:oi),t}function Zl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ia(t);if(t.$$typeof===N)return dt(t)}throw Error(a(438,String(t)))}function Ac(t){var n=null,r=ue.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=ue.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=$l(),ue.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=me;return n.index++,r}function Nn(t,n){return typeof n=="function"?n(t):n}function Jl(t){var n=Ye();return Nc(n,we,t)}function Nc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,d=l.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}n.baseQueue=c=d,l.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{n=c.next;var _=g=null,b=null,w=n,M=!1;do{var L=w.lane&-536870913;if(L!==w.lane?(ve&L)===L:(li&L)===L){var D=w.revertLane;if(D===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),L===Vs&&(M=!0);else if((li&D)===D){w=w.next,D===Vs&&(M=!0);continue}else L={lane:0,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},b===null?(_=b=L,g=d):b=b.next=L,ue.lanes|=D,_i|=D;L=w.action,es&&r(d,L),d=w.hasEagerState?w.eagerState:r(d,L)}else D={lane:L,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},b===null?(_=b=D,g=d):b=b.next=D,ue.lanes|=L,_i|=L;w=w.next}while(w!==null&&w!==n);if(b===null?g=d:b.next=_,!Ot(d,t.memoizedState)&&(et=!0,M&&(r=Gs,r!==null)))throw r;t.memoizedState=d,t.baseState=g,t.baseQueue=b,l.lastRenderedState=d}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Oc(t){var n=Ye(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,d=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);Ot(d,n.memoizedState)||(et=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function dp(t,n,r){var l=ue,c=Ye(),d=ye;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Ot((we||c).memoizedState,r);if(g&&(c.memoizedState=r,et=!0),c=c.queue,Ic(pp.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Fe!==null&&Fe.memoizedState.tag&1){if(l.flags|=2048,Qs(9,mp.bind(null,l,c,r,n),{destroy:void 0},null),xe===null)throw Error(a(349));d||(li&60)!==0||hp(l,n,r)}return r}function hp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=ue.updateQueue,n===null?(n=$l(),ue.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function mp(t,n,r,l){n.value=r,n.getSnapshot=l,gp(n)&&_p(t)}function pp(t,n,r){return r(function(){gp(n)&&_p(t)})}function gp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Ot(t,r)}catch{return!0}}function _p(t){var n=si(t,2);n!==null&&_t(n,t,2)}function xc(t){var n=wt();if(typeof t=="function"){var r=t;if(t=r(),es){ti(!0);try{r()}finally{ti(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:t},n}function vp(t,n,r,l){return t.baseState=r,Nc(t,we,typeof l=="function"?l:Nn)}function FS(t,n,r,l,c){if(no(t))throw Error(a(485));if(t=n.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};B.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,yp(n,d)):(d.next=r.next,n.pending=r.next=d)}}function yp(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var d=B.T,g={};B.T=g;try{var _=r(c,l),b=B.S;b!==null&&b(g,_),Ep(t,n,_)}catch(w){Dc(t,n,w)}finally{B.T=d}}else try{d=r(c,l),Ep(t,n,d)}catch(w){Dc(t,n,w)}}function Ep(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Sp(t,n,l)},function(l){return Dc(t,n,l)}):Sp(t,n,r)}function Sp(t,n,r){n.status="fulfilled",n.value=r,bp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,yp(t,r)))}function Dc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,bp(n),n=n.next;while(n!==l)}t.action=null}function bp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Tp(t,n){return n}function Cp(t,n){if(ye){var r=xe.formState;if(r!==null){e:{var l=ue;if(ye){if(at){t:{for(var c=at,d=fn;c.nodeType!==8;){if(!d){c=null;break t}if(c=Jt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){at=Jt(c.nextSibling),l=c.data==="F!";break e}}$i(l)}l=!1}l&&(n=r[0])}}return r=wt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:n},r.queue=l,r=qp.bind(null,ue,l),l.dispatch=r,l=xc(!1),d=jc.bind(null,ue,!1,l.queue),l=wt(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=FS.bind(null,ue,c,d,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function wp(t){var n=Ye();return Rp(n,we,t)}function Rp(t,n,r){n=Nc(t,n,Tp)[0],t=Jl(Nn)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?ia(n):n;var l=Ye(),c=l.queue,d=c.dispatch;return r!==l.memoizedState&&(ue.flags|=2048,Qs(9,YS.bind(null,c,r),{destroy:void 0},null)),[n,d,t]}function YS(t,n){t.action=n}function Ap(t){var n=Ye(),r=we;if(r!==null)return Rp(n,r,t);Ye(),n=n.memoizedState,r=Ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Qs(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=ue.updateQueue,n===null&&(n=$l(),ue.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Np(){return Ye().memoizedState}function eo(t,n,r,l){var c=wt();ue.flags|=t,c.memoizedState=Qs(1|n,r,{destroy:void 0},l===void 0?null:l)}function to(t,n,r,l){var c=Ye();l=l===void 0?null:l;var d=c.memoizedState.inst;we!==null&&l!==null&&bc(l,we.memoizedState.deps)?c.memoizedState=Qs(n,r,d,l):(ue.flags|=t,c.memoizedState=Qs(1|n,r,d,l))}function Op(t,n){eo(8390656,8,t,n)}function Ic(t,n){to(2048,8,t,n)}function xp(t,n){return to(4,2,t,n)}function Dp(t,n){return to(4,4,t,n)}function Ip(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Mp(t,n,r){r=r!=null?r.concat([t]):null,to(4,4,Ip.bind(null,n,t),r)}function Mc(){}function kp(t,n){var r=Ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&bc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Lp(t,n){var r=Ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&bc(n,l[1]))return l[0];if(l=t(),es){ti(!0);try{t()}finally{ti(!1)}}return r.memoizedState=[l,n],l}function kc(t,n,r){return r===void 0||(li&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=jg(),ue.lanes|=t,_i|=t,r)}function Up(t,n,r,l){return Ot(r,n)?r:qs.current!==null?(t=kc(t,r,l),Ot(t,n)||(et=!0),t):(li&42)===0?(et=!0,t.memoizedState=r):(t=jg(),ue.lanes|=t,_i|=t,n)}function jp(t,n,r,l,c){var d=F.p;F.p=d!==0&&8>d?d:8;var g=B.T,_={};B.T=_,jc(t,!1,n,r);try{var b=c(),w=B.S;if(w!==null&&w(_,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var M=qS(b,l);sa(t,n,M,Mt(t))}else sa(t,n,l,Mt(t))}catch(L){sa(t,n,{then:function(){},status:"rejected",reason:L},Mt())}finally{F.p=d,B.T=g}}function QS(){}function Lc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Pp(t).queue;jp(t,c,n,_e,r===null?QS:function(){return zp(t),r(l)})}function Pp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:_e},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function zp(t){var n=Pp(t).next.queue;sa(t,n,{},Mt())}function Uc(){return dt(Ca)}function Hp(){return Ye().memoizedState}function Bp(){return Ye().memoizedState}function KS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Mt();t=fi(r);var l=di(n,t,r);l!==null&&(_t(l,n,r),la(l,n,r)),n={cache:yc()},t.payload=n;return}n=n.return}}function WS(t,n,r){var l=Mt();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},no(t)?Vp(n,r):(r=dc(t,n,r,l),r!==null&&(_t(r,t,l),Gp(r,n,l)))}function qp(t,n,r){var l=Mt();sa(t,n,r,l)}function sa(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(no(t))Vp(n,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,_=d(g,r);if(c.hasEagerState=!0,c.eagerState=_,Ot(_,g))return zl(t,n,c,0),xe===null&&Pl(),!1}catch{}finally{}if(r=dc(t,n,c,l),r!==null)return _t(r,t,l),Gp(r,n,l),!0}return!1}function jc(t,n,r,l){if(l={lane:2,revertLane:Af(),action:l,hasEagerState:!1,eagerState:null,next:null},no(t)){if(n)throw Error(a(479))}else n=dc(t,r,l,2),n!==null&&_t(n,t,2)}function no(t){var n=t.alternate;return t===ue||n!==null&&n===ue}function Vp(t,n){Fs=Wl=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Gp(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,tm(t,r)}}var hn={readContext:dt,use:Zl,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve};hn.useCacheRefresh=Ve,hn.useMemoCache=Ve,hn.useHostTransitionStatus=Ve,hn.useFormState=Ve,hn.useActionState=Ve,hn.useOptimistic=Ve;var ts={readContext:dt,use:Zl,useCallback:function(t,n){return wt().memoizedState=[t,n===void 0?null:n],t},useContext:dt,useEffect:Op,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,eo(4194308,4,Ip.bind(null,n,t),r)},useLayoutEffect:function(t,n){return eo(4194308,4,t,n)},useInsertionEffect:function(t,n){eo(4,2,t,n)},useMemo:function(t,n){var r=wt();n=n===void 0?null:n;var l=t();if(es){ti(!0);try{t()}finally{ti(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=wt();if(r!==void 0){var c=r(n);if(es){ti(!0);try{r(n)}finally{ti(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=WS.bind(null,ue,t),[l.memoizedState,t]},useRef:function(t){var n=wt();return t={current:t},n.memoizedState=t},useState:function(t){t=xc(t);var n=t.queue,r=qp.bind(null,ue,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Mc,useDeferredValue:function(t,n){var r=wt();return kc(r,t,n)},useTransition:function(){var t=xc(!1);return t=jp.bind(null,ue,t.queue,!0,!1),wt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=ue,c=wt();if(ye){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),xe===null)throw Error(a(349));(ve&60)!==0||hp(l,n,r)}c.memoizedState=r;var d={value:r,getSnapshot:n};return c.queue=d,Op(pp.bind(null,l,d,t),[t]),l.flags|=2048,Qs(9,mp.bind(null,l,d,r,n),{destroy:void 0},null),r},useId:function(){var t=wt(),n=xe.identifierPrefix;if(ye){var r=Rn,l=wn;r=(l&~(1<<32-Nt(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Xl++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=VS++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return wt().memoizedState=KS.bind(null,ue)}};ts.useMemoCache=Ac,ts.useHostTransitionStatus=Uc,ts.useFormState=Cp,ts.useActionState=Cp,ts.useOptimistic=function(t){var n=wt();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jc.bind(null,ue,!0,r),r.dispatch=n,[t,n]};var oi={readContext:dt,use:Zl,useCallback:kp,useContext:dt,useEffect:Ic,useImperativeHandle:Mp,useInsertionEffect:xp,useLayoutEffect:Dp,useMemo:Lp,useReducer:Jl,useRef:Np,useState:function(){return Jl(Nn)},useDebugValue:Mc,useDeferredValue:function(t,n){var r=Ye();return Up(r,we.memoizedState,t,n)},useTransition:function(){var t=Jl(Nn)[0],n=Ye().memoizedState;return[typeof t=="boolean"?t:ia(t),n]},useSyncExternalStore:dp,useId:Hp};oi.useCacheRefresh=Bp,oi.useMemoCache=Ac,oi.useHostTransitionStatus=Uc,oi.useFormState=wp,oi.useActionState=wp,oi.useOptimistic=function(t,n){var r=Ye();return vp(r,we,t,n)};var ns={readContext:dt,use:Zl,useCallback:kp,useContext:dt,useEffect:Ic,useImperativeHandle:Mp,useInsertionEffect:xp,useLayoutEffect:Dp,useMemo:Lp,useReducer:Oc,useRef:Np,useState:function(){return Oc(Nn)},useDebugValue:Mc,useDeferredValue:function(t,n){var r=Ye();return we===null?kc(r,t,n):Up(r,we.memoizedState,t,n)},useTransition:function(){var t=Oc(Nn)[0],n=Ye().memoizedState;return[typeof t=="boolean"?t:ia(t),n]},useSyncExternalStore:dp,useId:Hp};ns.useCacheRefresh=Bp,ns.useMemoCache=Ac,ns.useHostTransitionStatus=Uc,ns.useFormState=Ap,ns.useActionState=Ap,ns.useOptimistic=function(t,n){var r=Ye();return we!==null?vp(r,we,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Pc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:ie({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zc={isMounted:function(t){return(t=t._reactInternals)?te(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Mt(),c=fi(l);c.payload=n,r!=null&&(c.callback=r),n=di(t,c,l),n!==null&&(_t(n,t,l),la(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Mt(),c=fi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=di(t,c,l),n!==null&&(_t(n,t,l),la(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Mt(),l=fi(r);l.tag=2,n!=null&&(l.callback=n),n=di(t,l,r),n!==null&&(_t(n,t,r),la(n,t,r))}};function Fp(t,n,r,l,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,g):n.prototype&&n.prototype.isPureReactComponent?!Fr(r,l)||!Fr(c,d):!0}function Yp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&zc.enqueueReplaceState(n,n.state,null)}function is(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=ie({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var io=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Qp(t){io(t)}function Kp(t){console.error(t)}function Wp(t){io(t)}function so(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Xp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Hc(t,n,r){return r=fi(r),r.tag=3,r.payload={element:null},r.callback=function(){so(t,n)},r}function $p(t){return t=fi(t),t.tag=3,t}function Zp(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;t.payload=function(){return c(d)},t.callback=function(){Xp(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Xp(n,r,l),typeof c!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function XS(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&aa(n,r,c,!0),r=Bt.current,r!==null){switch(r.tag){case 13:return dn===null?bf():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===gc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Cf(t,l,c)),!1;case 22:return r.flags|=65536,l===gc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Cf(t,l,c)),!1}throw Error(a(435,r.tag))}return Cf(t,l,c),bf(),!1}if(ye)return n=Bt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==pc&&(t=Error(a(422),{cause:l}),Wr(Pt(t,r)))):(l!==pc&&(n=Error(a(423),{cause:l}),Wr(Pt(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Pt(l,r),c=Hc(t.stateNode,l,c),tf(t,c),He!==4&&(He=2)),!1;var d=Error(a(520),{cause:l});if(d=Pt(d,r),pa===null?pa=[d]:pa.push(d),He!==4&&(He=2),n===null)return!0;l=Pt(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Hc(r.stateNode,l,t),tf(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(vi===null||!vi.has(d))))return r.flags|=65536,c&=-c,r.lanes|=c,c=$p(c),Zp(c,t,r,l),tf(r,c),!1}r=r.return}while(r!==null);return!1}var Jp=Error(a(461)),et=!1;function lt(t,n,r,l){n.child=t===null?sp(n,null,r,l):Zi(n,t.child,r,l)}function eg(t,n,r,l,c){r=r.render;var d=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return rs(n),l=Tc(t,n,r,g,d,c),_=Cc(),t!==null&&!et?(wc(t,n,c),On(t,n,c)):(ye&&_&&hc(n),n.flags|=1,lt(t,n,l,c),n.child)}function tg(t,n,r,l,c){if(t===null){var d=r.type;return typeof d=="function"&&!cf(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,ng(t,n,d,l,c)):(t=uo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Wc(t,c)){var g=d.memoizedProps;if(r=r.compare,r=r!==null?r:Fr,r(g,l)&&t.ref===n.ref)return On(t,n,c)}return n.flags|=1,t=gi(d,l),t.ref=n.ref,t.return=n,n.child=t}function ng(t,n,r,l,c){if(t!==null){var d=t.memoizedProps;if(Fr(d,l)&&t.ref===n.ref)if(et=!1,n.pendingProps=l=d,Wc(t,c))(t.flags&131072)!==0&&(et=!0);else return n.lanes=t.lanes,On(t,n,c)}return Bc(t,n,r,l,c)}function ig(t,n,r){var l=n.pendingProps,c=l.children,d=(n.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(ra(t,n),l.mode==="hidden"||d){if((n.flags&128)!==0){if(l=g!==null?g.baseLanes|r:r,t!==null){for(c=n.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return sg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Kl(n,g!==null?g.cachePool:null),g!==null?rp(n,g):_c(),ap(n);else return n.lanes=n.childLanes=536870912,sg(t,n,g!==null?g.baseLanes|r:r,r)}else g!==null?(Kl(n,g.cachePool),rp(n,g),ai(),n.memoizedState=null):(t!==null&&Kl(n,null),_c(),ai());return lt(t,n,c,r),n.child}function sg(t,n,r,l){var c=Sc();return c=c===null?null:{parent:Xe._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Kl(n,null),_c(),ap(n),t!==null&&aa(t,n,l,!0),null}function ra(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Bc(t,n,r,l,c){return rs(n),r=Tc(t,n,r,l,void 0,c),l=Cc(),t!==null&&!et?(wc(t,n,c),On(t,n,c)):(ye&&l&&hc(n),n.flags|=1,lt(t,n,r,c),n.child)}function rg(t,n,r,l,c,d){return rs(n),n.updateQueue=null,r=fp(n,l,r,c),cp(t),l=Cc(),t!==null&&!et?(wc(t,n,d),On(t,n,d)):(ye&&l&&hc(n),n.flags|=1,lt(t,n,r,d),n.child)}function ag(t,n,r,l,c){if(rs(n),n.stateNode===null){var d=Ps,g=r.contextType;typeof g=="object"&&g!==null&&(d=dt(g)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zc,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Jc(n),g=r.contextType,d.context=typeof g=="object"&&g!==null?dt(g):Ps,d.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Pc(n,r,g,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&zc.enqueueReplaceState(d,d.state,null),ua(n,l,d,c),oa(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var _=n.memoizedProps,b=is(r,_);d.props=b;var w=d.context,M=r.contextType;g=Ps,typeof M=="object"&&M!==null&&(g=dt(M));var L=r.getDerivedStateFromProps;M=typeof L=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,M||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||w!==g)&&Yp(n,d,l,g),ci=!1;var D=n.memoizedState;d.state=D,ua(n,l,d,c),oa(),w=n.memoizedState,_||D!==w||ci?(typeof L=="function"&&(Pc(n,r,L,l),w=n.memoizedState),(b=ci||Fp(n,r,b,l,D,w,g))?(M||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=w),d.props=l,d.state=w,d.context=g,l=b):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,ef(t,n),g=n.memoizedProps,M=is(r,g),d.props=M,L=n.pendingProps,D=d.context,w=r.contextType,b=Ps,typeof w=="object"&&w!==null&&(b=dt(w)),_=r.getDerivedStateFromProps,(w=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==L||D!==b)&&Yp(n,d,l,b),ci=!1,D=n.memoizedState,d.state=D,ua(n,l,d,c),oa();var I=n.memoizedState;g!==L||D!==I||ci||t!==null&&t.dependencies!==null&&ro(t.dependencies)?(typeof _=="function"&&(Pc(n,r,_,l),I=n.memoizedState),(M=ci||Fp(n,r,M,l,D,I,b)||t!==null&&t.dependencies!==null&&ro(t.dependencies))?(w||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,I,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,I,b)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=I),d.props=l,d.state=I,d.context=b,l=M):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,ra(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Zi(n,t.child,null,c),n.child=Zi(n,null,r,c)):lt(t,n,r,c),n.memoizedState=d.state,t=n.child):t=On(t,n,c),t}function lg(t,n,r,l){return Kr(),n.flags|=256,lt(t,n,r,l),n.child}var qc={dehydrated:null,treeContext:null,retryLane:0};function Vc(t){return{baseLanes:t,cachePool:up()}}function Gc(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Ft),t}function og(t,n,r){var l=n.pendingProps,c=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(We.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(ye){if(c?ri(n):ai(),ye){var _=at,b;if(b=_){e:{for(b=_,_=fn;b.nodeType!==8;){if(!_){_=null;break e}if(b=Jt(b.nextSibling),b===null){_=null;break e}}_=b}_!==null?(n.memoizedState={dehydrated:_,treeContext:Wi!==null?{id:wn,overflow:Rn}:null,retryLane:536870912},b=Gt(18,null,null,0),b.stateNode=_,b.return=n,n.child=b,gt=n,at=null,b=!0):b=!1}b||$i(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?n.lanes=16:n.lanes=536870912,null;An(n)}return _=l.children,l=l.fallback,c?(ai(),c=n.mode,_=Yc({mode:"hidden",children:_},c),l=ls(l,c,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,c=n.child,c.memoizedState=Vc(r),c.childLanes=Gc(t,g,r),n.memoizedState=qc,l):(ri(n),Fc(n,_))}if(b=t.memoizedState,b!==null&&(_=b.dehydrated,_!==null)){if(d)n.flags&256?(ri(n),n.flags&=-257,n=Qc(t,n,r)):n.memoizedState!==null?(ai(),n.child=t.child,n.flags|=128,n=null):(ai(),c=l.fallback,_=n.mode,l=Yc({mode:"visible",children:l.children},_),c=ls(c,_,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Zi(n,t.child,null,r),l=n.child,l.memoizedState=Vc(r),l.childLanes=Gc(t,g,r),n.memoizedState=qc,n=c);else if(ri(n),_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var w=g.dgst;g=w,l=Error(a(419)),l.stack="",l.digest=g,Wr({value:l,source:null,stack:null}),n=Qc(t,n,r)}else if(et||aa(t,n,r,!1),g=(r&t.childLanes)!==0,et||g){if(g=xe,g!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(g.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,si(t,l),_t(g,t,l),Jp}_.data==="$?"||bf(),n=Qc(t,n,r)}else _.data==="$?"?(n.flags|=128,n.child=t.child,n=fb.bind(null,t),_._reactRetry=n,n=null):(t=b.treeContext,at=Jt(_.nextSibling),gt=n,ye=!0,$t=null,fn=!1,t!==null&&(zt[Ht++]=wn,zt[Ht++]=Rn,zt[Ht++]=Wi,wn=t.id,Rn=t.overflow,Wi=n),n=Fc(n,l.children),n.flags|=4096);return n}return c?(ai(),c=l.fallback,_=n.mode,b=t.child,w=b.sibling,l=gi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,w!==null?c=gi(w,c):(c=ls(c,_,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,_=t.child.memoizedState,_===null?_=Vc(r):(b=_.cachePool,b!==null?(w=Xe._currentValue,b=b.parent!==w?{parent:w,pool:w}:b):b=up(),_={baseLanes:_.baseLanes|r,cachePool:b}),c.memoizedState=_,c.childLanes=Gc(t,g,r),n.memoizedState=qc,l):(ri(n),r=t.child,t=r.sibling,r=gi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Fc(t,n){return n=Yc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Yc(t,n){return kg(t,n,0,null)}function Qc(t,n,r){return Zi(n,t.child,null,r),t=Fc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ug(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),$c(t.return,n,r)}function Kc(t,n,r,l,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=r,d.tailMode=c)}function cg(t,n,r){var l=n.pendingProps,c=l.revealOrder,d=l.tail;if(lt(t,n,l.children,r),l=We.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ug(t,r,n);else if(t.tag===19)ug(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ke(We,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Ql(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Kc(n,!1,c,r,d);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ql(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Kc(n,!0,r,null,d);break;case"together":Kc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function On(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),_i|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(aa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=gi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=gi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Wc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ro(t)))}function $S(t,n,r){switch(n.tag){case 3:Sl(n,n.stateNode.containerInfo),ui(n,Xe,t.memoizedState.cache),Kr();break;case 27:case 5:zu(n);break;case 4:Sl(n,n.stateNode.containerInfo);break;case 10:ui(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ri(n),n.flags|=128,null):(r&n.child.childLanes)!==0?og(t,n,r):(ri(n),t=On(t,n,r),t!==null?t.sibling:null);ri(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(aa(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return cg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ke(We,We.current),l)break;return null;case 22:case 23:return n.lanes=0,ig(t,n,r);case 24:ui(n,Xe,t.memoizedState.cache)}return On(t,n,r)}function fg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)et=!0;else{if(!Wc(t,r)&&(n.flags&128)===0)return et=!1,$S(t,n,r);et=(t.flags&131072)!==0}else et=!1,ye&&(n.flags&1048576)!==0&&Wm(n,ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")cf(l)?(t=is(l,t),n.tag=1,n=ag(null,n,l,t,r)):(n.tag=0,n=Bc(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===A){n.tag=11,n=eg(null,n,l,t,r);break e}else if(c===U){n.tag=14,n=tg(null,n,l,t,r);break e}}throw n=be(l)||l,Error(a(306,n,""))}}return n;case 0:return Bc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=is(l,n.pendingProps),ag(t,n,l,c,r);case 3:e:{if(Sl(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var d=n.pendingProps;c=n.memoizedState,l=c.element,ef(t,n),ua(n,d,null,r);var g=n.memoizedState;if(d=g.cache,ui(n,Xe,d),d!==c.cache&&Zc(n,[Xe],r,!0),oa(),d=g.element,c.isDehydrated)if(c={element:d,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=lg(t,n,d,r);break e}else if(d!==l){l=Pt(Error(a(424)),n),Wr(l),n=lg(t,n,d,r);break e}else for(at=Jt(n.stateNode.containerInfo.firstChild),gt=n,ye=!0,$t=null,fn=!0,r=sp(n,null,d,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),d===l){n=On(t,n,r);break e}lt(t,n,d,r)}n=n.child}return n;case 26:return ra(t,n),t===null?(r=m_(n.type,null,n.pendingProps,null))?n.memoizedState=r:ye||(r=n.type,t=n.pendingProps,l=bo(ei.current).createElement(r),l[ft]=n,l[Tt]=t,ot(l,r,t),Je(l),n.stateNode=l):n.memoizedState=m_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zu(n),t===null&&ye&&(l=n.stateNode=f_(n.type,n.pendingProps,ei.current),gt=n,fn=!0,at=Jt(l.firstChild)),l=n.pendingProps.children,t!==null||ye?lt(t,n,l,r):n.child=Zi(n,null,l,r),ra(t,n),n.child;case 5:return t===null&&ye&&((c=l=at)&&(l=Ab(l,n.type,n.pendingProps,fn),l!==null?(n.stateNode=l,gt=n,at=Jt(l.firstChild),fn=!1,c=!0):c=!1),c||$i(n)),zu(n),c=n.type,d=n.pendingProps,g=t!==null?t.memoizedProps:null,l=d.children,Uf(c,d)?l=null:g!==null&&Uf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Tc(t,n,GS,null,null,r),Ca._currentValue=c),ra(t,n),lt(t,n,l,r),n.child;case 6:return t===null&&ye&&((t=r=at)&&(r=Nb(r,n.pendingProps,fn),r!==null?(n.stateNode=r,gt=n,at=null,t=!0):t=!1),t||$i(n)),null;case 13:return og(t,n,r);case 4:return Sl(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Zi(n,null,l,r):lt(t,n,l,r),n.child;case 11:return eg(t,n,n.type,n.pendingProps,r);case 7:return lt(t,n,n.pendingProps,r),n.child;case 8:return lt(t,n,n.pendingProps.children,r),n.child;case 12:return lt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ui(n,n.type,l.value),lt(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,rs(n),c=dt(c),l=l(c),n.flags|=1,lt(t,n,l,r),n.child;case 14:return tg(t,n,n.type,n.pendingProps,r);case 15:return ng(t,n,n.type,n.pendingProps,r);case 19:return cg(t,n,r);case 22:return ig(t,n,r);case 24:return rs(n),l=dt(Xe),t===null?(c=Sc(),c===null&&(c=xe,d=yc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=r),c=d),n.memoizedState={parent:l,cache:c},Jc(n),ui(n,Xe,c)):((t.lanes&r)!==0&&(ef(t,n),ua(n,null,null,r),oa()),c=t.memoizedState,d=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ui(n,Xe,l)):(l=d.cache,ui(n,Xe,l),l!==c.cache&&Zc(n,[Xe],r,!0))),lt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var Xc=Te(null),ss=null,xn=null;function ui(t,n,r){ke(Xc,n._currentValue),n._currentValue=r}function Dn(t){t._currentValue=Xc.current,Ge(Xc)}function $c(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Zc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=c;for(var b=0;b<n.length;b++)if(_.context===n[b]){d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),$c(d.return,r,t),l||(g=null);break e}d=_.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=r,d=g.alternate,d!==null&&(d.lanes|=r),$c(g,r,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function aa(t,n,r,l){t=null;for(var c=n,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var _=c.type;Ot(c.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(c===El.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ca):t=[Ca])}c=c.return}t!==null&&Zc(n,t,r,l),n.flags|=262144}function ro(t){for(t=t.firstContext;t!==null;){if(!Ot(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){ss=t,xn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dt(t){return dg(ss,t)}function ao(t,n){return ss===null&&rs(t),dg(t,n)}function dg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},xn===null){if(t===null)throw Error(a(308));xn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else xn=xn.next=n;return r}var ci=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function di(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(je&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Hl(t),Qm(t,null,r),n}return zl(t,l,n,r),Hl(t)}function la(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,tm(t,r)}}function tf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,r=r.next}while(r!==null);d===null?c=d=n:d=d.next=n}else c=d=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var nf=!1;function oa(){if(nf){var t=Gs;if(t!==null)throw t}}function ua(t,n,r,l){nf=!1;var c=t.updateQueue;ci=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var b=_,w=b.next;b.next=null,g===null?d=w:g.next=w,g=b;var M=t.alternate;M!==null&&(M=M.updateQueue,_=M.lastBaseUpdate,_!==g&&(_===null?M.firstBaseUpdate=w:_.next=w,M.lastBaseUpdate=b))}if(d!==null){var L=c.baseState;g=0,M=w=b=null,_=d;do{var D=_.lane&-536870913,I=D!==_.lane;if(I?(ve&D)===D:(l&D)===D){D!==0&&D===Vs&&(nf=!0),M!==null&&(M=M.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var K=t,se=_;D=n;var Be=r;switch(se.tag){case 1:if(K=se.payload,typeof K=="function"){L=K.call(Be,L,D);break e}L=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=se.payload,D=typeof K=="function"?K.call(Be,L,D):K,D==null)break e;L=ie({},L,D);break e;case 2:ci=!0}}D=_.callback,D!==null&&(t.flags|=64,I&&(t.flags|=8192),I=c.callbacks,I===null?c.callbacks=[D]:I.push(D))}else I={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},M===null?(w=M=I,b=L):M=M.next=I,g|=D;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;I=_,_=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);M===null&&(b=L),c.baseState=b,c.firstBaseUpdate=w,c.lastBaseUpdate=M,d===null&&(c.shared.lanes=0),_i|=g,t.lanes=g,t.memoizedState=L}}function hg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function mg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)hg(r[t],n)}function ca(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var d=r.create,g=r.inst;l=d(),g.destroy=l}r=r.next}while(r!==c)}}catch(_){Ne(n,n.return,_)}}function hi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,c=n;var b=r;try{_()}catch(w){Ne(c,b,w)}}}l=l.next}while(l!==d)}}catch(w){Ne(n,n.return,w)}}function pg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{mg(n,r)}catch(l){Ne(t,t.return,l)}}}function gg(t,n,r){r.props=is(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ne(t,n,l)}}function as(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(d){Ne(t,n,d)}}function xt(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ne(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ne(t,n,c)}else r.current=null}function _g(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ne(t,t.return,c)}}function vg(t,n,r){try{var l=t.stateNode;bb(l,t.type,r,n),l[Tt]=n}catch(c){Ne(t,t.return,c)}}function yg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=So));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(rf(t,n,r),t=t.sibling;t!==null;)rf(t,n,r),t=t.sibling}function lo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(lo(t,n,r),t=t.sibling;t!==null;)lo(t,n,r),t=t.sibling}var In=!1,ze=!1,af=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,tt=null,Sg=!1;function ZS(t,n){if(t=t.containerInfo,kf=No,t=Pm(t),lc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var g=0,_=-1,b=-1,w=0,M=0,L=t,D=null;t:for(;;){for(var I;L!==r||c!==0&&L.nodeType!==3||(_=g+c),L!==d||l!==0&&L.nodeType!==3||(b=g+l),L.nodeType===3&&(g+=L.nodeValue.length),(I=L.firstChild)!==null;)D=L,L=I;for(;;){if(L===t)break t;if(D===r&&++w===c&&(_=g),D===d&&++M===l&&(b=g),(I=L.nextSibling)!==null)break;L=D,D=L.parentNode}L=I}r=_===-1||b===-1?null:{start:_,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lf={focusedElem:t,selectionRange:r},No=!1,tt=n;tt!==null;)if(n=tt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tt=t;else for(;tt!==null;){switch(n=tt,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,c=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var K=is(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(K,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(se){Ne(r,r.return,se)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)zf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,tt=t;break}tt=n.return}return K=Sg,Sg=!1,K}function bg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:kn(t,r),l&4&&ca(5,r);break;case 1:if(kn(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){Ne(r,r.return,_)}else{var c=is(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ne(r,r.return,_)}}l&64&&pg(r),l&512&&as(r,r.return);break;case 3:if(kn(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{mg(l,t)}catch(_){Ne(r,r.return,_)}}break;case 26:kn(t,r),l&512&&as(r,r.return);break;case 27:case 5:kn(t,r),n===null&&l&4&&_g(r),l&512&&as(r,r.return);break;case 12:kn(t,r);break;case 13:kn(t,r),l&4&&wg(t,r);break;case 22:if(c=r.memoizedState!==null||In,!c){n=n!==null&&n.memoizedState!==null||ze;var d=In,g=ze;In=c,(ze=n)&&!g?mi(t,r,(r.subtreeFlags&8772)!==0):kn(t,r),In=d,ze=g}l&512&&(r.memoizedProps.mode==="manual"?as(r,r.return):xt(r,r.return));break;default:kn(t,r)}}function Tg(t){var n=t.alternate;n!==null&&(t.alternate=null,Tg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Fu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,Dt=!1;function Mn(t,n,r){for(r=r.child;r!==null;)Cg(t,n,r),r=r.sibling}function Cg(t,n,r){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Mr,r)}catch{}switch(r.tag){case 26:ze||xt(r,n),Mn(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ze||xt(r,n);var l=Qe,c=Dt;for(Qe=r.stateNode,Mn(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Fu(r),Qe=l,Dt=c;break;case 5:ze||xt(r,n);case 6:c=Qe;var d=Dt;if(Qe=null,Mn(t,n,r),Qe=c,Dt=d,Qe!==null)if(Dt)try{t=Qe,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(g){Ne(r,n,g)}else try{Qe.removeChild(r.stateNode)}catch(g){Ne(r,n,g)}break;case 18:Qe!==null&&(Dt?(n=Qe,r=r.stateNode,n.nodeType===8?Pf(n.parentNode,r):n.nodeType===1&&Pf(n,r),Na(n)):Pf(Qe,r.stateNode));break;case 4:l=Qe,c=Dt,Qe=r.stateNode.containerInfo,Dt=!0,Mn(t,n,r),Qe=l,Dt=c;break;case 0:case 11:case 14:case 15:ze||hi(2,r,n),ze||hi(4,r,n),Mn(t,n,r);break;case 1:ze||(xt(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&gg(r,n,l)),Mn(t,n,r);break;case 21:Mn(t,n,r);break;case 22:ze||xt(r,n),ze=(l=ze)||r.memoizedState!==null,Mn(t,n,r),ze=l;break;default:Mn(t,n,r)}}function wg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Na(t)}catch(r){Ne(n,n.return,r)}}function JS(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Eg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Eg),n;default:throw Error(a(435,t.tag))}}function lf(t,n){var r=JS(t);n.forEach(function(l){var c=db.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function qt(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],d=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:case 5:Qe=_.stateNode,Dt=!1;break e;case 3:Qe=_.stateNode.containerInfo,Dt=!0;break e;case 4:Qe=_.stateNode.containerInfo,Dt=!0;break e}_=_.return}if(Qe===null)throw Error(a(160));Cg(d,g,c),Qe=null,Dt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Rg(n,t),n=n.sibling}var Zt=null;function Rg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qt(n,t),Vt(t),l&4&&(hi(3,t,t.return),ca(3,t),hi(5,t,t.return));break;case 1:qt(n,t),Vt(t),l&512&&(ze||r===null||xt(r,r.return)),l&64&&In&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Zt;if(qt(n,t),Vt(t),l&512&&(ze||r===null||xt(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Ur]||d[ft]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),ot(d,l,r),d[ft]=t,Je(d),l=d;break e;case"link":var g=__("link","href",c).get(l+(r.href||""));if(g){for(var _=0;_<g.length;_++)if(d=g[_],d.getAttribute("href")===(r.href==null?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(_,1);break t}}d=c.createElement(l),ot(d,l,r),c.head.appendChild(d);break;case"meta":if(g=__("meta","content",c).get(l+(r.content||""))){for(_=0;_<g.length;_++)if(d=g[_],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(_,1);break t}}d=c.createElement(l),ot(d,l,r),c.head.appendChild(d);break;default:throw Error(a(468,l))}d[ft]=t,Je(d),l=d}t.stateNode=l}else v_(c,t.type,t.stateNode);else t.stateNode=g_(c,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?v_(c,t.type,t.stateNode):g_(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,d=t.memoizedProps;try{for(var b=c.firstChild;b;){var w=b.nextSibling,M=b.nodeName;b[Ur]||M==="HEAD"||M==="BODY"||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=w}for(var L=t.type,D=c.attributes;D.length;)c.removeAttributeNode(D[0]);ot(c,L,d),c[ft]=t,c[Tt]=d}catch(K){Ne(t,t.return,K)}}case 5:if(qt(n,t),Vt(t),l&512&&(ze||r===null||xt(r,r.return)),t.flags&32){c=t.stateNode;try{Ds(c,"")}catch(K){Ne(t,t.return,K)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,vg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(af=!0);break;case 6:if(qt(n,t),Vt(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(K){Ne(t,t.return,K)}}break;case 3:if(wo=null,c=Zt,Zt=To(n.containerInfo),qt(n,t),Zt=c,Vt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Na(n.containerInfo)}catch(K){Ne(t,t.return,K)}af&&(af=!1,Ag(t));break;case 4:l=Zt,Zt=To(t.stateNode.containerInfo),qt(n,t),Vt(t),Zt=l;break;case 12:qt(n,t),Vt(t);break;case 13:qt(n,t),Vt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(gf=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lf(t,l)));break;case 22:if(l&512&&(ze||r===null||xt(r,r.return)),b=t.memoizedState!==null,w=r!==null&&r.memoizedState!==null,M=In,L=ze,In=M||b,ze=L||w,qt(n,t),ze=L,In=M,Vt(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=In||ze,r===null||w||n||Ks(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){w=r=n;try{if(c=w.stateNode,b)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=w.stateNode,_=w.memoizedProps.style;var I=_!=null&&_.hasOwnProperty("display")?_.display:null;g.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(K){Ne(w,w.return,K)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=b?"":w.memoizedProps}catch(K){Ne(w,w.return,K)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,lf(t,r))));break;case 19:qt(n,t),Vt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lf(t,l)));break;case 21:break;default:qt(n,t),Vt(t)}}function Vt(t){var n=t.flags;if(n&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(yg(r)){var l=r;break e}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,d=sf(t);lo(t,d,c);break;case 5:var g=l.stateNode;l.flags&32&&(Ds(g,""),l.flags&=-33);var _=sf(t);lo(t,_,g);break;case 3:case 4:var b=l.stateNode.containerInfo,w=sf(t);rf(t,w,b);break;default:throw Error(a(161))}}}catch(M){Ne(t,t.return,M)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ag(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ag(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function kn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bg(t,n.alternate,n),n=n.sibling}function Ks(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:hi(4,n,n.return),Ks(n);break;case 1:xt(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&gg(n,n.return,r),Ks(n);break;case 26:case 27:case 5:xt(n,n.return),Ks(n);break;case 22:xt(n,n.return),n.memoizedState===null&&Ks(n);break;default:Ks(n)}t=t.sibling}}function mi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:mi(c,d,r),ca(4,d);break;case 1:if(mi(c,d,r),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(w){Ne(l,l.return,w)}if(l=d,c=l.updateQueue,c!==null){var _=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)hg(b[c],_)}catch(w){Ne(l,l.return,w)}}r&&g&64&&pg(d),as(d,d.return);break;case 26:case 27:case 5:mi(c,d,r),r&&l===null&&g&4&&_g(d),as(d,d.return);break;case 12:mi(c,d,r);break;case 13:mi(c,d,r),r&&g&4&&wg(c,d);break;case 22:d.memoizedState===null&&mi(c,d,r),as(d,d.return);break;default:mi(c,d,r)}n=n.sibling}}function of(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ea(r))}function uf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ea(t))}function pi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ng(t,n,r,l),n=n.sibling}function Ng(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,r,l),c&2048&&ca(9,n);break;case 3:pi(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ea(t)));break;case 12:if(c&2048){pi(t,n,r,l),t=n.stateNode;try{var d=n.memoizedProps,g=d.id,_=d.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ne(n,n.return,b)}}else pi(t,n,r,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?pi(t,n,r,l):fa(t,n):d._visibility&4?pi(t,n,r,l):(d._visibility|=4,Ws(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&of(n.alternate,n);break;case 24:pi(t,n,r,l),c&2048&&uf(n.alternate,n);break;default:pi(t,n,r,l)}}function Ws(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,g=n,_=r,b=l,w=g.flags;switch(g.tag){case 0:case 11:case 15:Ws(d,g,_,b,c),ca(8,g);break;case 23:break;case 22:var M=g.stateNode;g.memoizedState!==null?M._visibility&4?Ws(d,g,_,b,c):fa(d,g):(M._visibility|=4,Ws(d,g,_,b,c)),c&&w&2048&&of(g.alternate,g);break;case 24:Ws(d,g,_,b,c),c&&w&2048&&uf(g.alternate,g);break;default:Ws(d,g,_,b,c)}n=n.sibling}}function fa(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:fa(r,l),c&2048&&of(l.alternate,l);break;case 24:fa(r,l),c&2048&&uf(l.alternate,l);break;default:fa(r,l)}n=n.sibling}}var da=8192;function Xs(t){if(t.subtreeFlags&da)for(t=t.child;t!==null;)Og(t),t=t.sibling}function Og(t){switch(t.tag){case 26:Xs(t),t.flags&da&&t.memoizedState!==null&&Bb(Zt,t.memoizedState,t.memoizedProps);break;case 5:Xs(t);break;case 3:case 4:var n=Zt;Zt=To(t.stateNode.containerInfo),Xs(t),Zt=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=da,da=16777216,Xs(t),da=n):Xs(t));break;default:Xs(t)}}function xg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ha(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];tt=l,Ig(l,t)}xg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dg(t),t=t.sibling}function Dg(t){switch(t.tag){case 0:case 11:case 15:ha(t),t.flags&2048&&hi(9,t,t.return);break;case 3:ha(t);break;case 12:ha(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,oo(t)):ha(t);break;default:ha(t)}}function oo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];tt=l,Ig(l,t)}xg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:hi(8,n,n.return),oo(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,oo(n));break;default:oo(n)}t=t.sibling}}function Ig(t,n){for(;tt!==null;){var r=tt;switch(r.tag){case 0:case 11:case 15:hi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ea(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,tt=l;else e:for(r=t;tt!==null;){l=tt;var c=l.sibling,d=l.return;if(Tg(l),l===r){tt=null;break e}if(c!==null){c.return=d,tt=c;break e}tt=d}}}function eb(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,n,r,l){return new eb(t,n,r,l)}function cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,n){var r=t.alternate;return r===null?(r=Gt(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Mg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function uo(t,n,r,l,c,d){var g=0;if(l=t,typeof t=="function")cf(t)&&(g=1);else if(typeof t=="string")g=zb(t,r,un.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case h:return ls(r.children,c,d,n);case p:g=8,c|=24;break;case v:return t=Gt(12,r,n,c|2),t.elementType=v,t.lanes=d,t;case j:return t=Gt(13,r,n,c),t.elementType=j,t.lanes=d,t;case P:return t=Gt(19,r,n,c),t.elementType=P,t.lanes=d,t;case V:return kg(r,c,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y:case N:g=10;break e;case S:g=9;break e;case A:g=11;break e;case U:g=14;break e;case Y:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Gt(g,r,n,c),n.elementType=t,n.type=l,n.lanes=d,n}function ls(t,n,r,l){return t=Gt(7,t,l,n),t.lanes=r,t}function kg(t,n,r,l){t=Gt(22,t,l,n),t.elementType=V,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=c._current;if(d===null)throw Error(a(456));if((c._pendingVisibility&2)===0){var g=si(d,2);g!==null&&(c._pendingVisibility|=2,_t(g,d,2))}},attach:function(){var d=c._current;if(d===null)throw Error(a(456));if((c._pendingVisibility&2)!==0){var g=si(d,2);g!==null&&(c._pendingVisibility&=-3,_t(g,d,2))}}};return t.stateNode=c,t}function ff(t,n,r){return t=Gt(6,t,null,n),t.lanes=r,t}function df(t,n,r){return n=Gt(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ln(t){t.flags|=4}function Lg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!y_(n)){if(n=Bt.current,n!==null&&((ve&4194176)===ve?dn!==null:(ve&62914560)!==ve&&(ve&536870912)===0||n!==dn))throw $r=gc,Zm;t.flags|=8192}}function co(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Jh():536870912,t.lanes|=n,Zs|=n)}function ma(t,n){if(!ye)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ue(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function tb(t,n,r){var l=n.pendingProps;switch(mc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(n),null;case 1:return Ue(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Dn(Xe),ws(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qr(n)?Ln(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$t!==null&&(Ef($t),$t=null))),Ue(n),null;case 26:return r=n.memoizedState,t===null?(Ln(n),r!==null?(Ue(n),Lg(n,r)):(Ue(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ln(n),Ue(n),Lg(n,r)):(Ue(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ln(n),Ue(n),n.flags&=-16777217),null;case 27:bl(n),r=ei.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ln(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Ue(n),null}t=un.current,Qr(n)?Xm(n):(t=f_(c,l,r),n.stateNode=t,Ln(n))}return Ue(n),null;case 5:if(bl(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ln(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Ue(n),null}if(t=un.current,Qr(n))Xm(n);else{switch(c=bo(ei.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ft]=n,t[Tt]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(ot(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ln(n)}}return Ue(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ln(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ei.current,Qr(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=gt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ft]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||r_(t.nodeValue,r)),t||$i(n)}else t=bo(t).createTextNode(l),t[ft]=n,n.stateNode=t}return Ue(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Qr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ft]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ue(n),c=!1}else $t!==null&&(Ef($t),$t=null),c=!0;if(!c)return n.flags&256?(An(n),n):(An(n),null)}if(An(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),co(n,n.updateQueue),Ue(n),null;case 4:return ws(),t===null&&Df(n.stateNode.containerInfo),Ue(n),null;case 10:return Dn(n.type),Ue(n),null;case 19:if(Ge(We),c=n.memoizedState,c===null)return Ue(n),null;if(l=(n.flags&128)!==0,d=c.rendering,d===null)if(l)ma(c,!1);else{if(He!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Ql(t),d!==null){for(n.flags|=128,ma(c,!1),t=d.updateQueue,n.updateQueue=t,co(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Mg(r,t),r=r.sibling;return ke(We,We.current&1|2),n.child}t=t.sibling}c.tail!==null&&cn()>fo&&(n.flags|=128,l=!0,ma(c,!1),n.lanes=4194304)}else{if(!l)if(t=Ql(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,co(n,t),ma(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!ye)return Ue(n),null}else 2*cn()-c.renderingStartTime>fo&&r!==536870912&&(n.flags|=128,l=!0,ma(c,!1),n.lanes=4194304);c.isBackwards?(d.sibling=n.child,n.child=d):(t=c.last,t!==null?t.sibling=d:n.child=d,c.last=d)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=cn(),n.sibling=null,t=We.current,ke(We,l?t&1|2:t&1),n):(Ue(n),null);case 22:case 23:return An(n),vc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Ue(n),n.subtreeFlags&6&&(n.flags|=8192)):Ue(n),r=n.updateQueue,r!==null&&co(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Ge(Ji),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Dn(Xe),Ue(n),null;case 25:return null}throw Error(a(156,n.tag))}function nb(t,n){switch(mc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Dn(Xe),ws(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return bl(n),null;case 13:if(An(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Ge(We),null;case 4:return ws(),null;case 10:return Dn(n.type),null;case 22:case 23:return An(n),vc(),t!==null&&Ge(Ji),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Dn(Xe),null;case 25:return null;default:return null}}function Ug(t,n){switch(mc(n),n.tag){case 3:Dn(Xe),ws();break;case 26:case 27:case 5:bl(n);break;case 4:ws();break;case 13:An(n);break;case 19:Ge(We);break;case 10:Dn(n.type);break;case 22:case 23:An(n),vc(),t!==null&&Ge(Ji);break;case 24:Dn(Xe)}}var ib={getCacheForType:function(t){var n=dt(Xe),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},sb=typeof WeakMap=="function"?WeakMap:Map,je=0,xe=null,pe=null,ve=0,De=0,It=null,Un=!1,$s=!1,hf=!1,jn=0,He=0,_i=0,os=0,mf=0,Ft=0,Zs=0,pa=null,mn=null,pf=!1,gf=0,fo=1/0,ho=null,vi=null,mo=!1,us=null,ga=0,_f=0,vf=null,_a=0,yf=null;function Mt(){if((je&2)!==0&&ve!==0)return ve&-ve;if(B.T!==null){var t=Vs;return t!==0?t:Af()}return im()}function jg(){Ft===0&&(Ft=(ve&536870912)===0||ye?Zh():536870912);var t=Bt.current;return t!==null&&(t.flags|=32),Ft}function _t(t,n,r){(t===xe&&De===2||t.cancelPendingCommit!==null)&&(Js(t,0),Pn(t,ve,Ft,!1)),Lr(t,r),((je&2)===0||t!==xe)&&(t===xe&&((je&2)===0&&(os|=r),He===4&&Pn(t,ve,Ft,!1)),pn(t))}function Pg(t,n,r){if((je&6)!==0)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||kr(t,n),c=l?lb(t,n):Tf(t,n,!0),d=l;do{if(c===0){$s&&!l&&Pn(t,n,0,!1);break}else if(c===6)Pn(t,n,0,!Un);else{if(r=t.current.alternate,d&&!rb(r)){c=Tf(t,n,!1),d=!1;continue}if(c===2){if(d=n,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;c=pa;var b=_.current.memoizedState.isDehydrated;if(b&&(Js(_,g).flags|=256),g=Tf(_,g,!1),g!==2){if(hf&&!b){_.errorRecoveryDisabledLanes|=d,os|=d,c=4;break e}d=mn,mn=c,d!==null&&Ef(d)}c=g}if(d=!1,c!==2)continue}}if(c===1){Js(t,0),Pn(t,n,0,!0);break}e:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Pn(l,n,Ft,!Un);break e}break;case 2:mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(d=gf+300-cn(),10<d)){if(Pn(l,n,Ft,!Un),Rl(l,0)!==0)break e;l.timeoutHandle=o_(zg.bind(null,l,r,mn,ho,pf,n,Ft,os,Zs,Un,2,-0,0),d);break e}zg(l,r,mn,ho,pf,n,Ft,os,Zs,Un,0,-0,0)}}break}while(!0);pn(t)}function Ef(t){mn===null?mn=t:mn.push.apply(mn,t)}function zg(t,n,r,l,c,d,g,_,b,w,M,L,D){var I=n.subtreeFlags;if((I&8192||(I&16785408)===16785408)&&(Ta={stylesheets:null,count:0,unsuspend:Hb},Og(n),n=qb(),n!==null)){t.cancelPendingCommit=n(Yg.bind(null,t,r,l,c,g,_,b,1,L,D)),Pn(t,d,g,!w);return}Yg(t,r,l,c,g,_,b,M,L,D)}function rb(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],d=c.getSnapshot;c=c.value;try{if(!Ot(d(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Pn(t,n,r,l){n&=~mf,n&=~os,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var d=31-Nt(c),g=1<<d;l[d]=-1,c&=~g}r!==0&&em(t,r,n)}function po(){return(je&6)===0?(va(0),!1):!0}function Sf(){if(pe!==null){if(De===0)var t=pe.return;else t=pe,xn=ss=null,Rc(t),Bs=null,Zr=0,t=pe;for(;t!==null;)Ug(t.alternate,t),t=t.return;pe=null}}function Js(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Cb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Sf(),xe=t,pe=r=gi(t.current,null),ve=n,De=0,It=null,Un=!1,$s=kr(t,n),hf=!1,Zs=Ft=mf=os=_i=He=0,mn=pa=null,pf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Nt(l),d=1<<c;n|=t[c],l&=~d}return jn=n,Pl(),r}function Hg(t,n){ue=null,B.H=hn,n===Xr?(n=tp(),De=3):n===Zm?(n=tp(),De=4):De=n===Jp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,It=n,pe===null&&(He=1,so(t,Pt(n,t.current)))}function Bg(){var t=B.H;return B.H=hn,t===null?hn:t}function qg(){var t=B.A;return B.A=ib,t}function bf(){He=4,Un||(ve&4194176)!==ve&&Bt.current!==null||($s=!0),(_i&134217727)===0&&(os&134217727)===0||xe===null||Pn(xe,ve,Ft,!1)}function Tf(t,n,r){var l=je;je|=2;var c=Bg(),d=qg();(xe!==t||ve!==n)&&(ho=null,Js(t,n)),n=!1;var g=He;e:do try{if(De!==0&&pe!==null){var _=pe,b=It;switch(De){case 8:Sf(),g=6;break e;case 3:case 2:case 6:Bt.current===null&&(n=!0);var w=De;if(De=0,It=null,er(t,_,b,w),r&&$s){g=0;break e}break;default:w=De,De=0,It=null,er(t,_,b,w)}}ab(),g=He;break}catch(M){Hg(t,M)}while(!0);return n&&t.shellSuspendCounter++,xn=ss=null,je=l,B.H=c,B.A=d,pe===null&&(xe=null,ve=0,Pl()),g}function ab(){for(;pe!==null;)Vg(pe)}function lb(t,n){var r=je;je|=2;var l=Bg(),c=qg();xe!==t||ve!==n?(ho=null,fo=cn()+500,Js(t,n)):$s=kr(t,n);e:do try{if(De!==0&&pe!==null){n=pe;var d=It;t:switch(De){case 1:De=0,It=null,er(t,n,d,1);break;case 2:if(Jm(d)){De=0,It=null,Gg(n);break}n=function(){De===2&&xe===t&&(De=7),pn(t)},d.then(n,n);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Jm(d)?(De=0,It=null,Gg(n)):(De=0,It=null,er(t,n,d,7));break;case 5:var g=null;switch(pe.tag){case 26:g=pe.memoizedState;case 5:case 27:var _=pe;if(!g||y_(g)){De=0,It=null;var b=_.sibling;if(b!==null)pe=b;else{var w=_.return;w!==null?(pe=w,go(w)):pe=null}break t}}De=0,It=null,er(t,n,d,5);break;case 6:De=0,It=null,er(t,n,d,6);break;case 8:Sf(),He=6;break e;default:throw Error(a(462))}}ob();break}catch(M){Hg(t,M)}while(!0);return xn=ss=null,B.H=l,B.A=c,je=r,pe!==null?0:(xe=null,ve=0,Pl(),He)}function ob(){for(;pe!==null&&!x0();)Vg(pe)}function Vg(t){var n=fg(t.alternate,t,jn);t.memoizedProps=t.pendingProps,n===null?go(t):pe=n}function Gg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=rg(r,n,n.pendingProps,n.type,void 0,ve);break;case 11:n=rg(r,n,n.pendingProps,n.type.render,n.ref,ve);break;case 5:Rc(n);default:Ug(r,n),n=pe=Mg(n,jn),n=fg(r,n,jn)}t.memoizedProps=t.pendingProps,n===null?go(t):pe=n}function er(t,n,r,l){xn=ss=null,Rc(n),Bs=null,Zr=0;var c=n.return;try{if(XS(t,c,n,r,ve)){He=1,so(t,Pt(r,t.current)),pe=null;return}}catch(d){if(c!==null)throw pe=c,d;He=1,so(t,Pt(r,t.current)),pe=null;return}n.flags&32768?(ye||l===1?t=!0:$s||(ve&536870912)!==0?t=!1:(Un=t=!0,(l===2||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fg(n,t)):go(n)}function go(t){var n=t;do{if((n.flags&32768)!==0){Fg(n,Un);return}t=n.return;var r=tb(n.alternate,n,jn);if(r!==null){pe=r;return}if(n=n.sibling,n!==null){pe=n;return}pe=n=t}while(n!==null);He===0&&(He=5)}function Fg(t,n){do{var r=nb(t.alternate,t);if(r!==null){r.flags&=32767,pe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){pe=t;return}pe=t=r}while(t!==null);He=6,pe=null}function Yg(t,n,r,l,c,d,g,_,b,w){var M=B.T,L=F.p;try{F.p=2,B.T=null,ub(t,n,r,l,L,c,d,g,_,b,w)}finally{B.T=M,F.p=L}}function ub(t,n,r,l,c,d,g,_){do tr();while(us!==null);if((je&6)!==0)throw Error(a(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var w=b.lanes|b.childLanes;if(w|=fc,B0(t,l,w,d,g,_),t===xe&&(pe=xe=null,ve=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||mo||(mo=!0,_f=w,vf=r,hb(Tl,function(){return tr(),null})),r=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||r?(r=B.T,B.T=null,d=F.p,F.p=2,g=je,je|=4,ZS(t,b),Rg(b,t),MS(Lf,t.containerInfo),No=!!kf,Lf=kf=null,t.current=b,bg(t,b.alternate,b),D0(),je=g,F.p=d,B.T=r):t.current=b,mo?(mo=!1,us=t,ga=l):Qg(t,w),w=t.pendingLanes,w===0&&(vi=null),U0(b.stateNode),pn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)w=n[b],c(w.value,{componentStack:w.stack});return(ga&3)!==0&&tr(),w=t.pendingLanes,(l&4194218)!==0&&(w&42)!==0?t===yf?_a++:(_a=0,yf=t):_a=0,va(0),null}function Qg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ea(n)))}function tr(){if(us!==null){var t=us,n=_f;_f=0;var r=nm(ga),l=B.T,c=F.p;try{if(F.p=32>r?32:r,B.T=null,us===null)var d=!1;else{r=vf,vf=null;var g=us,_=ga;if(us=null,ga=0,(je&6)!==0)throw Error(a(331));var b=je;if(je|=4,Dg(g.current),Ng(g,g.current,_,r),je=b,va(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Mr,g)}catch{}d=!0}return d}finally{F.p=c,B.T=l,Qg(t,n)}}return!1}function Kg(t,n,r){n=Pt(r,n),n=Hc(t.stateNode,n,2),t=di(t,n,2),t!==null&&(Lr(t,2),pn(t))}function Ne(t,n,r){if(t.tag===3)Kg(t,t,r);else for(;n!==null;){if(n.tag===3){Kg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(vi===null||!vi.has(l))){t=Pt(r,t),r=$p(2),l=di(n,r,2),l!==null&&(Zp(r,l,n,t),Lr(l,2),pn(l));break}}n=n.return}}function Cf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new sb;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(hf=!0,c.add(r),t=cb.bind(null,t,n,r),n.then(t,t))}function cb(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,xe===t&&(ve&r)===r&&(He===4||He===3&&(ve&62914560)===ve&&300>cn()-gf?(je&2)===0&&Js(t,0):mf|=r,Zs===ve&&(Zs=0)),pn(t)}function Wg(t,n){n===0&&(n=Jh()),t=si(t,n),t!==null&&(Lr(t,n),pn(t))}function fb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wg(t,r)}function db(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Wg(t,r)}function hb(t,n){return Bu(t,n)}var _o=null,nr=null,wf=!1,vo=!1,Rf=!1,cs=0;function pn(t){t!==nr&&t.next===null&&(nr===null?_o=nr=t:nr=nr.next=t),vo=!0,wf||(wf=!0,pb(mb))}function va(t,n){if(!Rf&&vo){Rf=!0;do for(var r=!1,l=_o;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var g=l.suspendedLanes,_=l.pingedLanes;d=(1<<31-Nt(42|t)+1)-1,d&=c&~(g&~_),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(r=!0,Zg(l,d))}else d=ve,d=Rl(l,l===xe?d:0),(d&3)===0||kr(l,d)||(r=!0,Zg(l,d));l=l.next}while(r);Rf=!1}}function mb(){vo=wf=!1;var t=0;cs!==0&&(Tb()&&(t=cs),cs=0);for(var n=cn(),r=null,l=_o;l!==null;){var c=l.next,d=Xg(l,n);d===0?(l.next=null,r===null?_o=c:r.next=c,c===null&&(nr=r)):(r=l,(t!==0||(d&3)!==0)&&(vo=!0)),l=c}va(t)}function Xg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Nt(d),_=1<<g,b=c[g];b===-1?((_&r)===0||(_&l)!==0)&&(c[g]=H0(_,n)):b<=n&&(t.expiredLanes|=_),d&=~_}if(n=xe,r=ve,r=Rl(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&De===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&qu(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||kr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&qu(l),nm(r)){case 2:case 8:r=Xh;break;case 32:r=Tl;break;case 268435456:r=$h;break;default:r=Tl}return l=$g.bind(null,t),r=Bu(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&qu(l),t.callbackPriority=2,t.callbackNode=null,2}function $g(t,n){var r=t.callbackNode;if(tr()&&t.callbackNode!==r)return null;var l=ve;return l=Rl(t,t===xe?l:0),l===0?null:(Pg(t,l,n),Xg(t,cn()),t.callbackNode!=null&&t.callbackNode===r?$g.bind(null,t):null)}function Zg(t,n){if(tr())return null;Pg(t,n,!0)}function pb(t){wb(function(){(je&6)!==0?Bu(Wh,t):t()})}function Af(){return cs===0&&(cs=Zh()),cs}function Jg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Dl(""+t)}function e_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function gb(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var d=Jg((c[Tt]||null).action),g=l.submitter;g&&(n=(n=g[Tt]||null)?Jg(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var _=new Ll("action","action",null,l,c);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var b=g?e_(c,g):new FormData(c);Lc(r,{pending:!0,data:b,method:c.method,action:d},null,b)}}else typeof d=="function"&&(_.preventDefault(),b=g?e_(c,g):new FormData(c),Lc(r,{pending:!0,data:b,method:c.method,action:d},d,b))},currentTarget:c}]})}}for(var Nf=0;Nf<Ym.length;Nf++){var Of=Ym[Nf],_b=Of.toLowerCase(),vb=Of[0].toUpperCase()+Of.slice(1);Xt(_b,"on"+vb)}Xt(Bm,"onAnimationEnd"),Xt(qm,"onAnimationIteration"),Xt(Vm,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(LS,"onTransitionRun"),Xt(US,"onTransitionStart"),Xt(jS,"onTransitionCancel"),Xt(Gm,"onTransitionEnd"),Os("onMouseEnter",["mouseout","mouseover"]),Os("onMouseLeave",["mouseout","mouseover"]),Os("onPointerEnter",["pointerout","pointerover"]),Os("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ya));function t_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],b=_.instance,w=_.currentTarget;if(_=_.listener,b!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=w;try{d(c)}catch(M){io(M)}c.currentTarget=null,d=b}else for(g=0;g<l.length;g++){if(_=l[g],b=_.instance,w=_.currentTarget,_=_.listener,b!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=w;try{d(c)}catch(M){io(M)}c.currentTarget=null,d=b}}}}function ge(t,n){var r=n[Gu];r===void 0&&(r=n[Gu]=new Set);var l=t+"__bubble";r.has(l)||(n_(n,t,2,!1),r.add(l))}function xf(t,n,r){var l=0;n&&(l|=4),n_(r,t,l,n)}var yo="_reactListening"+Math.random().toString(36).slice(2);function Df(t){if(!t[yo]){t[yo]=!0,rm.forEach(function(r){r!=="selectionchange"&&(yb.has(r)||xf(r,!1,t),xf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yo]||(n[yo]=!0,xf("selectionchange",!1,n))}}function n_(t,n,r,l){switch(w_(n)){case 2:var c=Fb;break;case 8:c=Yb;break;default:c=Gf}r=c.bind(null,n,r,t),c=void 0,!Zu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function If(t,n,r,l,c){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;_!==null;){if(g=Gi(_),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=d=g;continue e}_=_.parentNode}}l=l.return}_m(function(){var w=d,M=Xu(r),L=[];e:{var D=Fm.get(t);if(D!==void 0){var I=Ll,K=t;switch(t){case"keypress":if(Ml(r)===0)break e;case"keydown":case"keyup":I=dS;break;case"focusin":K="focus",I=nc;break;case"focusout":K="blur",I=nc;break;case"beforeblur":case"afterblur":I=nc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=eS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=pS;break;case Bm:case qm:case Vm:I=iS;break;case Gm:I=_S;break;case"scroll":case"scrollend":I=Z0;break;case"wheel":I=yS;break;case"copy":case"cut":case"paste":I=rS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=bm;break;case"toggle":case"beforetoggle":I=SS}var se=(n&4)!==0,Be=!se&&(t==="scroll"||t==="scrollend"),R=se?D!==null?D+"Capture":null:D;se=[];for(var C=w,x;C!==null;){var k=C;if(x=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||x===null||R===null||(k=Pr(C,R),k!=null&&se.push(Ea(C,k,x))),Be)break;C=C.return}0<se.length&&(D=new I(D,K,null,r,M),L.push({event:D,listeners:se}))}}if((n&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",D&&r!==Wu&&(K=r.relatedTarget||r.fromElement)&&(Gi(K)||K[Rs]))break e;if((I||D)&&(D=M.window===M?M:(D=M.ownerDocument)?D.defaultView||D.parentWindow:window,I?(K=r.relatedTarget||r.toElement,I=w,K=K?Gi(K):null,K!==null&&(Be=te(K),se=K.tag,K!==Be||se!==5&&se!==27&&se!==6)&&(K=null)):(I=null,K=w),I!==K)){if(se=Em,k="onMouseLeave",R="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(se=bm,k="onPointerLeave",R="onPointerEnter",C="pointer"),Be=I==null?D:jr(I),x=K==null?D:jr(K),D=new se(k,C+"leave",I,r,M),D.target=Be,D.relatedTarget=x,k=null,Gi(M)===w&&(se=new se(R,C+"enter",K,r,M),se.target=x,se.relatedTarget=Be,k=se),Be=k,I&&K)t:{for(se=I,R=K,C=0,x=se;x;x=ir(x))C++;for(x=0,k=R;k;k=ir(k))x++;for(;0<C-x;)se=ir(se),C--;for(;0<x-C;)R=ir(R),x--;for(;C--;){if(se===R||R!==null&&se===R.alternate)break t;se=ir(se),R=ir(R)}se=null}else se=null;I!==null&&i_(L,D,I,se,!1),K!==null&&Be!==null&&i_(L,Be,K,se,!0)}}e:{if(D=w?jr(w):window,I=D.nodeName&&D.nodeName.toLowerCase(),I==="select"||I==="input"&&D.type==="file")var Q=xm;else if(Nm(D))if(Dm)Q=DS;else{Q=OS;var ce=NS}else I=D.nodeName,!I||I.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?w&&Ku(w.elementType)&&(Q=xm):Q=xS;if(Q&&(Q=Q(t,w))){Om(L,Q,r,M);break e}ce&&ce(t,D,w),t==="focusout"&&w&&D.type==="number"&&w.memoizedProps.value!=null&&Qu(D,"number",D.value)}switch(ce=w?jr(w):window,t){case"focusin":(Nm(ce)||ce.contentEditable==="true")&&(Ls=ce,oc=w,Yr=null);break;case"focusout":Yr=oc=Ls=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,zm(L,r,M);break;case"selectionchange":if(kS)break;case"keydown":case"keyup":zm(L,r,M)}var W;if(sc)e:{switch(t){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else ks?Rm(t,r)&&(Z="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Z="onCompositionStart");Z&&(Tm&&r.locale!=="ko"&&(ks||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&ks&&(W=vm()):(ii=M,Ju="value"in ii?ii.value:ii.textContent,ks=!0)),ce=Eo(w,Z),0<ce.length&&(Z=new Sm(Z,t,null,r,M),L.push({event:Z,listeners:ce}),W?Z.data=W:(W=Am(r),W!==null&&(Z.data=W)))),(W=TS?CS(t,r):wS(t,r))&&(Z=Eo(w,"onBeforeInput"),0<Z.length&&(ce=new Sm("onBeforeInput","beforeinput",null,r,M),L.push({event:ce,listeners:Z}),ce.data=W)),gb(L,t,w,r,M)}t_(L,n)})}function Ea(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Eo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,d=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Pr(t,r),c!=null&&l.unshift(Ea(t,c,d)),c=Pr(t,n),c!=null&&l.push(Ea(t,c,d))),t=t.return}return l}function ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i_(t,n,r,l,c){for(var d=n._reactName,g=[];r!==null&&r!==l;){var _=r,b=_.alternate,w=_.stateNode;if(_=_.tag,b!==null&&b===l)break;_!==5&&_!==26&&_!==27||w===null||(b=w,c?(w=Pr(r,d),w!=null&&g.unshift(Ea(r,w,b))):c||(w=Pr(r,d),w!=null&&g.push(Ea(r,w,b)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var Eb=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(Eb,`
`).replace(Sb,"")}function r_(t,n){return n=s_(n),s_(t)===n}function So(){}function Re(t,n,r,l,c,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ds(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ds(t,""+l);break;case"className":Nl(t,"class",l);break;case"tabIndex":Nl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nl(t,r,l);break;case"style":pm(t,l,d);break;case"data":if(n!=="object"){Nl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Dl(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&Re(t,n,"name",c.name,c,null),Re(t,n,"formEncType",c.formEncType,c,null),Re(t,n,"formMethod",c.formMethod,c,null),Re(t,n,"formTarget",c.formTarget,c,null)):(Re(t,n,"encType",c.encType,c,null),Re(t,n,"method",c.method,c,null),Re(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Dl(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=So);break;case"onScroll":l!=null&&ge("scroll",t);break;case"onScrollEnd":l!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Dl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ge("beforetoggle",t),ge("toggle",t),Al(t,"popover",l);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Al(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=X0.get(r)||r,Al(t,r,l))}}function Mf(t,n,r,l,c,d){switch(r){case"style":pm(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Ds(t,l):(typeof l=="number"||typeof l=="bigint")&&Ds(t,""+l);break;case"onScroll":l!=null&&ge("scroll",t);break;case"onScrollEnd":l!=null&&ge("scrollend",t);break;case"onClick":l!=null&&(t.onclick=So);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!am.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),d=t[Tt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Al(t,r,l)}}}function ot(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var l=!1,c=!1,d;for(d in r)if(r.hasOwnProperty(d)){var g=r[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Re(t,n,d,g,r,null)}}c&&Re(t,n,"srcSet",r.srcSet,r,null),l&&Re(t,n,"src",r.src,r,null);return;case"input":ge("invalid",t);var _=d=g=c=null,b=null,w=null;for(l in r)if(r.hasOwnProperty(l)){var M=r[l];if(M!=null)switch(l){case"name":c=M;break;case"type":g=M;break;case"checked":b=M;break;case"defaultChecked":w=M;break;case"value":d=M;break;case"defaultValue":_=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(137,n));break;default:Re(t,n,l,M,r,null)}}fm(t,d,_,b,w,g,c,!1),Ol(t);return;case"select":ge("invalid",t),l=g=d=null;for(c in r)if(r.hasOwnProperty(c)&&(_=r[c],_!=null))switch(c){case"value":d=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Re(t,n,c,_,r,null)}n=d,r=g,t.multiple=!!l,n!=null?xs(t,!!l,n,!1):r!=null&&xs(t,!!l,r,!0);return;case"textarea":ge("invalid",t),d=c=l=null;for(g in r)if(r.hasOwnProperty(g)&&(_=r[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":c=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Re(t,n,g,_,r,null)}hm(t,l,c,d),Ol(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Re(t,n,b,l,r,null)}return;case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(l=0;l<ya.length;l++)ge(ya[l],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Re(t,n,w,l,r,null)}return;default:if(Ku(n)){for(M in r)r.hasOwnProperty(M)&&(l=r[M],l!==void 0&&Mf(t,n,M,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Re(t,n,_,l,r,null))}function bb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,_=null,b=null,w=null,M=null;for(I in r){var L=r[I];if(r.hasOwnProperty(I)&&L!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":b=L;default:l.hasOwnProperty(I)||Re(t,n,I,null,l,L)}}for(var D in l){var I=l[D];if(L=r[D],l.hasOwnProperty(D)&&(I!=null||L!=null))switch(D){case"type":d=I;break;case"name":c=I;break;case"checked":w=I;break;case"defaultChecked":M=I;break;case"value":g=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:I!==L&&Re(t,n,D,I,l,L)}}Yu(t,g,_,b,w,M,d,c);return;case"select":I=g=_=D=null;for(d in r)if(b=r[d],r.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":I=b;default:l.hasOwnProperty(d)||Re(t,n,d,null,l,b)}for(c in l)if(d=l[c],b=r[c],l.hasOwnProperty(c)&&(d!=null||b!=null))switch(c){case"value":D=d;break;case"defaultValue":_=d;break;case"multiple":g=d;default:d!==b&&Re(t,n,c,d,l,b)}n=_,r=g,l=I,D!=null?xs(t,!!r,D,!1):!!l!=!!r&&(n!=null?xs(t,!!r,n,!0):xs(t,!!r,r?[]:"",!1));return;case"textarea":I=D=null;for(_ in r)if(c=r[_],r.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Re(t,n,_,null,l,c)}for(g in l)if(c=l[g],d=r[g],l.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":D=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==d&&Re(t,n,g,c,l,d)}dm(t,D,I);return;case"option":for(var K in r)if(D=r[K],r.hasOwnProperty(K)&&D!=null&&!l.hasOwnProperty(K))switch(K){case"selected":t.selected=!1;break;default:Re(t,n,K,null,l,D)}for(b in l)if(D=l[b],I=r[b],l.hasOwnProperty(b)&&D!==I&&(D!=null||I!=null))switch(b){case"selected":t.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Re(t,n,b,D,l,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in r)D=r[se],r.hasOwnProperty(se)&&D!=null&&!l.hasOwnProperty(se)&&Re(t,n,se,null,l,D);for(w in l)if(D=l[w],I=r[w],l.hasOwnProperty(w)&&D!==I&&(D!=null||I!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,n));break;default:Re(t,n,w,D,l,I)}return;default:if(Ku(n)){for(var Be in r)D=r[Be],r.hasOwnProperty(Be)&&D!==void 0&&!l.hasOwnProperty(Be)&&Mf(t,n,Be,void 0,l,D);for(M in l)D=l[M],I=r[M],!l.hasOwnProperty(M)||D===I||D===void 0&&I===void 0||Mf(t,n,M,D,l,I);return}}for(var R in r)D=r[R],r.hasOwnProperty(R)&&D!=null&&!l.hasOwnProperty(R)&&Re(t,n,R,null,l,D);for(L in l)D=l[L],I=r[L],!l.hasOwnProperty(L)||D===I||D==null&&I==null||Re(t,n,L,D,l,I)}var kf=null,Lf=null;function bo(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Uf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var jf=null;function Tb(){var t=window.event;return t&&t.type==="popstate"?t===jf?!1:(jf=t,!0):(jf=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,Cb=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,wb=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(Rb)}:o_;function Rb(t){setTimeout(function(){throw t})}function Pf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Na(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Na(n)}function zf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":zf(r),Fu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Ab(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ur])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Jt(t.nextSibling),t===null)break}return null}function Nb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Jt(t.nextSibling),t===null))return null;return t}function Jt(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function c_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function f_(t,n,r){switch(n=bo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Yt=new Map,d_=new Set;function To(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var zn=F.d;F.d={f:Ob,r:xb,D:Db,C:Ib,L:Mb,m:kb,X:Ub,S:Lb,M:jb};function Ob(){var t=zn.f(),n=po();return t||n}function xb(t){var n=As(t);n!==null&&n.tag===5&&n.type==="form"?zp(n):zn.r(t)}var sr=typeof document>"u"?null:document;function h_(t,n,r){var l=sr;if(l&&typeof n=="string"&&n){var c=Ut(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),d_.has(c)||(d_.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ot(n,"link",t),Je(n),l.head.appendChild(n)))}}function Db(t){zn.D(t),h_("dns-prefetch",t,null)}function Ib(t,n){zn.C(t,n),h_("preconnect",t,n)}function Mb(t,n,r){zn.L(t,n,r);var l=sr;if(l&&t&&n){var c='link[rel="preload"][as="'+Ut(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Ut(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Ut(r.imageSizes)+'"]')):c+='[href="'+Ut(t)+'"]';var d=c;switch(n){case"style":d=rr(t);break;case"script":d=ar(t)}Yt.has(d)||(t=ie({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Yt.set(d,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Sa(d))||n==="script"&&l.querySelector(ba(d))||(n=l.createElement("link"),ot(n,"link",t),Je(n),l.head.appendChild(n)))}}function kb(t,n){zn.m(t,n);var r=sr;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ar(t)}if(!Yt.has(d)&&(t=ie({rel:"modulepreload",href:t},n),Yt.set(d,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ba(d)))return}l=r.createElement("link"),ot(l,"link",t),Je(l),r.head.appendChild(l)}}}function Lb(t,n,r){zn.S(t,n,r);var l=sr;if(l&&t){var c=Ns(l).hoistableStyles,d=rr(t);n=n||"default";var g=c.get(d);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(Sa(d)))_.loading=5;else{t=ie({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Yt.get(d))&&Hf(t,r);var b=g=l.createElement("link");Je(b),ot(b,"link",t),b._p=new Promise(function(w,M){b.onload=w,b.onerror=M}),b.addEventListener("load",function(){_.loading|=1}),b.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Co(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},c.set(d,g)}}}function Ub(t,n){zn.X(t,n);var r=sr;if(r&&t){var l=Ns(r).hoistableScripts,c=ar(t),d=l.get(c);d||(d=r.querySelector(ba(c)),d||(t=ie({src:t,async:!0},n),(n=Yt.get(c))&&Bf(t,n),d=r.createElement("script"),Je(d),ot(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function jb(t,n){zn.M(t,n);var r=sr;if(r&&t){var l=Ns(r).hoistableScripts,c=ar(t),d=l.get(c);d||(d=r.querySelector(ba(c)),d||(t=ie({src:t,async:!0,type:"module"},n),(n=Yt.get(c))&&Bf(t,n),d=r.createElement("script"),Je(d),ot(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function m_(t,n,r,l){var c=(c=ei.current)?To(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=rr(r.href),r=Ns(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=rr(r.href);var d=Ns(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(Sa(t)))&&!d._p&&(g.instance=d,g.state.loading=5),Yt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Yt.set(t,r),d||Pb(c,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ar(r),r=Ns(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function rr(t){return'href="'+Ut(t)+'"'}function Sa(t){return'link[rel="stylesheet"]['+t+"]"}function p_(t){return ie({},t,{"data-precedence":t.precedence,precedence:null})}function Pb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ot(n,"link",r),Je(n),t.head.appendChild(n))}function ar(t){return'[src="'+Ut(t)+'"]'}function ba(t){return"script[async]"+t}function g_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(r.href)+'"]');if(l)return n.instance=l,Je(l),l;var c=ie({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Je(l),ot(l,"style",c),Co(l,r.precedence,t),n.instance=l;case"stylesheet":c=rr(r.href);var d=t.querySelector(Sa(c));if(d)return n.state.loading|=4,n.instance=d,Je(d),d;l=p_(r),(c=Yt.get(c))&&Hf(l,c),d=(t.ownerDocument||t).createElement("link"),Je(d);var g=d;return g._p=new Promise(function(_,b){g.onload=_,g.onerror=b}),ot(d,"link",l),n.state.loading|=4,Co(d,r.precedence,t),n.instance=d;case"script":return d=ar(r.src),(c=t.querySelector(ba(d)))?(n.instance=c,Je(c),c):(l=r,(c=Yt.get(d))&&(l=ie({},r),Bf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Je(c),ot(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Co(l,r.precedence,t));return n.instance}function Co(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)d=_;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wo=null;function __(t,n,r){if(wo===null){var l=new Map,c=wo=new Map;c.set(r,l)}else c=wo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var d=r[c];if(!(d[Ur]||d[ft]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(d):l.set(g,[d])}}return l}function v_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function zb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ta=null;function Hb(){}function Bb(t,n,r){if(Ta===null)throw Error(a(475));var l=Ta;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=rr(r.href),d=t.querySelector(Sa(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ro.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,Je(d);return}d=t.ownerDocument||t,r=p_(r),(c=Yt.get(c))&&Hf(r,c),d=d.createElement("link"),Je(d);var g=d;g._p=new Promise(function(_,b){g.onload=_,g.onerror=b}),ot(d,"link",r),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ro.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function qb(){if(Ta===null)throw Error(a(475));var t=Ta;return t.stylesheets&&t.count===0&&qf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&qf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Ro(){if(this.count--,this.count===0){if(this.stylesheets)qf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ao=null;function qf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ao=new Map,n.forEach(Vb,t),Ao=null,Ro.call(t))}function Vb(t,n){if(!(n.state.loading&4)){var r=Ao.get(t);if(r)var l=r.get(null);else{r=new Map,Ao.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),d=r.get(g)||l,d===l&&r.set(null,c),r.set(g,c),this.count++,l=Ro.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ca={$$typeof:N,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function Gb(t,n,r,l,c,d,g,_){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vu(0),this.hiddenUpdates=Vu(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function E_(t,n,r,l,c,d,g,_,b,w,M,L){return t=new Gb(t,n,r,g,_,b,w,L),n=1,d===!0&&(n|=24),d=Gt(3,null,null,n),t.current=d,d.stateNode=t,n=yc(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},Jc(d),t}function S_(t){return t?(t=Ps,t):Ps}function b_(t,n,r,l,c,d){c=S_(c),l.context===null?l.context=c:l.pendingContext=c,l=fi(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=di(t,l,n),r!==null&&(_t(r,t,n),la(r,t,n))}function T_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Vf(t,n){T_(t,n),(t=t.alternate)&&T_(t,n)}function C_(t){if(t.tag===13){var n=si(t,67108864);n!==null&&_t(n,t,67108864),Vf(t,67108864)}}var No=!0;function Fb(t,n,r,l){var c=B.T;B.T=null;var d=F.p;try{F.p=2,Gf(t,n,r,l)}finally{F.p=d,B.T=c}}function Yb(t,n,r,l){var c=B.T;B.T=null;var d=F.p;try{F.p=8,Gf(t,n,r,l)}finally{F.p=d,B.T=c}}function Gf(t,n,r,l){if(No){var c=Ff(l);if(c===null)If(t,n,l,Oo,r),R_(t,l);else if(Kb(c,t,n,r,l))l.stopPropagation();else if(R_(t,l),n&4&&-1<Qb.indexOf(t)){for(;c!==null;){var d=As(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Vi(d.pendingLanes);if(g!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var b=1<<31-Nt(g);_.entanglements[1]|=b,g&=~b}pn(d),(je&6)===0&&(fo=cn()+500,va(0))}}break;case 13:_=si(d,2),_!==null&&_t(_,d,2),po(),Vf(d,2)}if(d=Ff(l),d===null&&If(t,n,l,Oo,r),d===c)break;c=d}c!==null&&l.stopPropagation()}else If(t,n,l,null,r)}}function Ff(t){return t=Xu(t),Yf(t)}var Oo=null;function Yf(t){if(Oo=null,t=Gi(t),t!==null){var n=te(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Oe(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Oo=t,null}function w_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(I0()){case Wh:return 2;case Xh:return 8;case Tl:case M0:return 32;case $h:return 268435456;default:return 32}default:return 32}}var Qf=!1,yi=null,Ei=null,Si=null,wa=new Map,Ra=new Map,bi=[],Qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(t,n){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":wa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(n.pointerId)}}function Aa(t,n,r,l,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},n!==null&&(n=As(n),n!==null&&C_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function Kb(t,n,r,l,c){switch(n){case"focusin":return yi=Aa(yi,t,n,r,l,c),!0;case"dragenter":return Ei=Aa(Ei,t,n,r,l,c),!0;case"mouseover":return Si=Aa(Si,t,n,r,l,c),!0;case"pointerover":var d=c.pointerId;return wa.set(d,Aa(wa.get(d)||null,t,n,r,l,c)),!0;case"gotpointercapture":return d=c.pointerId,Ra.set(d,Aa(Ra.get(d)||null,t,n,r,l,c)),!0}return!1}function A_(t){var n=Gi(t.target);if(n!==null){var r=te(n);if(r!==null){if(n=r.tag,n===13){if(n=Oe(r),n!==null){t.blockedOn=n,q0(t.priority,function(){if(r.tag===13){var l=Mt(),c=si(r,l);c!==null&&_t(c,r,l),Vf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ff(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Wu=l,r.target.dispatchEvent(l),Wu=null}else return n=As(r),n!==null&&C_(n),t.blockedOn=r,!1;n.shift()}return!0}function N_(t,n,r){xo(t)&&r.delete(n)}function Wb(){Qf=!1,yi!==null&&xo(yi)&&(yi=null),Ei!==null&&xo(Ei)&&(Ei=null),Si!==null&&xo(Si)&&(Si=null),wa.forEach(N_),Ra.forEach(N_)}function Do(t,n){t.blockedOn===n&&(t.blockedOn=null,Qf||(Qf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Wb)))}var Io=null;function O_(t){Io!==t&&(Io=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Io===t&&(Io=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Yf(l||r)===null)continue;break}var d=As(r);d!==null&&(t.splice(n,3),n-=3,Lc(d,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Na(t){function n(b){return Do(b,t)}yi!==null&&Do(yi,t),Ei!==null&&Do(Ei,t),Si!==null&&Do(Si,t),wa.forEach(n),Ra.forEach(n);for(var r=0;r<bi.length;r++){var l=bi[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<bi.length&&(r=bi[0],r.blockedOn===null);)A_(r),r.blockedOn===null&&bi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],d=r[l+1],g=c[Tt]||null;if(typeof d=="function")g||O_(r);else if(g){var _=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[Tt]||null)_=g.formAction;else if(Yf(c)!==null)continue}else _=g.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),O_(r)}}}function Kf(t){this._internalRoot=t}Mo.prototype.render=Kf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Mt();b_(r,l,t,n,null,null)},Mo.prototype.unmount=Kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&tr(),b_(t.current,2,null,t,null,null),po(),n[Rs]=null}};function Mo(t){this._internalRoot=t}Mo.prototype.unstable_scheduleHydration=function(t){if(t){var n=im();t={blockedOn:null,target:t,priority:n};for(var r=0;r<bi.length&&n!==0&&n<bi[r].priority;r++);bi.splice(r,0,t),r===0&&A_(t)}};var x_=e.version;if(x_!=="19.0.0")throw Error(a(527,x_,"19.0.0"));F.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=z(n),t=t!==null?J(t):null,t=t===null?null:t.stateNode,t};var Xb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:B,findFiberByHostInstance:Gi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{Mr=ko.inject(Xb),At=ko}catch{}}return xa.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Qp,d=Kp,g=Wp,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=E_(t,1,!1,null,null,r,l,c,d,g,_,null),t[Rs]=n.current,Df(t.nodeType===8?t.parentNode:t),new Kf(n)},xa.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",d=Qp,g=Kp,_=Wp,b=null,w=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(w=r.formState)),n=E_(t,1,!0,n,r??null,l,c,d,g,_,b,w),n.context=S_(null),r=n.current,l=Mt(),c=fi(l),c.callback=null,di(r,c,l),n.current.lanes=l,Lr(n,l),pn(n),t[Rs]=n.current,Df(t),new Mo(n)},xa.version="19.0.0",xa}var H_;function aT(){if(H_)return $f.exports;H_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$f.exports=rT(),$f.exports}var lT=aT(),Da={},B_;function oT(){if(B_)return Da;B_=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.parse=f,Da.serialize=p;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,N){const A=new u,j=S.length;if(j<2)return A;const P=(N==null?void 0:N.decode)||v;let U=0;do{const Y=S.indexOf("=",U);if(Y===-1)break;const V=S.indexOf(";",U),me=V===-1?j:V;if(Y>me){U=S.lastIndexOf(";",Y-1)+1;continue}const X=m(S,U,Y),G=h(S,Y,X),le=S.slice(X,G);if(A[le]===void 0){let be=m(S,Y+1,me),B=h(S,me,be);const ie=P(S.slice(be,B));A[le]=ie}U=me+1}while(U<j);return A}function m(S,N,A){do{const j=S.charCodeAt(N);if(j!==32&&j!==9)return N}while(++N<A);return A}function h(S,N,A){for(;N>A;){const j=S.charCodeAt(--N);if(j!==32&&j!==9)return N+1}return A}function p(S,N,A){const j=(A==null?void 0:A.encode)||encodeURIComponent;if(!s.test(S))throw new TypeError(`argument name is invalid: ${S}`);const P=j(N);if(!e.test(P))throw new TypeError(`argument val is invalid: ${N}`);let U=S+"="+P;if(!A)return U;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);U+="; Max-Age="+A.maxAge}if(A.domain){if(!i.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);U+="; Domain="+A.domain}if(A.path){if(!a.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);U+="; Path="+A.path}if(A.expires){if(!y(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);U+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(U+="; HttpOnly"),A.secure&&(U+="; Secure"),A.partitioned&&(U+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return U}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function y(S){return o.call(S)==="[object Date]"}return Da}oT();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q_="popstate";function uT(s={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return _d("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:Fa(o)}return fT(e,i,null,s)}function Le(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function sn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cT(){return Math.random().toString(36).substring(2,10)}function V_(s,e){return{usr:s.state,key:s.key,idx:e}}function _d(s,e,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Er(e):e,state:i,key:e&&e.key||a||cT()}}function Fa({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Er(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function fT(s,e,i,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",h=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function y(){m="POP";let P=v(),U=P==null?null:P-p;p=P,h&&h({action:m,location:j.location,delta:U})}function S(P,U){m="PUSH";let Y=_d(j.location,P,U);p=v()+1;let V=V_(Y,p),me=j.createHref(Y);try{f.pushState(V,"",me)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(me)}u&&h&&h({action:m,location:j.location,delta:1})}function N(P,U){m="REPLACE";let Y=_d(j.location,P,U);p=v();let V=V_(Y,p),me=j.createHref(Y);f.replaceState(V,"",me),u&&h&&h({action:m,location:j.location,delta:0})}function A(P){let U=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof P=="string"?P:Fa(P);return Y=Y.replace(/ $/,"%20"),Le(U,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,U)}let j={get action(){return m},get location(){return s(o,f)},listen(P){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(q_,y),h=P,()=>{o.removeEventListener(q_,y),h=null}},createHref(P){return e(o,P)},createURL:A,encodeLocation(P){let U=A(P);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:S,replace:N,go(P){return f.go(P)}};return j}function ny(s,e,i="/"){return dT(s,e,i,!1)}function dT(s,e,i,a){let o=typeof e=="string"?Er(e):e,u=Qn(o.pathname||"/",i);if(u==null)return null;let f=iy(s);hT(f);let m=null;for(let h=0;m==null&&h<f.length;++h){let p=CT(u);m=bT(f[h],p,a)}return m}function iy(s,e=[],i=[],a=""){let o=(u,f,m)=>{let h={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};h.relativePath.startsWith("/")&&(Le(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length));let p=Gn([a,h.relativePath]),v=i.concat(h);u.children&&u.children.length>0&&(Le(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),iy(u.children,e,v,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:ET(p,u.index),routesMeta:v})};return s.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let h of sy(u.path))o(u,f,h)}),e}function sy(s){let e=s.split("/");if(e.length===0)return[];let[i,...a]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=sy(a.join("/")),m=[];return m.push(...f.map(h=>h===""?u:[u,h].join("/"))),o&&m.push(...f),m.map(h=>s.startsWith("/")&&h===""?"/":h)}function hT(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:ST(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var mT=/^:[\w-]+$/,pT=3,gT=2,_T=1,vT=10,yT=-2,G_=s=>s==="*";function ET(s,e){let i=s.split("/"),a=i.length;return i.some(G_)&&(a+=yT),e&&(a+=gT),i.filter(o=>!G_(o)).reduce((o,u)=>o+(mT.test(u)?pT:u===""?_T:vT),a)}function ST(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function bT(s,e,i=!1){let{routesMeta:a}=s,o={},u="/",f=[];for(let m=0;m<a.length;++m){let h=a[m],p=m===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",y=Yo({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),S=h.route;if(!y&&p&&i&&!a[a.length-1].route.index&&(y=Yo({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),f.push({params:o,pathname:Gn([u,y.pathname]),pathnameBase:NT(Gn([u,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(u=Gn([u,y.pathnameBase]))}return f}function Yo(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=TT(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:y},S)=>{if(v==="*"){let A=m[S]||"";f=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const N=m[S];return y&&!N?p[v]=void 0:p[v]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:s}}function TT(s,e=!1,i=!0){sn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,h)=>(a.push({paramName:m,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function CT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Qn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function wT(s,e="/"){let{pathname:i,search:a="",hash:o=""}=typeof s=="string"?Er(s):s;return{pathname:i?i.startsWith("/")?i:RT(i,e):e,search:OT(a),hash:xT(o)}}function RT(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function td(s,e,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AT(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Gd(s){let e=AT(s);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function Fd(s,e,i,a=!1){let o;typeof s=="string"?o=Er(s):(o={...s},Le(!o.pathname||!o.pathname.includes("?"),td("?","pathname","search",o)),Le(!o.pathname||!o.pathname.includes("#"),td("#","pathname","hash",o)),Le(!o.search||!o.search.includes("#"),td("#","search","hash",o)));let u=s===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=i;else{let y=e.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),y-=1;o.pathname=S.join("/")}m=y>=0?e[y]:"/"}let h=wT(o,m),p=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var Gn=s=>s.join("/").replace(/\/\/+/g,"/"),NT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),OT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,xT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function DT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var ry=["POST","PUT","PATCH","DELETE"];new Set(ry);var IT=["GET",...ry];new Set(IT);var Sr=O.createContext(null);Sr.displayName="DataRouter";var Eu=O.createContext(null);Eu.displayName="DataRouterState";var ay=O.createContext({isTransitioning:!1});ay.displayName="ViewTransition";var MT=O.createContext(new Map);MT.displayName="Fetchers";var kT=O.createContext(null);kT.displayName="Await";var an=O.createContext(null);an.displayName="Navigation";var rl=O.createContext(null);rl.displayName="Location";var ln=O.createContext({outlet:null,matches:[],isDataRoute:!1});ln.displayName="Route";var Yd=O.createContext(null);Yd.displayName="RouteError";function LT(s,{relative:e}={}){Le(br(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=O.useContext(an),{hash:o,pathname:u,search:f}=al(s,{relative:e}),m=u;return i!=="/"&&(m=u==="/"?i:Gn([i,u])),a.createHref({pathname:m,search:f,hash:o})}function br(){return O.useContext(rl)!=null}function $n(){return Le(br(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(rl).location}var ly="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oy(s){O.useContext(an).static||O.useLayoutEffect(s)}function zi(){let{isDataRoute:s}=O.useContext(ln);return s?WT():UT()}function UT(){Le(br(),"useNavigate() may be used only in the context of a <Router> component.");let s=O.useContext(Sr),{basename:e,navigator:i}=O.useContext(an),{matches:a}=O.useContext(ln),{pathname:o}=$n(),u=JSON.stringify(Gd(a)),f=O.useRef(!1);return oy(()=>{f.current=!0}),O.useCallback((h,p={})=>{if(sn(f.current,ly),!f.current)return;if(typeof h=="number"){i.go(h);return}let v=Fd(h,JSON.parse(u),o,p.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Gn([e,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[e,i,u,o,s])}O.createContext(null);function jT(){let{matches:s}=O.useContext(ln),e=s[s.length-1];return e?e.params:{}}function al(s,{relative:e}={}){let{matches:i}=O.useContext(ln),{pathname:a}=$n(),o=JSON.stringify(Gd(i));return O.useMemo(()=>Fd(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function PT(s,e){return uy(s,e)}function uy(s,e,i,a){var Y;Le(br(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=O.useContext(an),{matches:f}=O.useContext(ln),m=f[f.length-1],h=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",y=m&&m.route;{let V=y&&y.path||"";cy(p,!y||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let S=$n(),N;if(e){let V=typeof e=="string"?Er(e):e;Le(v==="/"||((Y=V.pathname)==null?void 0:Y.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${V.pathname}" was given in the \`location\` prop.`),N=V}else N=S;let A=N.pathname||"/",j=A;if(v!=="/"){let V=v.replace(/^\//,"").split("/");j="/"+A.replace(/^\//,"").split("/").slice(V.length).join("/")}let P=!u&&i&&i.matches&&i.matches.length>0?i.matches:ny(s,{pathname:j});sn(y||P!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),sn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=VT(P&&P.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:Gn([v,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?v:Gn([v,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),f,i,a);return e&&U?O.createElement(rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},U):U}function zT(){let s=KT(),e=DT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),i?O.createElement("pre",{style:o},i):null,f)}var HT=O.createElement(zT,null),BT=class extends O.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?O.createElement(ln.Provider,{value:this.props.routeContext},O.createElement(Yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qT({routeContext:s,match:e,children:i}){let a=O.useContext(Sr);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(ln.Provider,{value:s},i)}function VT(s,e=[],i=null,a=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let o=s,u=i==null?void 0:i.errors;if(u!=null){let h=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Le(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let f=!1,m=-1;if(i)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=h),p.route.id){let{loaderData:v,errors:y}=i,S=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((h,p,v)=>{let y,S=!1,N=null,A=null;i&&(y=u&&p.route.id?u[p.route.id]:void 0,N=p.route.errorElement||HT,f&&(m<0&&v===0?(cy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):m===v&&(S=!0,A=p.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,v+1)),P=()=>{let U;return y?U=N:S?U=A:p.route.Component?U=O.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=h,O.createElement(qT,{match:p,routeContext:{outlet:h,matches:j,isDataRoute:i!=null},children:U})};return i&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?O.createElement(BT,{location:i.location,revalidation:i.revalidation,component:N,error:y,children:P(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):P()},null)}function Qd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GT(s){let e=O.useContext(Sr);return Le(e,Qd(s)),e}function FT(s){let e=O.useContext(Eu);return Le(e,Qd(s)),e}function YT(s){let e=O.useContext(ln);return Le(e,Qd(s)),e}function Kd(s){let e=YT(s),i=e.matches[e.matches.length-1];return Le(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function QT(){return Kd("useRouteId")}function KT(){var a;let s=O.useContext(Yd),e=FT("useRouteError"),i=Kd("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[i]}function WT(){let{router:s}=GT("useNavigate"),e=Kd("useNavigate"),i=O.useRef(!1);return oy(()=>{i.current=!0}),O.useCallback(async(o,u={})=>{sn(i.current,ly),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var F_={};function cy(s,e,i){!e&&!F_[s]&&(F_[s]=!0,sn(!1,i))}O.memo(XT);function XT({routes:s,future:e,state:i}){return uy(s,void 0,i,e)}function $T({to:s,replace:e,state:i,relative:a}){Le(br(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(an);sn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=O.useContext(ln),{pathname:f}=$n(),m=zi(),h=Fd(s,Gd(u),f,a==="path"),p=JSON.stringify(h);return O.useEffect(()=>{m(JSON.parse(p),{replace:e,state:i,relative:a})},[m,p,a,e,i]),null}function Qt(s){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZT({basename:s="/",children:e=null,location:i,navigationType:a="POP",navigator:o,static:u=!1}){Le(!br(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof i=="string"&&(i=Er(i));let{pathname:h="/",search:p="",hash:v="",state:y=null,key:S="default"}=i,N=O.useMemo(()=>{let A=Qn(h,f);return A==null?null:{location:{pathname:A,search:p,hash:v,state:y,key:S},navigationType:a}},[f,h,p,v,y,S,a]);return sn(N!=null,`<Router basename="${f}"> is not able to match the URL "${h}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:O.createElement(an.Provider,{value:m},O.createElement(rl.Provider,{children:e,value:N}))}function JT({children:s,location:e}){return PT(vd(s),e)}function vd(s,e=[]){let i=[];return O.Children.forEach(s,(a,o)=>{if(!O.isValidElement(a))return;let u=[...e,o];if(a.type===O.Fragment){i.push.apply(i,vd(a.props.children,u));return}Le(a.type===Qt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=vd(a.props.children,u)),i.push(f)}),i}var zo="get",Ho="application/x-www-form-urlencoded";function Su(s){return s!=null&&typeof s.tagName=="string"}function eC(s){return Su(s)&&s.tagName.toLowerCase()==="button"}function tC(s){return Su(s)&&s.tagName.toLowerCase()==="form"}function nC(s){return Su(s)&&s.tagName.toLowerCase()==="input"}function iC(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function sC(s,e){return s.button===0&&(!e||e==="_self")&&!iC(s)}var Lo=null;function rC(){if(Lo===null)try{new FormData(document.createElement("form"),0),Lo=!1}catch{Lo=!0}return Lo}var aC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nd(s){return s!=null&&!aC.has(s)?(sn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ho}"`),null):s}function lC(s,e){let i,a,o,u,f;if(tC(s)){let m=s.getAttribute("action");a=m?Qn(m,e):null,i=s.getAttribute("method")||zo,o=nd(s.getAttribute("enctype"))||Ho,u=new FormData(s)}else if(eC(s)||nC(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=s.getAttribute("formaction")||m.getAttribute("action");if(a=h?Qn(h,e):null,i=s.getAttribute("formmethod")||m.getAttribute("method")||zo,o=nd(s.getAttribute("formenctype"))||nd(m.getAttribute("enctype"))||Ho,u=new FormData(m,s),!rC()){let{name:p,type:v,value:y}=s;if(v==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,y)}}else{if(Su(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=zo,a=null,o=Ho,f=s}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:u,body:f}}function Wd(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function oC(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function cC(s,e,i){let a=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await oC(u,i);return f.links?f.links():[]}return[]}));return mC(a.flat(1).filter(uC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Y_(s,e,i,a,o,u){let f=(h,p)=>i[p]?h.route.id!==i[p].route.id:!0,m=(h,p)=>{var v;return i[p].pathname!==h.pathname||((v=i[p].route.path)==null?void 0:v.endsWith("*"))&&i[p].params["*"]!==h.params["*"]};return u==="assets"?e.filter((h,p)=>f(h,p)||m(h,p)):u==="data"?e.filter((h,p)=>{var y;let v=a.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(f(h,p)||m(h,p))return!0;if(h.route.shouldRevalidate){let S=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=i[0])==null?void 0:y.params)||{},nextUrl:new URL(s,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function fC(s,e,{includeHydrateFallback:i}={}){return dC(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function dC(s){return[...new Set(s)]}function hC(s){let e={},i=Object.keys(s).sort();for(let a of i)e[a]=s[a];return e}function mC(s,e){let i=new Set;return new Set(e),s.reduce((a,o)=>{let u=JSON.stringify(hC(o));return i.has(u)||(i.add(u),a.push({key:u,link:o})),a},[])}function pC(s,e){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname="_root.data":e&&Qn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function fy(){let s=O.useContext(Sr);return Wd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function gC(){let s=O.useContext(Eu);return Wd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Xd=O.createContext(void 0);Xd.displayName="FrameworkContext";function dy(){let s=O.useContext(Xd);return Wd(s,"You must render this element inside a <HydratedRouter> element"),s}function _C(s,e){let i=O.useContext(Xd),[a,o]=O.useState(!1),[u,f]=O.useState(!1),{onFocus:m,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:y}=e,S=O.useRef(null);O.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let j=U=>{U.forEach(Y=>{f(Y.isIntersecting)})},P=new IntersectionObserver(j,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[s]),O.useEffect(()=>{if(a){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[a]);let N=()=>{o(!0)},A=()=>{o(!1),f(!1)};return i?s!=="intent"?[u,S,{}]:[u,S,{onFocus:Ia(m,N),onBlur:Ia(h,A),onMouseEnter:Ia(p,N),onMouseLeave:Ia(v,A),onTouchStart:Ia(y,N)}]:[!1,S,{}]}function Ia(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function vC({page:s,...e}){let{router:i}=fy(),a=O.useMemo(()=>ny(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?O.createElement(EC,{page:s,matches:a,...e}):null}function yC(s){let{manifest:e,routeModules:i}=dy(),[a,o]=O.useState([]);return O.useEffect(()=>{let u=!1;return cC(s,e,i).then(f=>{u||o(f)}),()=>{u=!0}},[s,e,i]),a}function EC({page:s,matches:e,...i}){let a=$n(),{manifest:o,routeModules:u}=dy(),{basename:f}=fy(),{loaderData:m,matches:h}=gC(),p=O.useMemo(()=>Y_(s,e,h,o,a,"data"),[s,e,h,o,a]),v=O.useMemo(()=>Y_(s,e,h,o,a,"assets"),[s,e,h,o,a]),y=O.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let A=new Set,j=!1;if(e.forEach(U=>{var V;let Y=o.routes[U.route.id];!Y||!Y.hasLoader||(!p.some(me=>me.route.id===U.route.id)&&U.route.id in m&&((V=u[U.route.id])!=null&&V.shouldRevalidate)||Y.hasClientLoader?j=!0:A.add(U.route.id))}),A.size===0)return[];let P=pC(s,f);return j&&A.size>0&&P.searchParams.set("_routes",e.filter(U=>A.has(U.route.id)).map(U=>U.route.id).join(",")),[P.pathname+P.search]},[f,m,a,o,p,e,s,u]),S=O.useMemo(()=>fC(v,o),[v,o]),N=yC(v);return O.createElement(O.Fragment,null,y.map(A=>O.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...i})),S.map(A=>O.createElement("link",{key:A,rel:"modulepreload",href:A,...i})),N.map(({key:A,link:j})=>O.createElement("link",{key:A,...j})))}function SC(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var hy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hy&&(window.__reactRouterVersion="7.4.0")}catch{}function bC({basename:s,children:e,window:i}){let a=O.useRef();a.current==null&&(a.current=uT({window:i,v5Compat:!0}));let o=a.current,[u,f]=O.useState({action:o.action,location:o.location}),m=O.useCallback(h=>{O.startTransition(()=>f(h))},[f]);return O.useLayoutEffect(()=>o.listen(m),[o,m]),O.createElement(ZT,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:o})}var my=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=O.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:h,to:p,preventScrollReset:v,viewTransition:y,...S},N){let{basename:A}=O.useContext(an),j=typeof p=="string"&&my.test(p),P,U=!1;if(typeof p=="string"&&j&&(P=p,hy))try{let B=new URL(window.location.href),ie=p.startsWith("//")?new URL(B.protocol+p):new URL(p),mt=Qn(ie.pathname,A);ie.origin===B.origin&&mt!=null?p=mt+ie.search+ie.hash:U=!0}catch{sn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=LT(p,{relative:o}),[V,me,X]=_C(a,S),G=RC(p,{replace:f,state:m,target:h,preventScrollReset:v,relative:o,viewTransition:y});function le(B){e&&e(B),B.defaultPrevented||G(B)}let be=O.createElement("a",{...S,...X,href:P||Y,onClick:U||u?e:le,ref:SC(N,me),target:h,"data-discover":!j&&i==="render"?"true":void 0});return V&&!j?O.createElement(O.Fragment,null,be,O.createElement(vC,{page:Y})):be});Ke.displayName="Link";var TC=O.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:h,...p},v){let y=al(f,{relative:p.relative}),S=$n(),N=O.useContext(Eu),{navigator:A,basename:j}=O.useContext(an),P=N!=null&&DC(y)&&m===!0,U=A.encodeLocation?A.encodeLocation(y).pathname:y.pathname,Y=S.pathname,V=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(Y=Y.toLowerCase(),V=V?V.toLowerCase():null,U=U.toLowerCase()),V&&j&&(V=Qn(V,j)||V);const me=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let X=Y===U||!o&&Y.startsWith(U)&&Y.charAt(me)==="/",G=V!=null&&(V===U||!o&&V.startsWith(U)&&V.charAt(U.length)==="/"),le={isActive:X,isPending:G,isTransitioning:P},be=X?e:void 0,B;typeof a=="function"?B=a(le):B=[a,X?"active":null,G?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let ie=typeof u=="function"?u(le):u;return O.createElement(Ke,{...p,"aria-current":be,className:B,ref:v,style:ie,to:f,viewTransition:m},typeof h=="function"?h(le):h)});TC.displayName="NavLink";var CC=O.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:o,state:u,method:f=zo,action:m,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:y,...S},N)=>{let A=OC(),j=xC(m,{relative:p}),P=f.toLowerCase()==="get"?"get":"post",U=typeof m=="string"&&my.test(m),Y=V=>{if(h&&h(V),V.defaultPrevented)return;V.preventDefault();let me=V.nativeEvent.submitter,X=(me==null?void 0:me.getAttribute("formmethod"))||f;A(me||V.currentTarget,{fetcherKey:e,method:X,navigate:i,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:y})};return O.createElement("form",{ref:N,method:P,action:j,onSubmit:a?h:Y,...S,"data-discover":!U&&s==="render"?"true":void 0})});CC.displayName="Form";function wC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function py(s){let e=O.useContext(Sr);return Le(e,wC(s)),e}function RC(s,{target:e,replace:i,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=zi(),h=$n(),p=al(s,{relative:u});return O.useCallback(v=>{if(sC(v,e)){v.preventDefault();let y=i!==void 0?i:Fa(h)===Fa(p);m(s,{replace:y,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[h,m,p,i,a,e,s,o,u,f])}var AC=0,NC=()=>`__${String(++AC)}__`;function OC(){let{router:s}=py("useSubmit"),{basename:e}=O.useContext(an),i=QT();return O.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:h,body:p}=lC(a,e);if(o.navigate===!1){let v=o.fetcherKey||NC();await s.fetch(v,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,i])}function xC(s,{relative:e}={}){let{basename:i}=O.useContext(an),a=O.useContext(ln);Le(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...al(s||".",{relative:e})},f=$n();if(s==null){u.search=f.search;let m=new URLSearchParams(u.search),h=m.getAll("index");if(h.some(v=>v==="")){m.delete("index"),h.filter(y=>y).forEach(y=>m.append("index",y));let v=m.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Gn([i,u.pathname])),Fa(u)}function DC(s,e={}){let i=O.useContext(ay);Le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=py("useViewTransitionState"),o=al(s,{relative:e.relative});if(!i.isTransitioning)return!1;let u=Qn(i.currentLocation.pathname,a)||i.currentLocation.pathname,f=Qn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Yo(o.pathname,f)!=null||Yo(o.pathname,u)!=null}new TextEncoder;const gy=O.createContext();function IC({children:s}){const[e,i]=O.useState(()=>{const o=localStorage.getItem("theme");return o?o==="dark":!0});O.useEffect(()=>{localStorage.setItem("theme",e?"dark":"light"),document.body.classList.add("dark-mode"),document.body.classList.remove("light-mode")},[]);const a=()=>{i(o=>!o),document.body.classList.toggle("dark-mode"),document.body.classList.toggle("light-mode")};return E.jsx(gy.Provider,{value:{isDarkMode:e,toggleTheme:a},children:s})}function MC(){const s=O.useContext(gy);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s}var Q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(s,e){if(!s)throw Tr(e)},Tr=function(s){return new Error("Firebase Database ("+_y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},kC=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],f=s[i++],m=s[i++],h=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(h>>10)),e[a++]=String.fromCharCode(56320+(h&1023))}else{const u=s[i++],f=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},$d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,h=o+2<s.length,p=h?s[o+2]:0,v=u>>2,y=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,N=p&63;h||(N=64,f||(S=64)),a.push(i[v],i[y],i[S],i[N])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(vy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):kC(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],m=o<s.length?i[s.charAt(o)]:0;++o;const p=o<s.length?i[s.charAt(o)]:64;++o;const y=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||m==null||p==null||y==null)throw new LC;const S=u<<2|m>>4;if(a.push(S),p!==64){const N=m<<4&240|p>>2;if(a.push(N),y!==64){const A=p<<6&192|y;a.push(A)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class LC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yy=function(s){const e=vy(s);return $d.encodeByteArray(e,!0)},Qo=function(s){return yy(s).replace(/\./g,"")},Ko=function(s){try{return $d.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(s){return Ey(void 0,s)}function Ey(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!jC(i)||(s[i]=Ey(s[i],e[i]));return s}function jC(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=()=>PC().__FIREBASE_DEFAULTS__,HC=()=>{if(typeof process>"u"||typeof Q_>"u")return;const s=Q_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},BC=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Ko(s[1]);return e&&JSON.parse(e)},Zd=()=>{try{return zC()||HC()||BC()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Sy=s=>{var e,i;return(i=(e=Zd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},qC=s=>{const e=Sy(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},by=()=>{var s;return(s=Zd())===null||s===void 0?void 0:s.config},Ty=s=>{var e;return(e=Zd())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Qo(JSON.stringify(i)),Qo(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function GC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FC(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Cy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YC(){const s=St();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function QC(){return _y.NODE_ADMIN===!0}function KC(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="FirebaseError";class Hi extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=XC,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?$C(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Hi(o,m,a)}}function $C(s,e){return s.replace(ZC,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const ZC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(s){return JSON.parse(s)}function Ze(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=function(s){let e={},i={},a={},o="";try{const u=s.split(".");e=Ya(Ko(u[0])||""),i=Ya(Ko(u[1])||""),o=u[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:o}},JC=function(s){const e=wy(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},ew=function(s){const e=wy(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function mr(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function yd(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Wo(s,e,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=e.call(i,s[o],o,s));return a}function Xo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const u=s[o],f=e[o];if(K_(u)&&K_(f)){if(!Xo(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function K_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function ja(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Pa(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)a[y]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)a[y]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let y=16;y<80;y++){const S=a[y-3]^a[y-8]^a[y-14]^a[y-16];a[y]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],m=this.chain_[3],h=this.chain_[4],p,v;for(let y=0;y<80;y++){y<40?y<20?(p=m^u&(f^m),v=1518500249):(p=u^f^m,v=1859775393):y<60?(p=u&f|m&(u|f),v=2400959708):(p=u^f^m,v=3395469782);const S=(o<<5|o>>>27)+p+h+v+a[y]&4294967295;h=m,m=f,f=(u<<30|u>>>2)&4294967295,u=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<i;){if(f===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<i;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[a]=this.chain_[o]>>u&255,++a;return e}}function nw(s,e){const i=new iw(s,e);return i.subscribe.bind(i)}class iw{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");sw(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=id),o.error===void 0&&(o.error=id),o.complete===void 0&&(o.complete=id);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sw(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function id(){}function bu(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const u=o-55296;a++,H(a<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(a)-56320;o=65536+(u<<10)+f}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Tu=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(s){return s&&s._delegate?s._delegate:s}class gs{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new ll;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ow(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lw(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lw(s){return s===ds?void 0:s}function ow(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new aw(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ae||(Ae={}));const cw={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},fw=Ae.INFO,dw={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},hw=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=dw[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eh{constructor(e){this.name=e,this._logLevel=fw,this._logHandler=hw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const mw=(s,e)=>e.some(i=>s instanceof i);let W_,X_;function pw(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gw(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ry=new WeakMap,Ed=new WeakMap,Ay=new WeakMap,sd=new WeakMap,th=new WeakMap;function _w(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{i(xi(s.result)),o()},f=()=>{a(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Ry.set(i,s)}).catch(()=>{}),th.set(e,s),e}function vw(s){if(Ed.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Ed.set(s,e)}let Sd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Ed.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Ay.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xi(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function yw(s){Sd=s(Sd)}function Ew(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(rd(this),e,...i);return Ay.set(a,e.sort?e.sort():[e]),xi(a)}:gw().includes(s)?function(...e){return s.apply(rd(this),e),xi(Ry.get(this))}:function(...e){return xi(s.apply(rd(this),e))}}function Sw(s){return typeof s=="function"?Ew(s):(s instanceof IDBTransaction&&vw(s),mw(s,pw())?new Proxy(s,Sd):s)}function xi(s){if(s instanceof IDBRequest)return _w(s);if(sd.has(s))return sd.get(s);const e=Sw(s);return e!==s&&(sd.set(s,e),th.set(e,s)),e}const rd=s=>th.get(s);function bw(s,e,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),m=xi(f);return a&&f.addEventListener("upgradeneeded",h=>{a(xi(f.result),h.oldVersion,h.newVersion,xi(f.transaction),h)}),i&&f.addEventListener("blocked",h=>i(h.oldVersion,h.newVersion,h)),m.then(h=>{u&&h.addEventListener("close",()=>u()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Tw=["get","getKey","getAll","getAllKeys","count"],Cw=["put","add","delete","clear"],ad=new Map;function $_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(ad.get(e))return ad.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=Cw.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Tw.includes(i)))return;const u=async function(f,...m){const h=this.transaction(f,o?"readwrite":"readonly");let p=h.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&h.done]))[0]};return ad.set(e,u),u}yw(s=>({...s,get:(e,i,a)=>$_(e,i)||s.get(e,i,a),has:(e,i)=>!!$_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Rw(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Rw(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bd="@firebase/app",Z_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new eh("@firebase/app"),Aw="@firebase/app-compat",Nw="@firebase/analytics-compat",Ow="@firebase/analytics",xw="@firebase/app-check-compat",Dw="@firebase/app-check",Iw="@firebase/auth",Mw="@firebase/auth-compat",kw="@firebase/database",Lw="@firebase/data-connect",Uw="@firebase/database-compat",jw="@firebase/functions",Pw="@firebase/functions-compat",zw="@firebase/installations",Hw="@firebase/installations-compat",Bw="@firebase/messaging",qw="@firebase/messaging-compat",Vw="@firebase/performance",Gw="@firebase/performance-compat",Fw="@firebase/remote-config",Yw="@firebase/remote-config-compat",Qw="@firebase/storage",Kw="@firebase/storage-compat",Ww="@firebase/firestore",Xw="@firebase/vertexai-preview",$w="@firebase/firestore-compat",Zw="firebase",Jw="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",eR={[bd]:"fire-core",[Aw]:"fire-core-compat",[Ow]:"fire-analytics",[Nw]:"fire-analytics-compat",[Dw]:"fire-app-check",[xw]:"fire-app-check-compat",[Iw]:"fire-auth",[Mw]:"fire-auth-compat",[kw]:"fire-rtdb",[Lw]:"fire-data-connect",[Uw]:"fire-rtdb-compat",[jw]:"fire-fn",[Pw]:"fire-fn-compat",[zw]:"fire-iid",[Hw]:"fire-iid-compat",[Bw]:"fire-fcm",[qw]:"fire-fcm-compat",[Vw]:"fire-perf",[Gw]:"fire-perf-compat",[Fw]:"fire-rc",[Yw]:"fire-rc-compat",[Qw]:"fire-gcs",[Kw]:"fire-gcs-compat",[Ww]:"fire-fst",[$w]:"fire-fst-compat",[Xw]:"fire-vertex","fire-js":"fire-js",[Zw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Map,tR=new Map,Cd=new Map;function J_(s,e){try{s.container.addComponent(e)}catch(i){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function pr(s){const e=s.name;if(Cd.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;Cd.set(e,s);for(const i of $o.values())J_(i,s);for(const i of tR.values())J_(i,s);return!0}function nh(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function gn(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new ol("app","Firebase",nR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=Jw;function Ny(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Td,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Di.create("bad-app-name",{appName:String(o)});if(i||(i=by()),!i)throw Di.create("no-options");const u=$o.get(o);if(u){if(Xo(i,u.options)&&Xo(a,u.config))return u;throw Di.create("duplicate-app",{appName:o})}const f=new uw(o);for(const h of Cd.values())f.addComponent(h);const m=new iR(i,a,f);return $o.set(o,m),m}function Oy(s=Td){const e=$o.get(s);if(!e&&s===Td&&by())return Ny();if(!e)throw Di.create("no-app",{appName:s});return e}function Ii(s,e,i){var a;let o=(a=eR[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(m.join(" "));return}pr(new gs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-heartbeat-database",rR=1,Qa="firebase-heartbeat-store";let ld=null;function xy(){return ld||(ld=bw(sR,rR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Qa)}catch(i){console.warn(i)}}}}).catch(s=>{throw Di.create("idb-open",{originalErrorMessage:s.message})})),ld}async function aR(s){try{const i=(await xy()).transaction(Qa),a=await i.objectStore(Qa).get(Dy(s));return await i.done,a}catch(e){if(e instanceof Hi)Kn.warn(e.message);else{const i=Di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kn.warn(i.message)}}}async function ev(s,e){try{const a=(await xy()).transaction(Qa,"readwrite");await a.objectStore(Qa).put(e,Dy(s)),await a.done}catch(i){if(i instanceof Hi)Kn.warn(i.message);else{const a=Di.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Kn.warn(a.message)}}}function Dy(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=1024,oR=30*24*60*60*1e3;class uR{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fR(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=tv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=oR}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Kn.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=tv(),{heartbeatsToSend:a,unsentEntries:o}=cR(this._heartbeatsCache.heartbeats),u=Qo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Kn.warn(i),""}}}function tv(){return new Date().toISOString().substring(0,10)}function cR(s,e=lR){const i=[];let a=s.slice();for(const o of s){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),nv(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),nv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KC()?WC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await aR(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ev(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ev(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function nv(s){return Qo(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(s){pr(new gs("platform-logger",e=>new ww(e),"PRIVATE")),pr(new gs("heartbeat",e=>new uR(e),"PRIVATE")),Ii(bd,Z_,s),Ii(bd,Z_,"esm2017"),Ii("fire-js","")}dR("");var hR="firebase",mR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(hR,mR,"app");function ih(s,e){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(i[a[o]]=s[a[o]]);return i}function Iy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pR=Iy,My=new ol("auth","Firebase",Iy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new eh("@firebase/auth");function gR(s,...e){Zo.logLevel<=Ae.WARN&&Zo.warn(`Auth (${wr}): ${s}`,...e)}function Bo(s,...e){Zo.logLevel<=Ae.ERROR&&Zo.error(`Auth (${wr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(s,...e){throw sh(s,...e)}function _n(s,...e){return sh(s,...e)}function ky(s,e,i){const a=Object.assign(Object.assign({},pR()),{[e]:i});return new ol("auth","Firebase",a).create(e,{appName:s.name})}function Fn(s){return ky(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sh(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return My.create(s,...e)}function ne(s,e,...i){if(!s)throw sh(e,...i)}function Hn(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Bo(e),new Error(e)}function Wn(s,e){s||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function _R(){return iv()==="http:"||iv()==="https:"}function iv(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_R()||FC()||"connection"in navigator)?navigator.onLine:!0}function yR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,i){this.shortDelay=e,this.longDelay=i,Wn(i>e,"Short delay should be less than long delay!"),this.isMobile=Jd()||Cy()}get(){return vR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(s,e){Wn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new ul(3e4,6e4);function Bi(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function qi(s,e,i,a,o={}){return Uy(s,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=Cr(Object.assign({key:s.config.apiKey},f)).slice(1),h=await s._getAdditionalHeaders();h["Content-Type"]="application/json",s.languageCode&&(h["X-Firebase-Locale"]=s.languageCode);const p=Object.assign({method:e,headers:h},u);return GC()||(p.referrerPolicy="no-referrer"),Ly.fetch()(jy(s,s.config.apiHost,i,m),p)})}async function Uy(s,e,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},ER),e);try{const o=new TR(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Uo(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[h,p]=m.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uo(s,"credential-already-in-use",f);if(h==="EMAIL_EXISTS")throw Uo(s,"email-already-in-use",f);if(h==="USER_DISABLED")throw Uo(s,"user-disabled",f);const v=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ky(s,v,p);rn(s,v)}}catch(o){if(o instanceof Hi)throw o;rn(s,"network-request-failed",{message:String(o)})}}async function cl(s,e,i,a,o={}){const u=await qi(s,e,i,a,o);return"mfaPendingCredential"in u&&rn(s,"multi-factor-auth-required",{_serverResponse:u}),u}function jy(s,e,i,a){const o=`${e}${i}?${a}`;return s.config.emulator?rh(s.config,o):`${s.config.apiScheme}://${o}`}function bR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(_n(this.auth,"network-request-failed")),SR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uo(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=_n(s,e,a);return o.customData._tokenResponse=i,o}function sv(s){return s!==void 0&&s.enterprise!==void 0}class CR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return bR(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function wR(s,e){return qi(s,"GET","/v2/recaptchaConfig",Bi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(s,e){return qi(s,"POST","/v1/accounts:delete",e)}async function Py(s,e){return qi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AR(s,e=!1){const i=rt(s),a=await i.getIdToken(e),o=ah(a);ne(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:za(od(o.auth_time)),issuedAtTime:za(od(o.iat)),expirationTime:za(od(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function od(s){return Number(s)*1e3}function ah(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Bo("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ko(i);return o?JSON.parse(o):(Bo("Failed to decode base64 JWT payload"),null)}catch(o){return Bo("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function rv(s){const e=ah(s);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Hi&&NR(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function NR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(s){var e;const i=s.auth,a=await s.getIdToken(),o=await Ka(s,Py(i,{idToken:a}));ne(o==null?void 0:o.users.length,i,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?zy(u.providerUserInfo):[],m=DR(s.providerData,f),h=s.isAnonymous,p=!(s.email&&u.passwordHash)&&!(m!=null&&m.length),v=h?p:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Rd(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(s,y)}async function xR(s){const e=rt(s);await Jo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DR(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function zy(s){return s.map(e=>{var{providerId:i}=e,a=ih(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(s,e){const i=await Uy(s,{},async()=>{const a=Cr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=jy(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Ly.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function MR(s,e){return qi(s,"POST","/v2/accounts:revokeToken",Bi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const i=rv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:u}=await IR(e,i);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:u}=i,f=new cr;return a&&(ne(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(ne(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ne(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cr,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(s,e){ne(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Bn{constructor(e){var{uid:i,auth:a,stsTokenManager:o}=e,u=ih(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Rd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return ne(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return AR(this,e)}reload(){return xR(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Bn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Jo(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(Fn(this.auth));const e=await this.getIdToken();return await Ka(this,RR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,o,u,f,m,h,p,v;const y=(a=i.displayName)!==null&&a!==void 0?a:void 0,S=(o=i.email)!==null&&o!==void 0?o:void 0,N=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,A=(f=i.photoURL)!==null&&f!==void 0?f:void 0,j=(m=i.tenantId)!==null&&m!==void 0?m:void 0,P=(h=i._redirectEventId)!==null&&h!==void 0?h:void 0,U=(p=i.createdAt)!==null&&p!==void 0?p:void 0,Y=(v=i.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:V,emailVerified:me,isAnonymous:X,providerData:G,stsTokenManager:le}=i;ne(V&&le,e,"internal-error");const be=cr.fromJSON(this.name,le);ne(typeof V=="string",e,"internal-error"),Ci(y,e.name),Ci(S,e.name),ne(typeof me=="boolean",e,"internal-error"),ne(typeof X=="boolean",e,"internal-error"),Ci(N,e.name),Ci(A,e.name),Ci(j,e.name),Ci(P,e.name),Ci(U,e.name),Ci(Y,e.name);const B=new Bn({uid:V,auth:e,email:S,emailVerified:me,displayName:y,isAnonymous:X,photoURL:A,phoneNumber:N,tenantId:j,stsTokenManager:be,createdAt:U,lastLoginAt:Y});return G&&Array.isArray(G)&&(B.providerData=G.map(ie=>Object.assign({},ie))),P&&(B._redirectEventId=P),B}static async _fromIdTokenResponse(e,i,a=!1){const o=new cr;o.updateFromServerResponse(i);const u=new Bn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Jo(u),u}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];ne(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?zy(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new cr;m.updateFromIdToken(a);const h=new Bn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map;function qn(s){Wn(s instanceof Function,"Expected a class definition");let e=av.get(s);return e?(Wn(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,av.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Hy.type="NONE";const lv=Hy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(s,e,i){return`firebase:${s}:${e}:${i}`}class fr{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=qo(this.userKey,o.apiKey,u),this.fullPersistenceKey=qo("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new fr(qn(lv),e,a);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||qn(lv);const f=qo(a,e.config.apiKey,e.name);let m=null;for(const p of i)try{const v=await p._get(f);if(v){const y=Bn._fromJSON(e,v);p!==u&&(m=y),u=p;break}}catch{}const h=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!h.length?new fr(u,e,a):(u=h[0],m&&await u._set(f,m.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new fr(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(By(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yy(e))return"Blackberry";if(Qy(e))return"Webos";if(qy(e))return"Safari";if((e.includes("chrome/")||Vy(e))&&!e.includes("edge/"))return"Chrome";if(Fy(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function By(s=St()){return/firefox\//i.test(s)}function qy(s=St()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vy(s=St()){return/crios\//i.test(s)}function Gy(s=St()){return/iemobile/i.test(s)}function Fy(s=St()){return/android/i.test(s)}function Yy(s=St()){return/blackberry/i.test(s)}function Qy(s=St()){return/webos/i.test(s)}function lh(s=St()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function kR(s=St()){var e;return lh(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LR(){return YC()&&document.documentMode===10}function Ky(s=St()){return lh(s)||Fy(s)||Qy(s)||Yy(s)||/windows phone/i.test(s)||Gy(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(s,e=[]){let i;switch(s){case"Browser":i=ov(St());break;case"Worker":i=`${ov(St())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${wr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((f,m)=>{try{const h=e(u);f(h)}catch(h){m(h)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(s,e={}){return qi(s,"GET","/v2/passwordPolicy",Bi(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=6;class zR{constructor(e){var i,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:PR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,o,u,f,m;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(i=h.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(u=h.containsUppercaseLetter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNumericCharacter)!==null&&f!==void 0?f:!0),h.isValid&&(h.isValid=(m=h.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),h}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new UR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=My,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=qn(i)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await fr.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Py(this,{idToken:e}),a=await Bn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(gn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,m=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!f||f===m)&&(h!=null&&h.user)&&(o=h.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Jo(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(Fn(this));const i=e?rt(e):null;return i&&ne(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(Fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(Fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jR(this),i=new zR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ol("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await MR(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&qn(e)||this._popupRedirectResolver;ne(i,this,"argument-error"),this.redirectPersistenceManager=await fr.create(this,[qn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const h=e.addObserver(i,a,o);return()=>{f=!0,h()}}else{const h=e.addObserver(i);return()=>{f=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&gR(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function bs(s){return rt(s)}class uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=nw(i=>this.observer=i)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BR(s){Cu=s}function Xy(s){return Cu.loadJS(s)}function qR(){return Cu.recaptchaEnterpriseScript}function VR(){return Cu.gapiScript}function GR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}const FR="recaptcha-enterprise",YR="NO_RECAPTCHA";class QR{constructor(e){this.type=FR,this.auth=bs(e)}async verify(e="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{wR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new CR(h);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(h=>{m(h)})})}function o(u,f,m){const h=window.grecaptcha;sv(h)?h.enterprise.ready(()=>{h.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(YR)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,f)=>{a(this.auth).then(m=>{if(!i&&sv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let h=qR();h.length!==0&&(h+=m),Xy(h).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function cv(s,e,i,a=!1){const o=new QR(s);let u;try{u=await o.verify(i)}catch{u=await o.verify(i,!0)}const f=Object.assign({},e);return a?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Ad(s,e,i,a){var o;if(!((o=s._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await cv(s,e,i,i==="getOobCode");return a(s,u)}else return a(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await cv(s,e,i,i==="getOobCode");return a(s,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(s,e){const i=nh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Xo(u,e??{}))return o;rn(o,"already-initialized")}return i.initialize({options:e})}function WR(s,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(qn);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function XR(s,e,i){const a=bs(s);ne(a._canInitEmulator,a,"emulator-config-failed"),ne(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=$y(e),{host:f,port:m}=$R(e),h=m===null?"":`:${m}`;a.config.emulator={url:`${u}//${f}${h}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),ZR()}function $y(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function $R(s){const e=$y(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:fv(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:fv(f)}}}function fv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function ZR(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,i){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function JR(s,e){return qi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(s,e){return cl(s,"POST","/v1/accounts:signInWithPassword",Bi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(s,e){return cl(s,"POST","/v1/accounts:signInWithEmailLink",Bi(s,e))}async function nA(s,e){return cl(s,"POST","/v1/accounts:signInWithEmailLink",Bi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends oh{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Wa(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Wa(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ad(e,i,"signInWithPassword",eA);case"emailLink":return tA(e,{email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ad(e,a,"signUpPassword",JR);case"emailLink":return nA(e,{idToken:i,email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dr(s,e){return cl(s,"POST","/v1/accounts:signInWithIdp",Bi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="http://localhost";class _s extends oh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):rn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=i,u=ih(i,["providerId","signInMethod"]);if(!a||!o)return null;const f=new _s(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return dr(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,dr(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,dr(e,i)}buildRequest(){const e={requestUri:iA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Cr(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rA(s){const e=ja(Pa(s)).link,i=e?ja(Pa(e)).deep_link_id:null,a=ja(Pa(s)).deep_link_id;return(a?ja(Pa(a)).link:null)||a||i||e||s}class uh{constructor(e){var i,a,o,u,f,m;const h=ja(Pa(e)),p=(i=h.apiKey)!==null&&i!==void 0?i:null,v=(a=h.oobCode)!==null&&a!==void 0?a:null,y=sA((o=h.mode)!==null&&o!==void 0?o:null);ne(p&&v&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=v,this.continueUrl=(u=h.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=h.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=h.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const i=rA(e);try{return new uh(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.providerId=Rr.PROVIDER_ID}static credential(e,i){return Wa._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=uh.parseLink(i);return ne(a,"argument-error"),Wa._fromEmailAndCode(e,a.code,a.tenantId)}}Rr.PROVIDER_ID="password";Rr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Zy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends fl{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return _s._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Ri.credential(i,a)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends fl{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends fl{constructor(){super("twitter.com")}static credential(e,i){return _s._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Ni.credential(i,a)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(s,e){return cl(s,"POST","/v1/accounts:signUp",Bi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const u=await Bn._fromIdTokenResponse(e,a,o),f=dv(a);return new vs({user:u,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=dv(a);return new vs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function dv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Hi{constructor(e,i,a,o){var u;super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,eu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new eu(e,i,a,o)}}function Jy(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?eu._fromErrorAndOperation(s,u,e,a):u})}async function lA(s,e,i=!1){const a=await Ka(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return vs._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(s,e,i=!1){const{auth:a}=s;if(gn(a.app))return Promise.reject(Fn(a));const o="reauthenticate";try{const u=await Ka(s,Jy(a,o,e,s),i);ne(u.idToken,a,"internal-error");const f=ah(u.idToken);ne(f,a,"internal-error");const{sub:m}=f;return ne(s.uid===m,a,"user-mismatch"),vs._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&rn(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(s,e,i=!1){if(gn(s.app))return Promise.reject(Fn(s));const a="signIn",o=await Jy(s,a,e),u=await vs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(u.user),u}async function uA(s,e){return eE(bs(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(s){const e=bs(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cA(s,e,i){if(gn(s.app))return Promise.reject(Fn(s));const a=bs(s),f=await Ad(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aA).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&tE(s),h}),m=await vs._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function fA(s,e,i){return gn(s.app)?Promise.reject(Fn(s)):uA(rt(s),Rr.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&tE(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(s,e){return rt(s).setPersistence(e)}function hA(s,e,i,a){return rt(s).onIdTokenChanged(e,i,a)}function mA(s,e,i){return rt(s).beforeAuthStateChanged(e,i)}function pA(s,e,i,a){return rt(s).onAuthStateChanged(e,i,a)}function nE(s){return rt(s).signOut()}const tu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(tu,"1"),this.storage.removeItem(tu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=1e3,_A=10;class sE extends iE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ky(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,m,h)=>{this.notifyListeners(f,h)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);LR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_A):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},gA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}sE.type="LOCAL";const rE=sE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends iE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}aE.type="SESSION";const lE=aE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new wu(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:u}=i.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async p=>p(i.origin,u)),h=await vA(m);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:h})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,h)=>{const p=ch("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(y){const S=y;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),h(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function EA(s){vn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function SA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bA(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function TA(){return oE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firebaseLocalStorageDb",CA=1,nu="firebaseLocalStorage",cE="fbase_key";class dl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ru(s,e){return s.transaction([nu],e?"readwrite":"readonly").objectStore(nu)}function wA(){const s=indexedDB.deleteDatabase(uE);return new dl(s).toPromise()}function Nd(){const s=indexedDB.open(uE,CA);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(nu,{keyPath:cE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(nu)?e(a):(a.close(),await wA(),e(await Nd()))})})}async function hv(s,e,i){const a=Ru(s,!0).put({[cE]:e,value:i});return new dl(a).toPromise()}async function RA(s,e){const i=Ru(s,!1).get(e),a=await new dl(i).toPromise();return a===void 0?null:a.value}function mv(s,e){const i=Ru(s,!0).delete(e);return new dl(i).toPromise()}const AA=800,NA=3;class fE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>NA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wu._getInstance(TA()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await SA(),!this.activeServiceWorker)return;this.sender=new yA(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nd();return await hv(e,tu,"1"),await mv(e,tu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>hv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>RA(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>mv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ru(o,!1).getAll();return new dl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fE.type="LOCAL";const OA=fE;new ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(s,e){return e?qn(e):(ne(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends oh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return dr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return dr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function DA(s){return eE(s.auth,new fh(s),s.bypassAuthState)}function IA(s){const{auth:e,user:i}=s;return ne(i,e,"internal-error"),oA(i,new fh(s),s.bypassAuthState)}async function MA(s){const{auth:e,user:i}=s;return ne(i,e,"internal-error"),lA(i,new fh(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,i,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const h={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DA;case"linkViaPopup":case"linkViaRedirect":return MA;case"reauthViaPopup":case"reauthViaRedirect":return IA;default:rn(this.auth,"internal-error")}}resolve(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new ul(2e3,1e4);class or extends dE{constructor(e,i,a,o,u){super(e,i,o,u),this.provider=a,this.authWindow=null,this.pollId=null,or.currentPopupAction&&or.currentPopupAction.cancel(),or.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Wn(this.filter.length===1,"Popup operations only handle one event");const e=ch();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,or.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kA.get())};e()}}or.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="pendingRedirect",Vo=new Map;class UA extends dE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Vo.get(this.auth._key());if(!e){try{const a=await jA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Vo.set(this.auth._key(),e)}return this.bypassAuthState||Vo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jA(s,e){const i=HA(e),a=zA(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function PA(s,e){Vo.set(s._key(),e)}function zA(s){return qn(s._redirectPersistence)}function HA(s){return qo(LA,s.config.apiKey,s.name)}async function BA(s,e,i=!1){if(gn(s.app))return Promise.reject(Fn(s));const a=bs(s),o=xA(a,e),f=await new UA(a,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=10*60*1e3;class VA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GA(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!hE(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(_n(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qA&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(e))}saveEventToCache(e){this.cachedEventUids.add(pv(e)),this.lastProcessedEventTime=Date.now()}}function pv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function hE({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(s,e={}){return qi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QA=/^https?/;async function KA(s){if(s.config.emulator)return;const{authorizedDomains:e}=await FA(s);for(const i of e)try{if(WA(i))return}catch{}rn(s,"unauthorized-domain")}function WA(s){const e=wd(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!QA.test(i))return!1;if(YA.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new ul(3e4,6e4);function gv(){const s=vn().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function $A(s){return new Promise((e,i)=>{var a,o,u;function f(){gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gv(),i(_n(s,"network-request-failed"))},timeout:XA.get()})}if(!((o=(a=vn().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=vn().gapi)===null||u===void 0)&&u.load)f();else{const m=GR("iframefcb");return vn()[m]=()=>{gapi.load?f():i(_n(s,"network-request-failed"))},Xy(`${VR()}?onload=${m}`).catch(h=>i(h))}}).catch(e=>{throw Go=null,e})}let Go=null;function ZA(s){return Go=Go||$A(s),Go}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new ul(5e3,15e3),eN="__/auth/iframe",tN="emulator/auth/iframe",nN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sN(s){const e=s.config;ne(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?rh(e,tN):`https://${s.config.authDomain}/${eN}`,a={apiKey:e.apiKey,appName:s.name,v:wr},o=iN.get(s.config.apiHost);o&&(a.eid=o);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${Cr(a).slice(1)}`}async function rN(s){const e=await ZA(s),i=vn().gapi;return ne(i,s,"internal-error"),e.open({where:document.body,url:sN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nN,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=_n(s,"network-request-failed"),m=vn().setTimeout(()=>{u(f)},JA.get());function h(){vn().clearTimeout(m),o(a)}a.ping(h).then(h,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lN=500,oN=600,uN="_blank",cN="http://localhost";class _v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fN(s,e,i,a=lN,o=oN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const h=Object.assign(Object.assign({},aN),{width:a.toString(),height:o.toString(),top:u,left:f}),p=St().toLowerCase();i&&(m=Vy(p)?uN:i),By(p)&&(e=e||cN,h.scrollbars="yes");const v=Object.entries(h).reduce((S,[N,A])=>`${S}${N}=${A},`,"");if(kR(p)&&m!=="_self")return dN(e||"",m),new _v(null);const y=window.open(e||"",m,v);ne(y,s,"popup-blocked");try{y.focus()}catch{}return new _v(y)}function dN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="__/auth/handler",mN="emulator/auth/handler",pN=encodeURIComponent("fac");async function vv(s,e,i,a,o,u){ne(s.config.authDomain,s,"auth-domain-config-required"),ne(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:wr,eventId:o};if(e instanceof Zy){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",yd(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))f[v]=y}if(e instanceof fl){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(f.scopes=v.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const h=await s._getAppCheckToken(),p=h?`#${pN}=${encodeURIComponent(h)}`:"";return`${gN(s)}?${Cr(m).slice(1)}${p}`}function gN({config:s}){return s.emulator?rh(s,mN):`https://${s.authDomain}/${hN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="webStorageSupport";class _N{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=BA,this._overrideRedirectResult=PA}async _openPopup(e,i,a,o){var u;Wn((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await vv(e,i,a,wd(),o);return fN(e,f,ch())}async _openRedirect(e,i,a,o){await this._originValidation(e);const u=await vv(e,i,a,wd(),o);return EA(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Wn(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await rN(e),a=new VA(e);return i.register("authEvent",o=>(ne(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(ud,{type:ud},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[ud];f!==void 0&&i(!!f),rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=KA(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Ky()||qy()||lh()}}const vN=_N;var yv="@firebase/auth",Ev="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SN(s){pr(new gs("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;ne(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const h={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wy(s)},p=new HR(a,o,u,h);return WR(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),pr(new gs("auth-internal",e=>{const i=bs(e.getProvider("auth").getImmediate());return(a=>new yN(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(yv,Ev,EN(s)),Ii(yv,Ev,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=5*60,TN=Ty("authIdTokenMaxAge")||bN;let Sv=null;const CN=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>TN)return;const o=i==null?void 0:i.token;Sv!==o&&(Sv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wN(s=Oy()){const e=nh(s,"auth");if(e.isInitialized())return e.getImmediate();const i=KR(s,{popupRedirectResolver:vN,persistence:[OA,rE,lE]}),a=Ty("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=CN(u.toString());mA(i,f,()=>f(i.currentUser)),hA(i,m=>f(m))}}const o=Sy("auth");return o&&XR(i,`http://${o}`),i}function RN(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}BR({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const u=_n("internal-error");u.customData=o,i(u)},a.type="text/javascript",a.charset="UTF-8",RN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SN("Browser");var bv={};const Tv="@firebase/database",Cv="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mE="";function AN(s){mE=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Ya(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new NN(e)}}catch{}return new ON},ms=pE("localStorage"),xN=pE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new eh("@firebase/database"),DN=function(){let s=1;return function(){return s++}}(),gE=function(s){const e=rw(s),i=new tw;i.update(e);const a=i.digest();return $d.encodeByteArray(a)},hl=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=hl.apply(null,a):typeof a=="object"?e+=Ze(a):e+=a,e+=" "}return e};let Ha=null,wv=!0;const IN=function(s,e){H(!0,"Can't turn on custom loggers persistently."),hr.logLevel=Ae.VERBOSE,Ha=hr.log.bind(hr)},ut=function(...s){if(wv===!0&&(wv=!1,Ha===null&&xN.get("logging_enabled")===!0&&IN()),Ha){const e=hl.apply(null,s);Ha(e)}},ml=function(s){return function(...e){ut(s,...e)}},Od=function(...s){const e="FIREBASE INTERNAL ERROR: "+hl(...s);hr.error(e)},Xn=function(...s){const e=`FIREBASE FATAL ERROR: ${hl(...s)}`;throw hr.error(e),new Error(e)},yt=function(...s){const e="FIREBASE WARNING: "+hl(...s);hr.warn(e)},MN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dh=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},kN=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ys="[MIN_NAME]",Li="[MAX_NAME]",Ts=function(s,e){if(s===e)return 0;if(s===ys||e===Li)return-1;if(e===ys||s===Li)return 1;{const i=Rv(s),a=Rv(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},LN=function(s,e){return s===e?0:s<e?-1:1},Ma=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+Ze(e))},hh=function(s){if(typeof s!="object"||s===null)return Ze(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=Ze(e[a]),i+=":",i+=hh(s[e[a]]);return i+="}",i},_E=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let o=0;o<i;o+=e)o+e>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+e));return a};function ct(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const vE=function(s){H(!dh(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let o,u,f,m,h;s===0?(u=0,f=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),a),u=m+a,f=Math.round(s*Math.pow(2,i-m)-Math.pow(2,i))):(u=0,f=Math.round(s/Math.pow(2,1-a-i))));const p=[];for(h=i;h;h-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(h=e;h;h-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const v=p.join("");let y="";for(h=0;h<64;h+=8){let S=parseInt(v.substr(h,8),2).toString(16);S.length===1&&(S="0"+S),y=y+S}return y.toLowerCase()},UN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function PN(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+e._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const zN=new RegExp("^-?(0*)\\d{1,10}$"),HN=-2147483648,BN=2147483647,Rv=function(s){if(zN.test(s)){const e=Number(s);if(e>=HN&&e<=BN)return e}return null},Ar=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw yt("Exception was thrown by user callback.",i),e},Math.floor(0))}},qN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ba=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,i){this.appName_=e,this.appCheckProvider=i,this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(a=>a.addTokenListener(e))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(e)}}class Fo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="5",yE="v",EE="s",SE="r",bE="f",TE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CE="ls",wE="p",xd="ac",RE="websocket",AE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,i,a,o,u=!1,f="",m=!1,h=!1){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ms.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ms.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function FN(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function OE(s,e,i){H(typeof e=="string","typeof type must == string"),H(typeof i=="object","typeof params must == object");let a;if(e===RE)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===AE)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);FN(s)&&(i.ns=s.namespace);const o=[];return ct(i,(u,f)=>{o.push(u+"="+f)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.counters_={}}incrementCounter(e,i=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return UC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd={},fd={};function ph(s){const e=s.toString();return cd[e]||(cd[e]=new YN),cd[e]}function QN(s,e){const i=s.toString();return fd[i]||(fd[i]=e()),fd[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Ar(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="start",WN="close",XN="pLPCommand",$N="pRTLPCB",xE="id",DE="pw",IE="ser",ZN="cb",JN="seg",e1="ts",t1="d",n1="dframe",ME=1870,kE=30,i1=ME-kE,s1=25e3,r1=3e4;class ur{constructor(e,i,a,o,u,f,m){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ml(e),this.stats_=ph(i),this.urlFn=h=>(this.appCheckToken&&(h[xd]=this.appCheckToken),OE(i,AE,h))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new KN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(r1)),kN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gh((...u)=>{const[f,m,h,p,v]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Av)this.id=m,this.password=h;else if(f===WN)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,m)},()=>{this.onClosed_()},this.urlFn);const a={};a[Av]="t",a[IE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[ZN]=this.scriptTagHolder.uniqueCallbackIdentifier),a[yE]=mh,this.transportSessionId&&(a[EE]=this.transportSessionId),this.lastSessionId&&(a[CE]=this.lastSessionId),this.applicationId&&(a[wE]=this.applicationId),this.appCheckToken&&(a[xd]=this.appCheckToken),typeof location<"u"&&location.hostname&&TE.test(location.hostname)&&(a[SE]=bE);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ur.forceAllow_=!0}static forceDisallow(){ur.forceDisallow_=!0}static isAvailable(){return ur.forceAllow_?!0:!ur.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!UN()&&!jN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Ze(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=yy(i),o=_E(a,i1);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[n1]="t",a[xE]=e,a[DE]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Ze(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class gh{constructor(e,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=DN(),window[XN+this.uniqueCallbackIdentifier]=e,window[$N+this.uniqueCallbackIdentifier]=i,this.myIFrame=gh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(m){ut("frame writing exception"),m.stack&&ut(m.stack),ut(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ut("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[xE]=this.myID,e[DE]=this.myPW,e[IE]=this.currentSerial;let i=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kE+a.length<=ME;){const f=this.pendingSegs.shift();a=a+"&"+JN+o+"="+f.seg+"&"+e1+o+"="+f.ts+"&"+t1+o+"="+f.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(s1)),u=()=>{clearTimeout(o),a()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=16384,l1=45e3;let iu=null;typeof MozWebSocket<"u"?iu=MozWebSocket:typeof WebSocket<"u"&&(iu=WebSocket);class en{constructor(e,i,a,o,u,f,m){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ml(this.connId),this.stats_=ph(i),this.connURL=en.connectionURL_(i,f,m,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,o,u){const f={};return f[yE]=mh,typeof location<"u"&&location.hostname&&TE.test(location.hostname)&&(f[SE]=bE),i&&(f[EE]=i),a&&(f[CE]=a),o&&(f[xd]=o),u&&(f[wE]=u),OE(e,RE,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ms.set("previous_websocket_failure",!0);try{let a;QC(),this.mySock=new iu(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){en.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&iu!==null&&!en.forceDisallow_}static previouslyFailed(){return ms.isInMemoryStorage||ms.get("previous_websocket_failure")===!0}markConnectionHealthy(){ms.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Ya(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(H(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=Ze(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=_E(i,a1);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(l1))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}en.responsesRequiredToBeHealthy=2;en.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ur,en]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=en&&en.isAvailable();let a=i&&!en.previouslyFailed();if(e.webSocketOnly&&(i||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[en];else{const o=this.transports_=[];for(const u of Xa.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Xa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=6e4,u1=5e3,c1=10*1024,f1=100*1024,dd="t",Nv="d",d1="s",Ov="r",h1="e",xv="o",Dv="a",Iv="n",Mv="p",m1="h";class p1{constructor(e,i,a,o,u,f,m,h,p,v){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=m,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ml("c:"+this.id+":"),this.transportManager_=new Xa(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ba(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>f1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>c1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(dd in e){const i=e[dd];i===Dv?this.upgradeIfSecondaryHealthy_():i===Ov?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===xv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Ma("t",e),a=Ma("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Mv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Dv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Iv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Ma("t",e),a=Ma("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Ma(dd,e);if(Nv in e){const a=e[Nv];if(i===m1){const o=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Iv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===d1?this.onConnectionShutdown_(a):i===Ov?this.onReset_(a):i===h1?Od("Server Error: "+a):i===xv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Od("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),mh!==a&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),Ba(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(o1))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ba(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(u1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Mv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ms.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{put(e,i,a,o){}merge(e,i,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.allowedEvents_=e,this.listeners_={},H(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const o=this.getInitialEvent(e);o&&i.apply(a,o)}off(e,i,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!a||a===o[u].context)){o.splice(u,1);return}}validateEventType_(e){H(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends UE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Jd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new su}getInitialEvent(e){return H(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=32,Lv=768;class Ce{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Se(){return new Ce("")}function fe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ui(s){return s.pieces_.length-s.pieceNum_}function Me(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Ce(s.pieces_,e)}function _h(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function g1(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function $a(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function jE(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new Ce(e,0)}function qe(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof Ce)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new Ce(i,0)}function de(s){return s.pieceNum_>=s.pieces_.length}function vt(s,e){const i=fe(s),a=fe(e);if(i===null)return e;if(i===a)return vt(Me(s),Me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function _1(s,e){const i=$a(s,0),a=$a(e,0);for(let o=0;o<i.length&&o<a.length;o++){const u=Ts(i[o],a[o]);if(u!==0)return u}return i.length===a.length?0:i.length<a.length?-1:1}function vh(s,e){if(Ui(s)!==Ui(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function Kt(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(Ui(s)>Ui(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class v1{constructor(e,i){this.errorPrefix_=i,this.parts_=$a(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=Tu(this.parts_[a]);PE(this)}}function y1(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=Tu(e),PE(s)}function E1(s){const e=s.parts_.pop();s.byteLength_-=Tu(e),s.parts_.length>0&&(s.byteLength_-=1)}function PE(s){if(s.byteLength_>Lv)throw new Error(s.errorPrefix_+"has a key path longer than "+Lv+" bytes ("+s.byteLength_+").");if(s.parts_.length>kv)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+kv+") or object contains a cycle "+hs(s))}function hs(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends UE{constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}static getInstance(){return new yh}getInitialEvent(e){return H(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=1e3,S1=60*5*1e3,Uv=30*1e3,b1=1.3,T1=3e4,C1="server_kill",jv=3;class Yn extends LE{constructor(e,i,a,o,u,f,m,h){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=h,this.id=Yn.nextPersistentConnectionId_++,this.log_=ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ka,this.maxReconnectDelay_=S1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&su.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(Ze(u)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const i=new ll,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const m=f.d;f.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,a,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:e,tag:a};this.listens.get(f).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const u={p:a},f="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,m=>{const h=m.d,p=m.s;Yn.warnOnListenWarnings_(h,i),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(p,h))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&En(e,"w")){const a=mr(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ew(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Uv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=JC(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,i)}sendUnlisten_(e,i,a,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},f="n";o&&(u.q=a,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,o){const u={p:i,d:a};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,i,a,o){this.putInternal("p",e,i,a,o)}merge(e,i,a,o){this.putInternal("m",e,i,a,o)}putInternal(e,i,a,o,u){this.initConnection_();const f={p:i,d:a};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ze(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Od("Unrecognized action received from server: "+Ze(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ka,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ka,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>T1&&(this.reconnectDelay_=ka),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*b1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Yn.nextConnectionId_++,u=this.lastSessionId;let f=!1,m=null;const h=function(){m?m.close():(f=!0,a())},p=function(y){H(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(y)};this.realtime_={close:h,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,S]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);f?ut("getToken() completed but was canceled"):(ut("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=S&&S.token,m=new p1(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,N=>{yt(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(C1)},u))}catch(y){this.log_("Failed to get token: "+y),f||(this.repoInfo_.nodeAdmin&&yt(y),h())}}}interrupt(e){ut("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ut("Resuming connection for reason: "+e),delete this.interruptReasons_[e],yd(this.interruptReasons_)&&(this.reconnectDelay_=ka,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(u=>hh(u)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const a=new Ce(e).toString();let o;if(this.listens.has(a)){const u=this.listens.get(a);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,i){ut("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jv&&(this.reconnectDelay_=Uv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ut("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+mE.replace(/\./g,"-")]=1,Jd()?e["framework.cordova"]=1:Cy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=su.getInstance().currentlyOnline();return yd(this.interruptReasons_)&&e}}Yn.nextPersistentConnectionId_=0;Yn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new he(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new he(ys,e),o=new he(ys,i);return this.compare(a,o)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo;class zE extends Au{static get __EMPTY_NODE(){return jo}static set __EMPTY_NODE(e){jo=e}compare(e,i){return Ts(e.name,i.name)}isDefinedOn(e){throw Tr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return he.MIN}maxPost(){return new he(Li,jo)}makePost(e,i){return H(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,jo)}toString(){return".key"}}const ps=new zE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,i,a,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?a(e.key,i):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class st{constructor(e,i,a,o,u){this.key=e,this.value=i,this.color=a??st.RED,this.left=o??Rt.EMPTY_NODE,this.right=u??Rt.EMPTY_NODE}copy(e,i,a,o,u){return new st(e??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const u=a(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,a),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,o;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return Rt.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}st.RED=!0;st.BLACK=!1;class w1{copy(e,i,a,o,u){return this}insert(e,i,a){return new st(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(e,i=Rt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Rt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(e){return new Rt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,st.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Po(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Po(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Po(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Po(this.root_,null,this.comparator_,!0,e)}}Rt.EMPTY_NODE=new w1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(s,e){return Ts(s.name,e.name)}function Eh(s,e){return Ts(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd;function A1(s){Dd=s}const HE=function(s){return typeof s=="number"?"number:"+vE(s):"string:"+s},BE=function(s){if(s.isLeafNode()){const e=s.val();H(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else H(s===Dd||s.isEmpty(),"priority of unexpected type.");H(s===Dd||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pv;class it{constructor(e,i=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),BE(this.priorityNode_)}static set __childrenNodeConstructor(e){Pv=e}static get __childrenNodeConstructor(){return Pv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:fe(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=fe(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(H(a!==".priority"||Ui(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+HE(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=vE(this.value_):e+=this.value_,this.lazyHash_=gE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(H(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,o=it.VALUE_TYPE_ORDER.indexOf(i),u=it.VALUE_TYPE_ORDER.indexOf(a);return H(o>=0,"Unknown leaf type: "+i),H(u>=0,"Unknown leaf type: "+a),o===u?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qE,VE;function N1(s){qE=s}function O1(s){VE=s}class x1 extends Au{compare(e,i){const a=e.node.getPriority(),o=i.node.getPriority(),u=a.compareTo(o);return u===0?Ts(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return he.MIN}maxPost(){return new he(Li,new it("[PRIORITY-POST]",VE))}makePost(e,i){const a=qE(e);return new he(i,new it("[PRIORITY-POST]",a))}toString(){return".priority"}}const Pe=new x1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=Math.log(2);class I1{constructor(e){const i=u=>parseInt(Math.log(u)/D1,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ru=function(s,e,i,a){s.sort(e);const o=function(h,p){const v=p-h;let y,S;if(v===0)return null;if(v===1)return y=s[h],S=i?i(y):y,new st(S,y.node,st.BLACK,null,null);{const N=parseInt(v/2,10)+h,A=o(h,N),j=o(N+1,p);return y=s[N],S=i?i(y):y,new st(S,y.node,st.BLACK,A,j)}},u=function(h){let p=null,v=null,y=s.length;const S=function(A,j){const P=y-A,U=y;y-=A;const Y=o(P+1,U),V=s[P],me=i?i(V):V;N(new st(me,V.node,j,null,Y))},N=function(A){p?(p.left=A,p=A):(v=A,p=A)};for(let A=0;A<h.count;++A){const j=h.nextBitIsOne(),P=Math.pow(2,h.count-(A+1));j?S(P,st.BLACK):(S(P,st.BLACK),S(P,st.RED))}return v},f=new I1(s.length),m=u(f);return new Rt(a||e,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd;const lr={};class Vn{constructor(e,i){this.indexes_=e,this.indexSet_=i}static get Default(){return H(lr&&Pe,"ChildrenNode.ts has not been loaded"),hd=hd||new Vn({".priority":lr},{".priority":Pe}),hd}get(e){const i=mr(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Rt?i:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,i){H(e!==ps,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const u=i.getIterator(he.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),a.push(f),f=u.getNext();let m;o?m=ru(a,e.getCompare()):m=lr;const h=e.toString(),p=Object.assign({},this.indexSet_);p[h]=e;const v=Object.assign({},this.indexes_);return v[h]=m,new Vn(v,p)}addToIndexes(e,i){const a=Wo(this.indexes_,(o,u)=>{const f=mr(this.indexSet_,u);if(H(f,"Missing index implementation for "+u),o===lr)if(f.isDefinedOn(e.node)){const m=[],h=i.getIterator(he.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&m.push(p),p=h.getNext();return m.push(e),ru(m,f.getCompare())}else return lr;else{const m=i.get(e.name);let h=o;return m&&(h=h.remove(new he(e.name,m))),h.insert(e,e.node)}});return new Vn(a,this.indexSet_)}removeFromIndexes(e,i){const a=Wo(this.indexes_,o=>{if(o===lr)return o;{const u=i.get(e.name);return u?o.remove(new he(e.name,u)):o}});return new Vn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La;class ee{constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&BE(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return La||(La=new ee(new Rt(Eh),null,Vn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||La}updatePriority(e){return this.children_.isEmpty()?this:new ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?La:i}}getChild(e){const i=fe(e);return i===null?this:this.getImmediateChild(i).getChild(Me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(H(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new he(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(a,this.children_));const f=o.isEmpty()?La:this.priorityNode_;return new ee(o,f,u)}}updateChild(e,i){const a=fe(e);if(a===null)return i;{H(fe(e)!==".priority"||Ui(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(Me(e),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,o=0,u=!0;if(this.forEachChild(Pe,(f,m)=>{i[f]=m.val(e),a++,u&&ee.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*a){const f=[];for(const m in i)f[m]=i[m];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+HE(this.getPriority().val())+":"),this.forEachChild(Pe,(i,a)=>{const o=a.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":gE(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const o=this.resolveIndex_(a);if(o){const u=o.getPredecessorKey(new he(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new he(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new he(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,he.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pl?-1:0}withIndex(e){if(e===ps||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ee(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ps||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(Pe),o=i.getIterator(Pe);let u=a.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=a.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===ps?null:this.indexMap_.get(e.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class M1 extends ee{constructor(){super(new Rt(Eh),ee.EMPTY_NODE,Vn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}}const pl=new M1;Object.defineProperties(he,{MIN:{value:new he(ys,ee.EMPTY_NODE)},MAX:{value:new he(Li,pl)}});zE.__EMPTY_NODE=ee.EMPTY_NODE;it.__childrenNodeConstructor=ee;A1(pl);O1(pl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=!0;function $e(s,e=null){if(s===null)return ee.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),H(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new it(i,$e(e))}if(!(s instanceof Array)&&k1){const i=[];let a=!1;if(ct(s,(f,m)=>{if(f.substring(0,1)!=="."){const h=$e(m);h.isEmpty()||(a=a||!h.getPriority().isEmpty(),i.push(new he(f,h)))}}),i.length===0)return ee.EMPTY_NODE;const u=ru(i,R1,f=>f.name,Eh);if(a){const f=ru(i,Pe.getCompare());return new ee(u,$e(e),new Vn({".priority":f},{".priority":Pe}))}else return new ee(u,$e(e),Vn.Default)}else{let i=ee.EMPTY_NODE;return ct(s,(a,o)=>{if(En(s,a)&&a.substring(0,1)!=="."){const u=$e(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(a,u))}}),i.updatePriority($e(e))}}N1($e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Au{constructor(e){super(),this.indexPath_=e,H(!de(e)&&fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),o=this.extractChild(i.node),u=a.compareTo(o);return u===0?Ts(e.name,i.name):u}makePost(e,i){const a=$e(e),o=ee.EMPTY_NODE.updateChild(this.indexPath_,a);return new he(i,o)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,pl);return new he(Li,e)}toString(){return $a(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1 extends Au{compare(e,i){const a=e.node.compareTo(i.node);return a===0?Ts(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,i){const a=$e(e);return new he(i,a)}toString(){return".value"}}const GE=new L1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(s){return{type:"value",snapshotNode:s}}function gr(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function Za(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Ja(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function U1(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.index_=e}updateChild(e,i,a,o,u,f){H(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(i);return m.getChild(o).equals(a.getChild(o))&&m.isEmpty()===a.isEmpty()||(f!=null&&(a.isEmpty()?e.hasChild(i)?f.trackChildChange(Za(i,m)):H(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?f.trackChildChange(gr(i,a)):f.trackChildChange(Ja(i,a,m))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(Pe,(o,u)=>{i.hasChild(o)||a.trackChildChange(Za(o,u))}),i.isLeafNode()||i.forEachChild(Pe,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||a.trackChildChange(Ja(o,u,f))}else a.trackChildChange(gr(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ee.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.indexedFilter_=new bh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=el.getStartPost_(e),this.endPost_=el.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,o,u,f){return this.matches(new he(i,a))||(a=ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,o,u,f)}updateFullNode(e,i,a){i.isLeafNode()&&(i=ee.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ee.EMPTY_NODE);const u=this;return i.forEachChild(Pe,(f,m)=>{u.matches(new he(f,m))||(o=o.updateImmediateChild(f,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new el(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,o,u,f){return this.rangedFilter_.matches(new he(i,a))||(a=ee.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,o,u,f):this.fullLimitUpdateChild_(e,i,a,u,f)}updateFullNode(e,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ee.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const m=u.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),f++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ee.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const m=u.getNext();f<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?f++:o=o.updateImmediateChild(m.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,o,u){let f;if(this.reverse_){const y=this.index_.getCompare();f=(S,N)=>y(N,S)}else f=this.index_.getCompare();const m=e;H(m.numChildren()===this.limit_,"");const h=new he(i,a),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(m.hasChild(i)){const y=m.getImmediateChild(i);let S=o.getChildAfterChild(this.index_,p,this.reverse_);for(;S!=null&&(S.name===i||m.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const N=S==null?1:f(S,h);if(v&&!a.isEmpty()&&N>=0)return u!=null&&u.trackChildChange(Ja(i,a,y)),m.updateImmediateChild(i,a);{u!=null&&u.trackChildChange(Za(i,y));const j=m.updateImmediateChild(i,ee.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(u!=null&&u.trackChildChange(gr(S.name,S.node)),j.updateImmediateChild(S.name,S.node)):j}}else return a.isEmpty()?e:v&&f(p,h)>=0?(u!=null&&(u.trackChildChange(Za(p.name,p.node)),u.trackChildChange(gr(i,a))),m.updateImmediateChild(i,a).updateImmediateChild(p.name,ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ys}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Li}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const e=new Th;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function P1(s){return s.loadsAllData()?new bh(s.getIndex()):s.hasLimit()?new j1(s):new el(s)}function z1(s,e,i){const a=s.copy();return a.startSet_=!0,e===void 0&&(e=null),a.indexStartValue_=e,i!=null?(a.startNameSet_=!0,a.indexStartName_=i):(a.startNameSet_=!1,a.indexStartName_=""),a}function H1(s,e,i){const a=s.copy();return a.endSet_=!0,e===void 0&&(e=null),a.indexEndValue_=e,i!==void 0?(a.endNameSet_=!0,a.indexEndName_=i):(a.endNameSet_=!1,a.indexEndName_=""),a}function B1(s,e){const i=s.copy();return i.index_=e,i}function zv(s){const e={};if(s.isDefault())return e;let i;if(s.index_===Pe?i="$priority":s.index_===GE?i="$value":s.index_===ps?i="$key":(H(s.index_ instanceof Sh,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=Ze(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=Ze(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+Ze(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=Ze(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+Ze(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function Hv(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==Pe&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends LE{constructor(e,i,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=ml("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(H(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,i,a,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=au.getListenId_(e,a),m={};this.listens_[f]=m;const h=zv(e._queryParams);this.restRequest_(u+".json",h,(p,v)=>{let y=v;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(u,y,!1,a),mr(this.listens_,f)===m){let S;p?p===401?S="permission_denied":S="rest_error:"+p:S="ok",o(S,null)}})}unlisten(e,i){const a=au.getListenId_(e,i);delete this.listens_[a]}get(e){const i=zv(e._queryParams),a=e._path.toString(),o=new ll;return this.restRequest_(a+".json",i,(u,f)=>{let m=f;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(a,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cr(i);this.log_("Sending REST request for "+f);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(a&&m.readyState===4){this.log_("REST Response for "+f+" received. status:",m.status,"response:",m.responseText);let h=null;if(m.status>=200&&m.status<300){try{h=Ya(m.responseText)}catch{yt("Failed to parse JSON response for "+f+": "+m.responseText)}a(null,h)}else m.status!==401&&m.status!==404&&yt("Got unsuccessful REST response for "+f+" Status: "+m.status),a(m.status);a=null}},m.open("GET",f,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(){return{value:null,children:new Map}}function YE(s,e,i){if(de(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=fe(e);s.children.has(a)||s.children.set(a,lu());const o=s.children.get(a);e=Me(e),YE(o,e,i)}}function Id(s,e,i){s.value!==null?i(e,s.value):V1(s,(a,o)=>{const u=new Ce(e.toString()+"/"+a);Id(o,u,i)})}function V1(s,e){s.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&ct(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=10*1e3,F1=30*1e3,Y1=5*60*1e3;class Q1{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new G1(e);const a=Bv+(F1-Bv)*Math.random();Ba(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;ct(e,(o,u)=>{u>0&&En(this.statsToReport_,o)&&(i[o]=u,a=!0)}),a&&this.server_.reportStats(i),Ba(this.reportStats_.bind(this),Math.floor(Math.random()*2*Y1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tn||(tn={}));function Ch(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Rh(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=tn.ACK_USER_WRITE,this.source=Ch()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ce(e));return new ou(Se(),i,this.revert)}}else return H(fe(this.path)===e,"operationForChild called for unrelated child."),new ou(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,i){this.source=e,this.path=i,this.type=tn.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new tl(this.source,Se()):new tl(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=tn.OVERWRITE}operationForChild(e){return de(this.path)?new Es(this.source,Se(),this.snap.getImmediateChild(e)):new Es(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=tn.MERGE}operationForChild(e){if(de(this.path)){const i=this.children.subtree(new Ce(e));return i.isEmpty()?null:i.value?new Es(this.source,Se(),i.value):new _r(this.source,Se(),i)}else return H(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _r(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const i=fe(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function W1(s,e,i,a){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(U1(f.childName,f.snapshotNode))}),Ua(s,o,"child_removed",e,a,i),Ua(s,o,"child_added",e,a,i),Ua(s,o,"child_moved",u,a,i),Ua(s,o,"child_changed",e,a,i),Ua(s,o,"value",e,a,i),o}function Ua(s,e,i,a,o,u){const f=a.filter(m=>m.type===i);f.sort((m,h)=>$1(s,m,h)),f.forEach(m=>{const h=X1(s,m,u);o.forEach(p=>{p.respondsTo(m.type)&&e.push(p.createEvent(h,s.query_))})})}function X1(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function $1(s,e,i){if(e.childName==null||i.childName==null)throw Tr("Should only compare child_ events.");const a=new he(e.childName,e.snapshotNode),o=new he(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(s,e){return{eventCache:s,serverCache:e}}function qa(s,e,i,a){return Nu(new ji(e,i,a),s.serverCache)}function QE(s,e,i,a){return Nu(s.eventCache,new ji(e,i,a))}function uu(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Ss(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md;const Z1=()=>(md||(md=new Rt(LN)),md);class Ie{constructor(e,i=Z1()){this.value=e,this.children=i}static fromObject(e){let i=new Ie(null);return ct(e,(a,o)=>{i=i.set(new Ce(a),o)}),i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Se(),value:this.value};if(de(e))return null;{const a=fe(e),o=this.children.get(a);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Me(e),i);return u!=null?{path:qe(new Ce(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const i=fe(e),a=this.children.get(i);return a!==null?a.subtree(Me(e)):new Ie(null)}}set(e,i){if(de(e))return new Ie(i,this.children);{const a=fe(e),u=(this.children.get(a)||new Ie(null)).set(Me(e),i),f=this.children.insert(a,u);return new Ie(this.value,f)}}remove(e){if(de(e))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const i=fe(e),a=this.children.get(i);if(a){const o=a.remove(Me(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Ie(null):new Ie(this.value,u)}else return this}}get(e){if(de(e))return this.value;{const i=fe(e),a=this.children.get(i);return a?a.get(Me(e)):null}}setTree(e,i){if(de(e))return i;{const a=fe(e),u=(this.children.get(a)||new Ie(null)).setTree(Me(e),i);let f;return u.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,u),new Ie(this.value,f)}}fold(e){return this.fold_(Se(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((o,u)=>{a[o]=u.fold_(qe(e,o),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,Se(),i)}findOnPath_(e,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(de(e))return null;{const u=fe(e),f=this.children.get(u);return f?f.findOnPath_(Me(e),qe(i,u),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Se(),i)}foreachOnPath_(e,i,a){if(de(e))return this;{this.value&&a(i,this.value);const o=fe(e),u=this.children.get(o);return u?u.foreachOnPath_(Me(e),qe(i,o),a):new Ie(null)}}foreach(e){this.foreach_(Se(),e)}foreach_(e,i){this.children.inorderTraversal((a,o)=>{o.foreach_(qe(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.writeTree_=e}static empty(){return new nn(new Ie(null))}}function Va(s,e,i){if(de(e))return new nn(new Ie(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let u=a.value;const f=vt(o,e);return u=u.updateChild(f,i),new nn(s.writeTree_.set(o,u))}else{const o=new Ie(i),u=s.writeTree_.setTree(e,o);return new nn(u)}}}function Md(s,e,i){let a=s;return ct(i,(o,u)=>{a=Va(a,qe(e,o),u)}),a}function qv(s,e){if(de(e))return nn.empty();{const i=s.writeTree_.setTree(e,new Ie(null));return new nn(i)}}function kd(s,e){return Cs(s,e)!=null}function Cs(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(vt(i.path,e)):null}function Vv(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Pe,(a,o)=>{e.push(new he(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new he(a,o.value))}),e}function Mi(s,e){if(de(e))return s;{const i=Cs(s,e);return i!=null?new nn(new Ie(i)):new nn(s.writeTree_.subtree(e))}}function Ld(s){return s.writeTree_.isEmpty()}function vr(s,e){return KE(Se(),s.writeTree_,e)}function KE(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(H(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):i=KE(qe(s,o),u,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(qe(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(s,e){return ZE(e,s)}function J1(s,e,i,a,o){H(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=Va(s.visibleWrites,e,i)),s.lastWriteId=a}function eO(s,e,i,a){H(a>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:e,children:i,writeId:a,visible:!0}),s.visibleWrites=Md(s.visibleWrites,e,i),s.lastWriteId=a}function tO(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function nO(s,e){const i=s.allWrites.findIndex(m=>m.writeId===e);H(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,u=!1,f=s.allWrites.length-1;for(;o&&f>=0;){const m=s.allWrites[f];m.visible&&(f>=i&&iO(m,a.path)?o=!1:Kt(a.path,m.path)&&(u=!0)),f--}if(o){if(u)return sO(s),!0;if(a.snap)s.visibleWrites=qv(s.visibleWrites,a.path);else{const m=a.children;ct(m,h=>{s.visibleWrites=qv(s.visibleWrites,qe(a.path,h))})}return!0}else return!1}function iO(s,e){if(s.snap)return Kt(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Kt(qe(s.path,i),e))return!0;return!1}function sO(s){s.visibleWrites=WE(s.allWrites,rO,Se()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function rO(s){return s.visible}function WE(s,e,i){let a=nn.empty();for(let o=0;o<s.length;++o){const u=s[o];if(e(u)){const f=u.path;let m;if(u.snap)Kt(i,f)?(m=vt(i,f),a=Va(a,m,u.snap)):Kt(f,i)&&(m=vt(f,i),a=Va(a,Se(),u.snap.getChild(m)));else if(u.children){if(Kt(i,f))m=vt(i,f),a=Md(a,m,u.children);else if(Kt(f,i))if(m=vt(f,i),de(m))a=Md(a,Se(),u.children);else{const h=mr(u.children,fe(m));if(h){const p=h.getChild(Me(m));a=Va(a,Se(),p)}}}else throw Tr("WriteRecord should have .snap or .children")}}return a}function XE(s,e,i,a,o){if(!a&&!o){const u=Cs(s.visibleWrites,e);if(u!=null)return u;{const f=Mi(s.visibleWrites,e);if(Ld(f))return i;if(i==null&&!kd(f,Se()))return null;{const m=i||ee.EMPTY_NODE;return vr(f,m)}}}else{const u=Mi(s.visibleWrites,e);if(!o&&Ld(u))return i;if(!o&&i==null&&!kd(u,Se()))return null;{const f=function(p){return(p.visible||o)&&(!a||!~a.indexOf(p.writeId))&&(Kt(p.path,e)||Kt(e,p.path))},m=WE(s.allWrites,f,e),h=i||ee.EMPTY_NODE;return vr(m,h)}}}function aO(s,e,i){let a=ee.EMPTY_NODE;const o=Cs(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Pe,(u,f)=>{a=a.updateImmediateChild(u,f)}),a;if(i){const u=Mi(s.visibleWrites,e);return i.forEachChild(Pe,(f,m)=>{const h=vr(Mi(u,new Ce(f)),m);a=a.updateImmediateChild(f,h)}),Vv(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}else{const u=Mi(s.visibleWrites,e);return Vv(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}}function lO(s,e,i,a,o){H(a||o,"Either existingEventSnap or existingServerSnap must exist");const u=qe(e,i);if(kd(s.visibleWrites,u))return null;{const f=Mi(s.visibleWrites,u);return Ld(f)?o.getChild(i):vr(f,o.getChild(i))}}function oO(s,e,i,a){const o=qe(e,i),u=Cs(s.visibleWrites,o);if(u!=null)return u;if(a.isCompleteForChild(i)){const f=Mi(s.visibleWrites,o);return vr(f,a.getNode().getImmediateChild(i))}else return null}function uO(s,e){return Cs(s.visibleWrites,e)}function cO(s,e,i,a,o,u,f){let m;const h=Mi(s.visibleWrites,e),p=Cs(h,Se());if(p!=null)m=p;else if(i!=null)m=vr(h,i);else return[];if(m=m.withIndex(f),!m.isEmpty()&&!m.isLeafNode()){const v=[],y=f.getCompare(),S=u?m.getReverseIteratorFrom(a,f):m.getIteratorFrom(a,f);let N=S.getNext();for(;N&&v.length<o;)y(N,a)!==0&&v.push(N),N=S.getNext();return v}else return[]}function fO(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}function cu(s,e,i,a){return XE(s.writeTree,s.treePath,e,i,a)}function Ah(s,e){return aO(s.writeTree,s.treePath,e)}function Gv(s,e,i,a){return lO(s.writeTree,s.treePath,e,i,a)}function fu(s,e){return uO(s.writeTree,qe(s.treePath,e))}function dO(s,e,i,a,o,u){return cO(s.writeTree,s.treePath,e,i,a,o,u)}function Nh(s,e,i){return oO(s.writeTree,s.treePath,e,i)}function $E(s,e){return ZE(qe(s.treePath,e),s.writeTree)}function ZE(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;H(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),H(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(a,Ja(a,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(a,Za(a,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(a,gr(a,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(a,Ja(a,e.snapshotNode,o.oldSnap));else throw Tr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const JE=new mO;class Oh{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new ji(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nh(this.writes_,e,a)}}getChildAfterChild(e,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ss(this.viewCache_),u=dO(this.writes_,o,i,1,a,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(s){return{filter:s}}function gO(s,e){H(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),H(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function _O(s,e,i,a,o){const u=new hO;let f,m;if(i.type===tn.OVERWRITE){const p=i;p.source.fromUser?f=Ud(s,e,p.path,p.snap,a,o,u):(H(p.source.fromServer,"Unknown source."),m=p.source.tagged||e.serverCache.isFiltered()&&!de(p.path),f=du(s,e,p.path,p.snap,a,o,m,u))}else if(i.type===tn.MERGE){const p=i;p.source.fromUser?f=yO(s,e,p.path,p.children,a,o,u):(H(p.source.fromServer,"Unknown source."),m=p.source.tagged||e.serverCache.isFiltered(),f=jd(s,e,p.path,p.children,a,o,m,u))}else if(i.type===tn.ACK_USER_WRITE){const p=i;p.revert?f=bO(s,e,p.path,a,o,u):f=EO(s,e,p.path,p.affectedTree,a,o,u)}else if(i.type===tn.LISTEN_COMPLETE)f=SO(s,e,i.path,a,u);else throw Tr("Unknown operation type: "+i.type);const h=u.getChanges();return vO(e,f,h),{viewCache:f,changes:h}}function vO(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=uu(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&i.push(FE(uu(e)))}}function e0(s,e,i,a,o,u){const f=e.eventCache;if(fu(a,i)!=null)return e;{let m,h;if(de(i))if(H(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Ss(e),v=p instanceof ee?p:ee.EMPTY_NODE,y=Ah(a,v);m=s.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const p=cu(a,Ss(e));m=s.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=fe(i);if(p===".priority"){H(Ui(i)===1,"Can't have a priority with additional path components");const v=f.getNode();h=e.serverCache.getNode();const y=Gv(a,i,v,h);y!=null?m=s.filter.updatePriority(v,y):m=f.getNode()}else{const v=Me(i);let y;if(f.isCompleteForChild(p)){h=e.serverCache.getNode();const S=Gv(a,i,f.getNode(),h);S!=null?y=f.getNode().getImmediateChild(p).updateChild(v,S):y=f.getNode().getImmediateChild(p)}else y=Nh(a,p,e.serverCache);y!=null?m=s.filter.updateChild(f.getNode(),p,y,v,o,u):m=f.getNode()}}return qa(e,m,f.isFullyInitialized()||de(i),s.filter.filtersNodes())}}function du(s,e,i,a,o,u,f,m){const h=e.serverCache;let p;const v=f?s.filter:s.filter.getIndexedFilter();if(de(i))p=v.updateFullNode(h.getNode(),a,null);else if(v.filtersNodes()&&!h.isFiltered()){const N=h.getNode().updateChild(i,a);p=v.updateFullNode(h.getNode(),N,null)}else{const N=fe(i);if(!h.isCompleteForPath(i)&&Ui(i)>1)return e;const A=Me(i),P=h.getNode().getImmediateChild(N).updateChild(A,a);N===".priority"?p=v.updatePriority(h.getNode(),P):p=v.updateChild(h.getNode(),N,P,A,JE,null)}const y=QE(e,p,h.isFullyInitialized()||de(i),v.filtersNodes()),S=new Oh(o,y,u);return e0(s,y,i,o,S,m)}function Ud(s,e,i,a,o,u,f){const m=e.eventCache;let h,p;const v=new Oh(o,e,u);if(de(i))p=s.filter.updateFullNode(e.eventCache.getNode(),a,f),h=qa(e,p,!0,s.filter.filtersNodes());else{const y=fe(i);if(y===".priority")p=s.filter.updatePriority(e.eventCache.getNode(),a),h=qa(e,p,m.isFullyInitialized(),m.isFiltered());else{const S=Me(i),N=m.getNode().getImmediateChild(y);let A;if(de(S))A=a;else{const j=v.getCompleteChild(y);j!=null?_h(S)===".priority"&&j.getChild(jE(S)).isEmpty()?A=j:A=j.updateChild(S,a):A=ee.EMPTY_NODE}if(N.equals(A))h=e;else{const j=s.filter.updateChild(m.getNode(),y,A,S,v,f);h=qa(e,j,m.isFullyInitialized(),s.filter.filtersNodes())}}}return h}function Fv(s,e){return s.eventCache.isCompleteForChild(e)}function yO(s,e,i,a,o,u,f){let m=e;return a.foreach((h,p)=>{const v=qe(i,h);Fv(e,fe(v))&&(m=Ud(s,m,v,p,o,u,f))}),a.foreach((h,p)=>{const v=qe(i,h);Fv(e,fe(v))||(m=Ud(s,m,v,p,o,u,f))}),m}function Yv(s,e,i){return i.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function jd(s,e,i,a,o,u,f,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,p;de(i)?p=a:p=new Ie(null).setTree(i,a);const v=e.serverCache.getNode();return p.children.inorderTraversal((y,S)=>{if(v.hasChild(y)){const N=e.serverCache.getNode().getImmediateChild(y),A=Yv(s,N,S);h=du(s,h,new Ce(y),A,o,u,f,m)}}),p.children.inorderTraversal((y,S)=>{const N=!e.serverCache.isCompleteForChild(y)&&S.value===null;if(!v.hasChild(y)&&!N){const A=e.serverCache.getNode().getImmediateChild(y),j=Yv(s,A,S);h=du(s,h,new Ce(y),j,o,u,f,m)}}),h}function EO(s,e,i,a,o,u,f){if(fu(o,i)!=null)return e;const m=e.serverCache.isFiltered(),h=e.serverCache;if(a.value!=null){if(de(i)&&h.isFullyInitialized()||h.isCompleteForPath(i))return du(s,e,i,h.getNode().getChild(i),o,u,m,f);if(de(i)){let p=new Ie(null);return h.getNode().forEachChild(ps,(v,y)=>{p=p.set(new Ce(v),y)}),jd(s,e,i,p,o,u,m,f)}else return e}else{let p=new Ie(null);return a.foreach((v,y)=>{const S=qe(i,v);h.isCompleteForPath(S)&&(p=p.set(v,h.getNode().getChild(S)))}),jd(s,e,i,p,o,u,m,f)}}function SO(s,e,i,a,o){const u=e.serverCache,f=QE(e,u.getNode(),u.isFullyInitialized()||de(i),u.isFiltered());return e0(s,f,i,a,JE,o)}function bO(s,e,i,a,o,u){let f;if(fu(a,i)!=null)return e;{const m=new Oh(a,e,o),h=e.eventCache.getNode();let p;if(de(i)||fe(i)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=cu(a,Ss(e));else{const y=e.serverCache.getNode();H(y instanceof ee,"serverChildren would be complete if leaf node"),v=Ah(a,y)}v=v,p=s.filter.updateFullNode(h,v,u)}else{const v=fe(i);let y=Nh(a,v,e.serverCache);y==null&&e.serverCache.isCompleteForChild(v)&&(y=h.getImmediateChild(v)),y!=null?p=s.filter.updateChild(h,v,y,Me(i),m,u):e.eventCache.getNode().hasChild(v)?p=s.filter.updateChild(h,v,ee.EMPTY_NODE,Me(i),m,u):p=h,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=cu(a,Ss(e)),f.isLeafNode()&&(p=s.filter.updateFullNode(p,f,u)))}return f=e.serverCache.isFullyInitialized()||fu(a,Se())!=null,qa(e,p,f,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new bh(a.getIndex()),u=P1(a);this.processor_=pO(u);const f=i.serverCache,m=i.eventCache,h=o.updateFullNode(ee.EMPTY_NODE,f.getNode(),null),p=u.updateFullNode(ee.EMPTY_NODE,m.getNode(),null),v=new ji(h,f.isFullyInitialized(),o.filtersNodes()),y=new ji(p,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=Nu(y,v),this.eventGenerator_=new K1(this.query_)}get query(){return this.query_}}function CO(s){return s.viewCache_.serverCache.getNode()}function wO(s){return uu(s.viewCache_)}function RO(s,e){const i=Ss(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!de(e)&&!i.getImmediateChild(fe(e)).isEmpty())?i.getChild(e):null}function Qv(s){return s.eventRegistrations_.length===0}function AO(s,e){s.eventRegistrations_.push(e)}function Kv(s,e,i){const a=[];if(i){H(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,o);f&&a.push(f)})}if(e){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const f=s.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function Wv(s,e,i,a){e.type===tn.MERGE&&e.source.queryId!==null&&(H(Ss(s.viewCache_),"We should always have a full cache before handling merges"),H(uu(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=_O(s.processor_,o,e,i,a);return gO(s.processor_,u.viewCache),H(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,t0(s,u.changes,u.viewCache.eventCache.getNode(),null)}function NO(s,e){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Pe,(u,f)=>{a.push(gr(u,f))}),i.isFullyInitialized()&&a.push(FE(i.getNode())),t0(s,a,i.getNode(),e)}function t0(s,e,i,a){const o=a?[a]:s.eventRegistrations_;return W1(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu;class n0{constructor(){this.views=new Map}}function OO(s){H(!hu,"__referenceConstructor has already been defined"),hu=s}function xO(){return H(hu,"Reference.ts has not been loaded"),hu}function DO(s){return s.views.size===0}function xh(s,e,i,a){const o=e.source.queryId;if(o!==null){const u=s.views.get(o);return H(u!=null,"SyncTree gave us an op for an invalid query."),Wv(u,e,i,a)}else{let u=[];for(const f of s.views.values())u=u.concat(Wv(f,e,i,a));return u}}function i0(s,e,i,a,o){const u=e._queryIdentifier,f=s.views.get(u);if(!f){let m=cu(i,o?a:null),h=!1;m?h=!0:a instanceof ee?(m=Ah(i,a),h=!1):(m=ee.EMPTY_NODE,h=!1);const p=Nu(new ji(m,h,!1),new ji(a,o,!1));return new TO(e,p)}return f}function IO(s,e,i,a,o,u){const f=i0(s,e,a,o,u);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,f),AO(f,i),NO(f,i)}function MO(s,e,i,a){const o=e._queryIdentifier,u=[];let f=[];const m=Pi(s);if(o==="default")for(const[h,p]of s.views.entries())f=f.concat(Kv(p,i,a)),Qv(p)&&(s.views.delete(h),p.query._queryParams.loadsAllData()||u.push(p.query));else{const h=s.views.get(o);h&&(f=f.concat(Kv(h,i,a)),Qv(h)&&(s.views.delete(o),h.query._queryParams.loadsAllData()||u.push(h.query)))}return m&&!Pi(s)&&u.push(new(xO())(e._repo,e._path)),{removed:u,events:f}}function s0(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function ki(s,e){let i=null;for(const a of s.views.values())i=i||RO(a,e);return i}function r0(s,e){if(e._queryParams.loadsAllData())return xu(s);{const a=e._queryIdentifier;return s.views.get(a)}}function a0(s,e){return r0(s,e)!=null}function Pi(s){return xu(s)!=null}function xu(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu;function kO(s){H(!mu,"__referenceConstructor has already been defined"),mu=s}function LO(){return H(mu,"Reference.ts has not been loaded"),mu}let UO=1;class Xv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=fO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function l0(s,e,i,a,o){return J1(s.pendingWriteTree_,e,i,a,o),o?Nr(s,new Es(Ch(),e,i)):[]}function jO(s,e,i,a){eO(s.pendingWriteTree_,e,i,a);const o=Ie.fromObject(i);return Nr(s,new _r(Ch(),e,o))}function Oi(s,e,i=!1){const a=tO(s.pendingWriteTree_,e);if(nO(s.pendingWriteTree_,e)){let u=new Ie(null);return a.snap!=null?u=u.set(Se(),!0):ct(a.children,f=>{u=u.set(new Ce(f),!0)}),Nr(s,new ou(a.path,u,i))}else return[]}function gl(s,e,i){return Nr(s,new Es(wh(),e,i))}function PO(s,e,i){const a=Ie.fromObject(i);return Nr(s,new _r(wh(),e,a))}function zO(s,e){return Nr(s,new tl(wh(),e))}function HO(s,e,i){const a=Ih(s,i);if(a){const o=Mh(a),u=o.path,f=o.queryId,m=vt(u,e),h=new tl(Rh(f),m);return kh(s,u,h)}else return[]}function pu(s,e,i,a,o=!1){const u=e._path,f=s.syncPointTree_.get(u);let m=[];if(f&&(e._queryIdentifier==="default"||a0(f,e))){const h=MO(f,e,i,a);DO(f)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const p=h.removed;if(m=h.events,!o){const v=p.findIndex(S=>S._queryParams.loadsAllData())!==-1,y=s.syncPointTree_.findOnPath(u,(S,N)=>Pi(N));if(v&&!y){const S=s.syncPointTree_.subtree(u);if(!S.isEmpty()){const N=VO(S);for(let A=0;A<N.length;++A){const j=N[A],P=j.query,U=f0(s,j);s.listenProvider_.startListening(Ga(P),nl(s,P),U.hashFn,U.onComplete)}}}!y&&p.length>0&&!a&&(v?s.listenProvider_.stopListening(Ga(e),null):p.forEach(S=>{const N=s.queryToTagMap.get(Du(S));s.listenProvider_.stopListening(Ga(S),N)}))}GO(s,p)}return m}function o0(s,e,i,a){const o=Ih(s,a);if(o!=null){const u=Mh(o),f=u.path,m=u.queryId,h=vt(f,e),p=new Es(Rh(m),h,i);return kh(s,f,p)}else return[]}function BO(s,e,i,a){const o=Ih(s,a);if(o){const u=Mh(o),f=u.path,m=u.queryId,h=vt(f,e),p=Ie.fromObject(i),v=new _r(Rh(m),h,p);return kh(s,f,v)}else return[]}function Pd(s,e,i,a=!1){const o=e._path;let u=null,f=!1;s.syncPointTree_.foreachOnPath(o,(S,N)=>{const A=vt(S,o);u=u||ki(N,A),f=f||Pi(N)});let m=s.syncPointTree_.get(o);m?(f=f||Pi(m),u=u||ki(m,Se())):(m=new n0,s.syncPointTree_=s.syncPointTree_.set(o,m));let h;u!=null?h=!0:(h=!1,u=ee.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((N,A)=>{const j=ki(A,Se());j&&(u=u.updateImmediateChild(N,j))}));const p=a0(m,e);if(!p&&!e._queryParams.loadsAllData()){const S=Du(e);H(!s.queryToTagMap.has(S),"View does not exist, but we have a tag");const N=FO();s.queryToTagMap.set(S,N),s.tagToQueryMap.set(N,S)}const v=Ou(s.pendingWriteTree_,o);let y=IO(m,e,i,v,u,h);if(!p&&!f&&!a){const S=r0(m,e);y=y.concat(YO(s,e,S))}return y}function Dh(s,e,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(e,(f,m)=>{const h=vt(f,e),p=ki(m,h);if(p)return p});return XE(o,e,u,i,!0)}function qO(s,e){const i=e._path;let a=null;s.syncPointTree_.foreachOnPath(i,(p,v)=>{const y=vt(p,i);a=a||ki(v,y)});let o=s.syncPointTree_.get(i);o?a=a||ki(o,Se()):(o=new n0,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=a!=null,f=u?new ji(a,!0,!1):null,m=Ou(s.pendingWriteTree_,e._path),h=i0(o,e,m,u?f.getNode():ee.EMPTY_NODE,u);return wO(h)}function Nr(s,e){return u0(e,s.syncPointTree_,null,Ou(s.pendingWriteTree_,Se()))}function u0(s,e,i,a){if(de(s.path))return c0(s,e,i,a);{const o=e.get(Se());i==null&&o!=null&&(i=ki(o,Se()));let u=[];const f=fe(s.path),m=s.operationForChild(f),h=e.children.get(f);if(h&&m){const p=i?i.getImmediateChild(f):null,v=$E(a,f);u=u.concat(u0(m,h,p,v))}return o&&(u=u.concat(xh(o,s,a,i))),u}}function c0(s,e,i,a){const o=e.get(Se());i==null&&o!=null&&(i=ki(o,Se()));let u=[];return e.children.inorderTraversal((f,m)=>{const h=i?i.getImmediateChild(f):null,p=$E(a,f),v=s.operationForChild(f);v&&(u=u.concat(c0(v,m,h,p)))}),o&&(u=u.concat(xh(o,s,a,i))),u}function f0(s,e){const i=e.query,a=nl(s,i);return{hashFn:()=>(CO(e)||ee.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?HO(s,i._path,a):zO(s,i._path);{const u=PN(o,i);return pu(s,i,null,u)}}}}function nl(s,e){const i=Du(e);return s.queryToTagMap.get(i)}function Du(s){return s._path.toString()+"$"+s._queryIdentifier}function Ih(s,e){return s.tagToQueryMap.get(e)}function Mh(s){const e=s.indexOf("$");return H(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Ce(s.substr(0,e))}}function kh(s,e,i){const a=s.syncPointTree_.get(e);H(a,"Missing sync point for query tag that we're tracking");const o=Ou(s.pendingWriteTree_,e);return xh(a,i,o,null)}function VO(s){return s.fold((e,i,a)=>{if(i&&Pi(i))return[xu(i)];{let o=[];return i&&(o=s0(i)),ct(a,(u,f)=>{o=o.concat(f)}),o}})}function Ga(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(LO())(s._repo,s._path):s}function GO(s,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const o=Du(a),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function FO(){return UO++}function YO(s,e,i){const a=e._path,o=nl(s,e),u=f0(s,i),f=s.listenProvider_.startListening(Ga(e),o,u.hashFn,u.onComplete),m=s.syncPointTree_.subtree(a);if(o)H(!Pi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const h=m.fold((p,v,y)=>{if(!de(p)&&v&&Pi(v))return[xu(v).query];{let S=[];return v&&(S=S.concat(s0(v).map(N=>N.query))),ct(y,(N,A)=>{S=S.concat(A)}),S}});for(let p=0;p<h.length;++p){const v=h[p];s.listenProvider_.stopListening(Ga(v),nl(s,v))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Lh(i)}node(){return this.node_}}class Uh{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=qe(this.path_,e);return new Uh(this.syncTree_,i)}node(){return Dh(this.syncTree_,this.path_)}}const QO=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},$v=function(s,e,i){if(!s||typeof s!="object")return s;if(H(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return KO(s[".sv"],e,i);if(typeof s[".sv"]=="object")return WO(s[".sv"],e);H(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},KO=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:H(!1,"Unexpected server value: "+s)}},WO=function(s,e,i){s.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&H(!1,"Unexpected increment value: "+a);const o=e.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const f=o.getValue();return typeof f!="number"?a:f+a},d0=function(s,e,i,a){return jh(e,new Uh(i,s),a)},h0=function(s,e,i){return jh(s,new Lh(e),i)};function jh(s,e,i){const a=s.getPriority().val(),o=$v(a,e.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const f=s,m=$v(f.getValue(),e,i);return m!==f.getValue()||o!==f.getPriority().val()?new it(m,$e(o)):s}else{const f=s;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new it(o))),f.forEachChild(Pe,(m,h)=>{const p=jh(h,e.getImmediateChild(m),i);p!==h&&(u=u.updateImmediateChild(m,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function zh(s,e){let i=e instanceof Ce?e:new Ce(e),a=s,o=fe(i);for(;o!==null;){const u=mr(a.node.children,o)||{children:{},childCount:0};a=new Ph(o,a,u),i=Me(i),o=fe(i)}return a}function Or(s){return s.node.value}function m0(s,e){s.node.value=e,zd(s)}function p0(s){return s.node.childCount>0}function XO(s){return Or(s)===void 0&&!p0(s)}function Iu(s,e){ct(s.node.children,(i,a)=>{e(new Ph(i,s,a))})}function g0(s,e,i,a){i&&e(s),Iu(s,o=>{g0(o,e,!0)})}function $O(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function _l(s){return new Ce(s.parent===null?s.name:_l(s.parent)+"/"+s.name)}function zd(s){s.parent!==null&&ZO(s.parent,s.name,s)}function ZO(s,e,i){const a=XO(i),o=En(s.node.children,e);a&&o?(delete s.node.children[e],s.node.childCount--,zd(s)):!a&&!o&&(s.node.children[e]=i.node,s.node.childCount++,zd(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=/[\[\].#$\/\u0000-\u001F\u007F]/,ex=/[\[\].#$\u0000-\u001F\u007F]/,pd=10*1024*1024,Hh=function(s){return typeof s=="string"&&s.length!==0&&!JO.test(s)},_0=function(s){return typeof s=="string"&&s.length!==0&&!ex.test(s)},tx=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),_0(s)},Hd=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!dh(s)||s&&typeof s=="object"&&En(s,".sv")},vl=function(s,e,i,a){a&&e===void 0||Mu(bu(s,"value"),e,i)},Mu=function(s,e,i){const a=i instanceof Ce?new v1(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+hs(a));if(typeof e=="function")throw new Error(s+"contains a function "+hs(a)+" with contents = "+e.toString());if(dh(e))throw new Error(s+"contains "+e.toString()+" "+hs(a));if(typeof e=="string"&&e.length>pd/3&&Tu(e)>pd)throw new Error(s+"contains a string greater than "+pd+" utf8 bytes "+hs(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(ct(e,(f,m)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Hh(f)))throw new Error(s+" contains an invalid key ("+f+") "+hs(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);y1(a,f),Mu(s,m,a),E1(a)}),o&&u)throw new Error(s+' contains ".value" child '+hs(a)+" in addition to actual children.")}},nx=function(s,e){let i,a;for(i=0;i<e.length;i++){a=e[i];const u=$a(a);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!Hh(u[f]))throw new Error(s+"contains an invalid key ("+u[f]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(_1);let o=null;for(i=0;i<e.length;i++){if(a=e[i],o!==null&&Kt(o,a))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+a.toString());o=a}},ix=function(s,e,i,a){const o=bu(s,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];ct(e,(f,m)=>{const h=new Ce(f);if(Mu(o,m,qe(i,h)),_h(h)===".priority"&&!Hd(m))throw new Error(o+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(h)}),nx(o,u)},Bh=function(s,e,i,a){if(!_0(i))throw new Error(bu(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},sx=function(s,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Bh(s,e,i)},v0=function(s,e){if(fe(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},rx=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Hh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!tx(i))throw new Error(bu(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ku(s,e){let i=null;for(let a=0;a<e.length;a++){const o=e[a],u=o.getPath();i!==null&&!vh(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function y0(s,e,i){ku(s,i),E0(s,a=>vh(a,e))}function Wt(s,e,i){ku(s,i),E0(s,a=>Kt(a,e)||Kt(e,a))}function E0(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const u=o.path;e(u)?(lx(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function lx(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();Ha&&ut("event: "+i.toString()),Ar(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="repo_interrupt",ux=25;class cx{constructor(e,i,a,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ax,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lu(),this.transactionQueueTree_=new Ph,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fx(s,e,i){if(s.stats_=ph(s.repoInfo_),s.forceRestClient_||qN())s.server_=new au(s.repoInfo_,(a,o,u,f)=>{Zv(s,a,o,u,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Jv(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new Yn(s.repoInfo_,e,(a,o,u,f)=>{Zv(s,a,o,u,f)},a=>{Jv(s,a)},a=>{dx(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=QN(s.repoInfo_,()=>new Q1(s.stats_,s.server_)),s.infoData_=new q1,s.infoSyncTree_=new Xv({startListening:(a,o,u,f)=>{let m=[];const h=s.infoData_.getNode(a._path);return h.isEmpty()||(m=gl(s.infoSyncTree_,a._path,h),setTimeout(()=>{f("ok")},0)),m},stopListening:()=>{}}),qh(s,"connected",!1),s.serverSyncTree_=new Xv({startListening:(a,o,u,f)=>(s.server_.listen(a,u,o,(m,h)=>{const p=f(m,h);Wt(s.eventQueue_,a._path,p)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function S0(s){const i=s.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Lu(s){return QO({timestamp:S0(s)})}function Zv(s,e,i,a,o){s.dataUpdateCount++;const u=new Ce(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let f=[];if(o)if(a){const h=Wo(i,p=>$e(p));f=BO(s.serverSyncTree_,u,h,o)}else{const h=$e(i);f=o0(s.serverSyncTree_,u,h,o)}else if(a){const h=Wo(i,p=>$e(p));f=PO(s.serverSyncTree_,u,h)}else{const h=$e(i);f=gl(s.serverSyncTree_,u,h)}let m=u;f.length>0&&(m=yr(s,u)),Wt(s.eventQueue_,m,f)}function Jv(s,e){qh(s,"connected",e),e===!1&&gx(s)}function dx(s,e){ct(e,(i,a)=>{qh(s,i,a)})}function qh(s,e,i){const a=new Ce("/.info/"+e),o=$e(i);s.infoData_.updateSnapshot(a,o);const u=gl(s.infoSyncTree_,a,o);Wt(s.eventQueue_,a,u)}function Vh(s){return s.nextWriteId_++}function hx(s,e,i){const a=qO(s.serverSyncTree_,e);return a!=null?Promise.resolve(a):s.server_.get(e).then(o=>{const u=$e(o).withIndex(e._queryParams.getIndex());Pd(s.serverSyncTree_,e,i,!0);let f;if(e._queryParams.loadsAllData())f=gl(s.serverSyncTree_,e._path,u);else{const m=nl(s.serverSyncTree_,e);f=o0(s.serverSyncTree_,e._path,u,m)}return Wt(s.eventQueue_,e._path,f),pu(s.serverSyncTree_,e,i,null,!0),u},o=>(yl(s,"get for query "+Ze(e)+" failed: "+o),Promise.reject(new Error(o))))}function mx(s,e,i,a,o){yl(s,"set",{path:e.toString(),value:i,priority:a});const u=Lu(s),f=$e(i,a),m=Dh(s.serverSyncTree_,e),h=h0(f,m,u),p=Vh(s),v=l0(s.serverSyncTree_,e,h,p,!0);ku(s.eventQueue_,v),s.server_.put(e.toString(),f.val(!0),(S,N)=>{const A=S==="ok";A||yt("set at "+e+" failed: "+S);const j=Oi(s.serverSyncTree_,p,!A);Wt(s.eventQueue_,e,j),Bd(s,o,S,N)});const y=Fh(s,e);yr(s,y),Wt(s.eventQueue_,y,[])}function px(s,e,i,a){yl(s,"update",{path:e.toString(),value:i});let o=!0;const u=Lu(s),f={};if(ct(i,(m,h)=>{o=!1,f[m]=d0(qe(e,m),$e(h),s.serverSyncTree_,u)}),o)ut("update() called with empty data.  Don't do anything."),Bd(s,a,"ok",void 0);else{const m=Vh(s),h=jO(s.serverSyncTree_,e,f,m);ku(s.eventQueue_,h),s.server_.merge(e.toString(),i,(p,v)=>{const y=p==="ok";y||yt("update at "+e+" failed: "+p);const S=Oi(s.serverSyncTree_,m,!y),N=S.length>0?yr(s,e):e;Wt(s.eventQueue_,N,S),Bd(s,a,p,v)}),ct(i,p=>{const v=Fh(s,qe(e,p));yr(s,v)}),Wt(s.eventQueue_,e,[])}}function gx(s){yl(s,"onDisconnectEvents");const e=Lu(s),i=lu();Id(s.onDisconnect_,Se(),(o,u)=>{const f=d0(o,u,s.serverSyncTree_,e);YE(i,o,f)});let a=[];Id(i,Se(),(o,u)=>{a=a.concat(gl(s.serverSyncTree_,o,u));const f=Fh(s,o);yr(s,f)}),s.onDisconnect_=lu(),Wt(s.eventQueue_,Se(),a)}function _x(s,e,i){let a;fe(e._path)===".info"?a=Pd(s.infoSyncTree_,e,i):a=Pd(s.serverSyncTree_,e,i),y0(s.eventQueue_,e._path,a)}function vx(s,e,i){let a;fe(e._path)===".info"?a=pu(s.infoSyncTree_,e,i):a=pu(s.serverSyncTree_,e,i),y0(s.eventQueue_,e._path,a)}function yx(s){s.persistentConnection_&&s.persistentConnection_.interrupt(ox)}function yl(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),ut(i,...e)}function Bd(s,e,i,a){e&&Ar(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;a&&(u+=": "+a);const f=new Error(u);f.code=o,e(f)}})}function b0(s,e,i){return Dh(s.serverSyncTree_,e,i)||ee.EMPTY_NODE}function Gh(s,e=s.transactionQueueTree_){if(e||Uu(s,e),Or(e)){const i=C0(s,e);H(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&Ex(s,_l(e),i)}else p0(e)&&Iu(e,i=>{Gh(s,i)})}function Ex(s,e,i){const a=i.map(p=>p.currentWriteId),o=b0(s,e,a);let u=o;const f=o.hash();for(let p=0;p<i.length;p++){const v=i[p];H(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const y=vt(e,v.path);u=u.updateChild(y,v.currentOutputSnapshotRaw)}const m=u.val(!0),h=e;s.server_.put(h.toString(),m,p=>{yl(s,"transaction put response",{path:h.toString(),status:p});let v=[];if(p==="ok"){const y=[];for(let S=0;S<i.length;S++)i[S].status=2,v=v.concat(Oi(s.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&y.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();Uu(s,zh(s.transactionQueueTree_,e)),Gh(s,s.transactionQueueTree_),Wt(s.eventQueue_,e,v);for(let S=0;S<y.length;S++)Ar(y[S])}else{if(p==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{yt("transaction at "+h.toString()+" failed: "+p);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=p}yr(s,e)}},f)}function yr(s,e){const i=T0(s,e),a=_l(i),o=C0(s,i);return Sx(s,o,a),a}function Sx(s,e,i){if(e.length===0)return;const a=[];let o=[];const f=e.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const h=e[m],p=vt(i,h.path);let v=!1,y;if(H(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)v=!0,y=h.abortReason,o=o.concat(Oi(s.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=ux)v=!0,y="maxretry",o=o.concat(Oi(s.serverSyncTree_,h.currentWriteId,!0));else{const S=b0(s,h.path,f);h.currentInputSnapshot=S;const N=e[m].update(S.val());if(N!==void 0){Mu("transaction failed: Data returned ",N,h.path);let A=$e(N);typeof N=="object"&&N!=null&&En(N,".priority")||(A=A.updatePriority(S.getPriority()));const P=h.currentWriteId,U=Lu(s),Y=h0(A,S,U);h.currentOutputSnapshotRaw=A,h.currentOutputSnapshotResolved=Y,h.currentWriteId=Vh(s),f.splice(f.indexOf(P),1),o=o.concat(l0(s.serverSyncTree_,h.path,Y,h.currentWriteId,h.applyLocally)),o=o.concat(Oi(s.serverSyncTree_,P,!0))}else v=!0,y="nodata",o=o.concat(Oi(s.serverSyncTree_,h.currentWriteId,!0))}Wt(s.eventQueue_,i,o),o=[],v&&(e[m].status=2,function(S){setTimeout(S,Math.floor(0))}(e[m].unwatcher),e[m].onComplete&&(y==="nodata"?a.push(()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot)):a.push(()=>e[m].onComplete(new Error(y),!1,null))))}Uu(s,s.transactionQueueTree_);for(let m=0;m<a.length;m++)Ar(a[m]);Gh(s,s.transactionQueueTree_)}function T0(s,e){let i,a=s.transactionQueueTree_;for(i=fe(e);i!==null&&Or(a)===void 0;)a=zh(a,i),e=Me(e),i=fe(e);return a}function C0(s,e){const i=[];return w0(s,e,i),i.sort((a,o)=>a.order-o.order),i}function w0(s,e,i){const a=Or(e);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);Iu(e,o=>{w0(s,o,i)})}function Uu(s,e){const i=Or(e);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,m0(e,i.length>0?i:void 0)}Iu(e,a=>{Uu(s,a)})}function Fh(s,e){const i=_l(T0(s,e)),a=zh(s.transactionQueueTree_,e);return $O(a,o=>{gd(s,o)}),gd(s,a),g0(a,o=>{gd(s,o)}),i}function gd(s,e){const i=Or(e);if(i){const a=[];let o=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(H(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(H(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),o=o.concat(Oi(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&a.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?m0(e,void 0):i.length=u+1,Wt(s.eventQueue_,_l(e),o);for(let f=0;f<a.length;f++)Ar(a[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function Tx(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):yt(`Invalid query segment '${i}' in query '${s}'`)}return e}const ey=function(s,e){const i=Cx(s),a=i.namespace;i.domain==="firebase.com"&&Xn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||MN();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new NE(i.host,i.secure,a,o,e,"",a!==i.subdomain),path:new Ce(i.pathString)}},Cx=function(s){let e="",i="",a="",o="",u="",f=!0,m="https",h=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(m=s.substring(0,p-1),s=s.substring(p+2));let v=s.indexOf("/");v===-1&&(v=s.length);let y=s.indexOf("?");y===-1&&(y=s.length),e=s.substring(0,Math.min(v,y)),v<y&&(o=bx(s.substring(v,y)));const S=Tx(s.substring(Math.min(s.length,y)));p=e.indexOf(":"),p>=0?(f=m==="https"||m==="wss",h=parseInt(e.substring(p+1),10)):p=e.length;const N=e.slice(0,p);if(N.toLowerCase()==="localhost")i="localhost";else if(N.split(".").length<=2)i=N;else{const A=e.indexOf(".");a=e.substring(0,A).toLowerCase(),i=e.substring(A+1),u=a}"ns"in S&&(u=S.ns)}return{host:e,port:h,domain:i,subdomain:a,secure:f,scheme:m,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",wx=function(){let s=0;const e=[];return function(i){const a=i===s;s=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=ty.charAt(i%64),i=Math.floor(i/64);H(i===0,"Cannot push at time == 0");let f=u.join("");if(a){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=ty.charAt(e[o]);return H(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,i,a,o){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class Ax{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,i,a,o){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return de(this._path)?null:_h(this._path)}get ref(){return new Zn(this._repo,this._path)}get _queryIdentifier(){const e=Hv(this._queryParams),i=hh(e);return i==="{}"?"default":i}get _queryObject(){return Hv(this._queryParams)}isEqual(e){if(e=rt(e),!(e instanceof xr))return!1;const i=this._repo===e._repo,a=vh(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+g1(this._path)}}function Nx(s,e){if(s._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Yh(s){let e=null,i=null;if(s.hasStart()&&(e=s.getIndexStartValue()),s.hasEnd()&&(i=s.getIndexEndValue()),s.getIndex()===ps){const a="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(s.hasStart()){if(s.getIndexStartName()!==ys)throw new Error(a);if(typeof e!="string")throw new Error(o)}if(s.hasEnd()){if(s.getIndexEndName()!==Li)throw new Error(a);if(typeof i!="string")throw new Error(o)}}else if(s.getIndex()===Pe){if(e!=null&&!Hd(e)||i!=null&&!Hd(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(H(s.getIndex()instanceof Sh||s.getIndex()===GE,"unknown index type."),e!=null&&typeof e=="object"||i!=null&&typeof i=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function A0(s){if(s.hasStart()&&s.hasEnd()&&s.hasLimit()&&!s.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Zn extends xr{constructor(e,i){super(e,i,new Th,!1)}get parent(){const e=jE(this._path);return e===null?null:new Zn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class il{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Ce(e),a=sl(this.ref,e);return new il(this._node.getChild(i),a,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>e(new il(o,sl(this.ref,a),Pe)))}hasChild(e){const i=new Ce(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Et(s,e){return s=rt(s),s._checkNotDeleted("ref"),e!==void 0?sl(s._root,e):s._root}function sl(s,e){return s=rt(s),fe(s._path)===null?sx("child","path",e):Bh("child","path",e),new Zn(s._repo,qe(s._path,e))}function Ox(s,e){s=rt(s),v0("push",s._path),vl("push",e,s._path,!0);const i=S0(s._repo),a=wx(i),o=sl(s,a),u=sl(s,a);let f;return e!=null?f=gu(u,e).then(()=>u):f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function gu(s,e){s=rt(s),v0("set",s._path),vl("set",e,s._path,!1);const i=new ll;return mx(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}function xx(s,e){ix("update",e,s._path);const i=new ll;return px(s._repo,s._path,e,i.wrapCallback(()=>{})),i.promise}function yn(s){s=rt(s);const e=new R0(()=>{}),i=new ju(e);return hx(s._repo,s,i).then(a=>new il(a,new Zn(s._repo,s._path),s._queryParams.getIndex()))}class ju{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new Rx("value",this,new il(e.snapshotNode,new Zn(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new Ax(this,e,i):null}matches(e){return e instanceof ju?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Dx(s,e,i,a,o){const u=new R0(i,void 0),f=new ju(u);return _x(s._repo,s,f),()=>vx(s._repo,s,f)}function Ix(s,e,i,a){return Dx(s,"value",e)}class Pu{}class Mx extends Pu{constructor(e,i){super(),this._value=e,this._key=i,this.type="endAt"}_apply(e){vl("endAt",this._value,e._path,!0);const i=H1(e._queryParams,this._value,this._key);if(A0(i),Yh(i),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xr(e._repo,e._path,i,e._orderByCalled)}}class kx extends Pu{constructor(e,i){super(),this._value=e,this._key=i,this.type="startAt"}_apply(e){vl("startAt",this._value,e._path,!0);const i=z1(e._queryParams,this._value,this._key);if(A0(i),Yh(i),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xr(e._repo,e._path,i,e._orderByCalled)}}class Lx extends Pu{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Nx(e,"orderByChild");const i=new Ce(this._path);if(de(i))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const a=new Sh(i),o=B1(e._queryParams,a);return Yh(o),new xr(e._repo,e._path,o,!0)}}function _u(s){if(s==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(s==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(s==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Bh("orderByChild","path",s),new Lx(s)}class Ux extends Pu{constructor(e,i){super(),this._value=e,this._key=i,this.type="equalTo"}_apply(e){if(vl("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Mx(this._value,this._key)._apply(new kx(this._value,this._key)._apply(e))}}function vu(s,e){return new Ux(s,e)}function yu(s,...e){let i=rt(s);for(const a of e)i=a._apply(i);return i}OO(Zn);kO(Zn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="FIREBASE_DATABASE_EMULATOR_HOST",qd={};let Px=!1;function zx(s,e,i,a){s.repoInfo_=new NE(`${e}:${i}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0),a&&(s.authTokenProvider_=a)}function Hx(s,e,i,a,o){let u=a||s.options.databaseURL;u===void 0&&(s.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ut("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=ey(u,o),m=f.repoInfo,h;typeof process<"u"&&bv&&(h=bv[jx]),h?(u=`http://${h}?ns=${m.namespace}`,f=ey(u,o),m=f.repoInfo):f.repoInfo.secure;const p=new GN(s.name,s.options,e);rx("Invalid Firebase Database URL",f),de(f.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=qx(m,s,p,new VN(s.name,i));return new Vx(v,s)}function Bx(s,e){const i=qd[e];(!i||i[s.key]!==s)&&Xn(`Database ${e}(${s.repoInfo_}) has already been deleted.`),yx(s),delete i[s.key]}function qx(s,e,i,a){let o=qd[e.name];o||(o={},qd[e.name]=o);let u=o[s.toURLString()];return u&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new cx(s,Px,i,a),o[s.toURLString()]=u,u}class Vx{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fx(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zn(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Bx(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Xn("Cannot call "+e+" on a deleted database.")}}function Qh(s=Oy(),e){const i=nh(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=qC("database");a&&Gx(i,...a)}return i}function Gx(s,e,i,a={}){s=rt(s),s._checkNotDeleted("useEmulator"),s._instanceStarted&&Xn("Cannot call useEmulator() after instance has already been initialized.");const o=s._repoInternal;let u;if(o.repoInfo_.nodeAdmin)a.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Fo(Fo.OWNER);else if(a.mockUserToken){const f=typeof a.mockUserToken=="string"?a.mockUserToken:VC(a.mockUserToken,s.app.options.projectId);u=new Fo(f)}zx(o,e,i,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(s){AN(wr),pr(new gs("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return Hx(a,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Ii(Tv,Cv,s),Ii(Tv,Cv,"esm2017")}Yn.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};Yn.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};Fx();const Yx={apiKey:"AIzaSyDaCGAQHBmZwUFzE5qkbQLWGjnDlozmdl0",authDomain:"ai-agent-marketplace-99964.firebaseapp.com",projectId:"ai-agent-marketplace-99964",storageBucket:"ai-agent-marketplace-99964.applestorage.app",messagingSenderId:"632473956934",appId:"1:632473956934:web:2a77550a9854c2597fd047",measurementId:"G-CWY47B7GMC",databaseURL:"https://ai-agent-marketplace-99964-default-rtdb.firebaseio.com"},N0=Ny(Yx),Dr=wN(N0),kt=Qh(N0);dA(Dr,rE).catch(s=>{console.error("Error setting persistence:",s)});const Qx=Et(kt,"info/connected");Ix(Qx,s=>{s.val()===!0?console.log("Connected to Firebase"):console.log("Not connected to Firebase")});const O0=O.createContext();function Jn(){return O.useContext(O0)}function Kx({children:s}){const[e,i]=O.useState(null),[a,o]=O.useState(!0),[u,f]=O.useState(null);O.useEffect(()=>{const h=pA(Dr,y=>{i(y),o(!1),f(null)},y=>{console.error("Auth state change error:",y),f(y.message),o(!1)}),p=()=>{console.log("App is online"),f(null)},v=()=>{console.log("App is offline"),f("You are currently offline. Some features may be limited.")};return window.addEventListener("online",p),window.addEventListener("offline",v),()=>{h(),window.removeEventListener("online",p),window.removeEventListener("offline",v)}},[]);const m={user:e,loading:a,error:u};return E.jsxs(O0.Provider,{value:m,children:[!a&&s,u&&E.jsx("div",{className:"error-banner",children:u})]})}function Kh(){const{user:s}=Jn(),[e,i]=O.useState(null),[a,o]=O.useState(!0);return O.useEffect(()=>{if(s){const u=Qh();yn(Et(u,`users/${s.uid}/role`)).then(f=>{i(f.val()),o(!1)}).catch(f=>{console.error("Error fetching user role:",f),o(!1)})}},[s]),{role:e,loading:a}}function Wx(){const{isDarkMode:s,toggleTheme:e}=MC(),{user:i}=Jn(),a=$n(),o=zi(),[u,f]=O.useState(!1),m=O.useRef(null),{role:h}=Kh();O.useEffect(()=>{i&&console.log("Current user photo URL:",i.photoURL)},[i]);const p=y=>y==="/ai-agent-mp/"&&a.pathname==="/ai-agent-mp/"?!0:a.pathname===y,v=async()=>{try{await nE(Dr),o("/ai-agent-mp/")}catch(y){console.error("Error logging out:",y)}};return O.useEffect(()=>{const y=S=>{m.current&&!m.current.contains(S.target)&&f(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),E.jsxs("header",{className:`header ${s?"dark":"light"}`,children:[E.jsxs("div",{className:"header-left",children:[E.jsx("img",{src:"/ai-agent-mp/ai-agent-mp-logo.jpeg",alt:"AI Agent Marketplace Logo"}),E.jsx("h1",{children:"AI Agent Marketplace"})]}),E.jsxs("div",{className:"header-right",children:[E.jsxs("nav",{className:"header-nav",children:[E.jsx(Ke,{to:"/ai-agent-mp/",className:`nav-link ${p("/ai-agent-mp/")?"active":""}`,children:"Agents"}),i?E.jsx(Ke,{to:"/ai-agent-mp/builder",className:`nav-link ${p("/ai-agent-mp/builder")?"active":""}`,children:h==="builder"?"Requests":"Submit Request"}):E.jsx(Ke,{to:"/ai-agent-mp/builder-info",className:`nav-link ${p("/ai-agent-mp/builder-info")?"active":""}`,children:"Builder"})]}),i?E.jsxs("div",{className:"user-menu",ref:m,children:[E.jsx("img",{src:i.photoURL||`https://ui-avatars.com/api/?name=${i.email}&background=random`,alt:"Profile",className:"profile-image",onClick:()=>f(!u),onError:y=>{y.target.onerror=null,y.target.src=`https://ui-avatars.com/api/?name=${i.email}&background=random`}}),E.jsxs("div",{className:`dropdown-menu ${u?"show":""}`,children:[E.jsx(Ke,{to:"/ai-agent-mp/profile",children:"My Profile"}),E.jsx(Ke,{to:"/ai-agent-mp/my-agents",children:"My Agents"}),h==="builder"?E.jsx(Ke,{to:"/ai-agent-mp/my-builds",children:"My Builds"}):E.jsx(Ke,{to:"/ai-agent-mp/my-requests",children:"My Requests"}),E.jsx("div",{className:"dropdown-divider"}),E.jsx("button",{onClick:e,children:s?"Light Mode":"Dark Mode"}),E.jsx("div",{className:"dropdown-divider"}),E.jsx("button",{onClick:v,children:"Logout"})]})]}):E.jsx(Ke,{to:"/ai-agent-mp/login",className:`nav-link ${p("/ai-agent-mp/login")?"active":""}`,children:"Login"})]})]})}function Xx({searchQuery:s}){const e=zi(),a=[{id:1,name:"Data Analysis Assistant",emoji:"📊"},{id:2,name:"Content Writer",emoji:"✍️"},{id:3,name:"Code Assistant",emoji:"💻"},{id:4,name:"Image Generator",emoji:"🎨"},{id:5,name:"Math Tutor",emoji:"🔢"},{id:6,name:"Language Translator",emoji:"🌍"},{id:7,name:"Music Composer",emoji:"🎵"},{id:8,name:"Video Editor",emoji:"🎬"},{id:9,name:"Research Assistant",emoji:"🔍"}].filter(u=>u.name.toLowerCase().includes(s.toLowerCase())),o=(u,f)=>{f.stopPropagation(),e(`/ai-agent-mp/agent/${u}`)};return E.jsx("div",{className:"cards-container",children:a.map(u=>E.jsx("div",{className:"card",children:E.jsxs("div",{className:"card-content",children:[E.jsx("span",{className:"agent-emoji",children:u.emoji}),E.jsx("h3",{children:u.name}),E.jsx("button",{className:"add-button",onClick:f=>o(u.id,f),"aria-label":`Add ${u.name}`,children:"+"})]})},u.id))})}function $x(){const[s,e]=O.useState("");return E.jsxs("div",{className:"agents",children:[E.jsxs("div",{className:"hero",children:[E.jsx("h1",{children:"AI Agent Marketplace"}),E.jsx("div",{className:"search-container",children:E.jsx("input",{type:"text",placeholder:"Search for AI agents...",value:s,onChange:i=>e(i.target.value)})})]}),E.jsx(Xx,{searchQuery:s})]})}function Zx(){const[s,e]=O.useState([]),[i,a]=O.useState(!0),[o,u]=O.useState(""),[f,m]=O.useState(""),{user:h}=Jn(),{role:p,loading:v}=Kh(),[y,S]=O.useState({title:"",description:"",budget:""}),[N,A]=O.useState([]),[j,P]=O.useState("");O.useEffect(()=>{console.log("Current user role:",p),p==="builder"?U():a(!1)},[p]);const U=async()=>{try{const G=Et(kt,"requests"),le=await yn(G);if(le.exists()){const be=Object.entries(le.val()).map(([B,ie])=>({id:B,...ie})).filter(B=>B.status==="open");e(be)}else e([])}catch(G){console.error("Error fetching requests:",G),u("Failed to load requests")}finally{a(!1)}},Y=async G=>{try{const le=Et(kt,`requests/${G}`);await xx(le,{status:"in_progress",builderId:h.uid,builderName:h.displayName,acceptedAt:new Date().toISOString()}),e(be=>be.filter(B=>B.id!==G))}catch(le){console.error("Error accepting request:",le),u("Failed to accept request. Please try again.")}},V=async G=>{if(G.preventDefault(),u(""),!y.title.trim()||!y.description.trim()||!y.budget){u("Please fill in all fields");return}try{const le={title:y.title.trim(),description:y.description.trim(),budget:Number(y.budget),tools:N,status:"open",requesterName:h.displayName,requesterId:h.uid,requesterEmail:h.email,createdAt:new Date().toISOString()},be=Et(kt,"requests");await Ox(be,le),S({title:"",description:"",budget:""}),A([]),alert("Request submitted successfully!")}catch(le){console.error("Error submitting request:",le),u("Failed to submit request. Please try again.")}},me=G=>{G.preventDefault(),j.trim()&&(A([...N,j.trim()]),P(""))},X=G=>{A(N.filter((le,be)=>be!==G))};return i||v?E.jsx("div",{className:"builder",children:E.jsx("div",{className:"loading",children:"Loading..."})}):o?E.jsx("div",{className:"builder",children:E.jsx("div",{className:"error",children:o})}):p==="user"||!p?E.jsxs("div",{className:"builder",children:[E.jsx("div",{className:"builder-header",children:E.jsx("h2",{children:"Submit AI Agent Request"})}),E.jsxs("form",{onSubmit:V,className:"request-form",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"title",children:"Title"}),E.jsx("input",{type:"text",id:"title",value:y.title,onChange:G=>S({...y,title:G.target.value}),placeholder:"Enter request title",required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"description",children:"Description"}),E.jsx("textarea",{id:"description",value:y.description,onChange:G=>S({...y,description:G.target.value}),placeholder:"Describe what you need...",required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"tools",children:"Tools & Integrations"}),E.jsx("div",{className:"tools-input-container",children:E.jsx("input",{type:"text",id:"tools",value:j,onChange:G=>P(G.target.value),onKeyDown:G=>{G.key==="Enter"&&(G.preventDefault(),me(G))},placeholder:"Type a tool name and press Enter (e.g., OpenAI, WhatsApp)"})}),E.jsx("div",{className:"tools-container",children:N.map((G,le)=>E.jsxs("span",{className:"tool-tag",children:[G,E.jsx("button",{type:"button",onClick:()=>X(le),className:"remove-tool",children:"×"})]},le))})]}),E.jsxs("div",{className:"form-group",children:[E.jsxs("label",{htmlFor:"budget",children:["Budget: $",y.budget]}),E.jsx("input",{type:"range",id:"budget",value:y.budget,onChange:G=>S({...y,budget:G.target.value}),min:"1",max:"1000",required:!0})]}),E.jsx("button",{type:"submit",className:"submit-button",children:"Submit Request"})]})]}):E.jsxs("div",{className:"builder",children:[E.jsxs("div",{className:"builder-header",children:[E.jsx("h2",{children:"AI Agent Requests"}),E.jsx("div",{className:"search-container",children:E.jsx("input",{type:"text",placeholder:"Search requests...",value:f,onChange:G=>m(G.target.value),className:"search-input"})})]}),E.jsx("div",{className:"requests-container",children:s.length===0?E.jsx("div",{className:"no-requests",children:"No requests found. Check back later for new opportunities!"}):s.filter(G=>{var le,be;return((le=G.title)==null?void 0:le.toLowerCase().includes(f.toLowerCase()))||((be=G.description)==null?void 0:be.toLowerCase().includes(f.toLowerCase()))}).map(G=>E.jsxs("div",{className:"request-card",children:[E.jsxs("div",{className:"request-header",children:[E.jsx("h3",{children:G.title}),E.jsx("span",{className:"status-badge",children:G.status})]}),E.jsx("p",{className:"request-description",children:G.description}),G.tools&&G.tools.length>0&&E.jsx("div",{className:"request-tools",children:G.tools.map((le,be)=>E.jsx("span",{className:"tool-tag",children:le},be))}),E.jsxs("div",{className:"request-footer",children:[E.jsxs("div",{className:"request-meta",children:[E.jsxs("span",{children:["Posted by: ",G.requesterName]}),G.status==="in_progress"&&E.jsxs("span",{children:["Contact: ",G.requesterEmail]}),E.jsxs("span",{children:["Budget: $",G.budget]})]}),E.jsx("button",{className:"accept-button",onClick:()=>Y(G.id),children:"Accept Request"})]})]},G.id))})]})}function Jx(){const s=zi(),[e,i]=O.useState({usernameOrEmail:"",password:""}),[a,o]=O.useState(""),u=async m=>{m.preventDefault(),o("");try{const h=e.usernameOrEmail.trim().toLowerCase(),p=h.includes("@");let v=h;if(!p){console.log("Looking up username:",h);try{const S=Et(kt,`usernames/${h}`),N=await yn(S);if(N.exists()){const A=N.val().uid,j=Et(kt,`users/${A}`),P=await yn(j);if(P.exists())v=P.val().email,console.log("Found email:",v);else{o("User data not found");return}}else{o("Username not found");return}}catch(S){console.error("Username lookup error:",S),o("Error looking up username");return}}console.log("Attempting login with email:",v),(await fA(Dr,v,e.password)).user?s("/ai-agent-mp/"):o("Login failed")}catch(h){console.error("Login error:",h),o(h.code==="auth/wrong-password"?"Invalid password":h.code==="auth/user-not-found"?"User not found":h.code==="auth/invalid-email"?"Invalid email format":h.message||"Login failed. Please try again.")}},f=m=>{const{name:h,value:p}=m.target;i(v=>({...v,[h]:p.trim()}))};return E.jsx("div",{className:"login-container",children:E.jsxs("div",{className:"login-card",children:[E.jsx("h2",{children:"Login"}),a&&E.jsx("p",{className:"error-message",children:a}),E.jsxs("form",{onSubmit:u,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"usernameOrEmail",children:"Username or Email"}),E.jsx("input",{type:"text",id:"usernameOrEmail",name:"usernameOrEmail",value:e.usernameOrEmail,onChange:f,required:!0,placeholder:"Enter your username or email",autoComplete:"username"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"password",children:"Password"}),E.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:f,required:!0,placeholder:"Enter your password",autoComplete:"current-password"})]}),E.jsx("button",{type:"submit",className:"login-button",children:"Login"})]}),E.jsxs("p",{className:"signup-link",children:["Don't have an account? ",E.jsx(Ke,{to:"/ai-agent-mp/signup",children:"Sign up"})]})]})})}function eD(){const s=zi(),[e,i]=O.useState({email:"",username:"",password:"",confirmPassword:""}),[a,o]=O.useState(""),u=async m=>{m.preventDefault(),o("");try{const h=e.username.trim().toLowerCase(),p=e.email.trim().toLowerCase();if(e.password!==e.confirmPassword){o("Passwords do not match");return}const v=Et(kt,`usernames/${h}`);if((await yn(v)).exists()){o("Username already taken");return}const N=(await cA(Dr,p,e.password)).user.uid,A={email:p,username:h,createdAt:new Date().toISOString(),uid:N,displayName:"",role:"",photoURL:`https://ui-avatars.com/api/?name=${h}&background=random`,lastUpdated:new Date().toISOString()};await Promise.all([gu(Et(kt,`users/${N}`),A),gu(Et(kt,`usernames/${h}`),{uid:N})]),console.log("User created successfully:",A),s("/ai-agent-mp/profile-setup")}catch(h){console.error("Signup error:",h),o(h.code==="auth/email-already-in-use"?"Email already in use":h.code==="auth/invalid-email"?"Invalid email format":h.code==="auth/weak-password"?"Password is too weak":h.message||"Failed to create account")}},f=m=>{const{name:h,value:p}=m.target;i(v=>({...v,[h]:p}))};return E.jsx("div",{className:"signup-container",children:E.jsxs("div",{className:"signup-card",children:[E.jsx("h2",{children:"Sign Up"}),a&&E.jsx("p",{className:"error-message",children:a}),E.jsxs("form",{onSubmit:u,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"email",children:"Email"}),E.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:f,required:!0,placeholder:"Enter your email"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"username",children:"Username"}),E.jsx("input",{type:"text",id:"username",name:"username",value:e.username,onChange:f,required:!0,placeholder:"Choose a username",pattern:"[a-zA-Z0-9_]+",title:"Username can only contain letters, numbers, and underscores"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"password",children:"Password"}),E.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:f,required:!0,placeholder:"Enter your password",minLength:"6"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),E.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:f,required:!0,placeholder:"Confirm your password"})]}),E.jsx("button",{type:"submit",className:"signup-button",children:"Sign Up"})]}),E.jsxs("p",{className:"login-link",children:["Already have an account? ",E.jsx(Ke,{to:"/ai-agent-mp/login",children:"Login"})]})]})})}function tD(){const{id:s}=jT(),i={1:{name:"Data Analysis Assistant",emoji:"📊",seller:"@tirth",description:"Powerful AI assistant for data analysis and visualization",price:"4.99",tags:["Data","Analysis","Visualization","Python"],uses:1234,rating:4.8},2:{name:"Content Writer",emoji:"✍️",seller:"@tirth",description:"AI-powered content creation assistant",price:"3.99",tags:["Writing","Content","SEO","Marketing"],uses:2341,rating:4.6},3:{name:"Code Assistant",emoji:"💻",seller:"@tirth",description:"Your personal AI coding companion",price:"5.99",tags:["Coding","Development","Programming"],uses:3456,rating:4.9},4:{name:"Image Generator",emoji:"🎨",seller:"@tirth",description:"Create stunning images with AI",price:"6.99",tags:["Art","Design","Graphics","AI"],uses:4567,rating:4.7},5:{name:"Math Tutor",emoji:"🔢",seller:"@tirth",description:"Your personal AI math tutor",price:"4.99",tags:["Math","Education","Tutoring","Learning"],uses:5678,rating:4.5},6:{name:"Language Translator",emoji:"🌍",seller:"@tirth",description:"Accurate AI-powered translation assistant",price:"3.99",tags:["Translation","Language","AI","Multilingual"],uses:6789,rating:4.3},7:{name:"Music Composer",emoji:"🎵",seller:"@tirth",description:"Create music with AI assistance",price:"5.99",tags:["Music","Composition","AI","Sound"],uses:7890,rating:4.2},8:{name:"Video Editor",emoji:"🎬",seller:"@tirth",description:"AI-powered video editing assistant",price:"6.99",tags:["Video","Editing","AI","Film"],uses:8901,rating:4.1},9:{name:"Research Assistant",emoji:"🔍",seller:"@tirth",description:"Your AI research companion",price:"4.99",tags:["Research","AI","Analysis","Learning"],uses:9012,rating:4}}[s];if(!i)return E.jsx("div",{className:"agent-details",children:E.jsx("div",{className:"agent-details-container",children:E.jsx("h2",{children:"Agent not found"})})});const a=u=>{const f=Math.floor(u),m=u%1>=.5,h=[];for(let p=0;p<5;p++)p<f?h.push(E.jsx("span",{className:"star",children:"★"},p)):p===f&&m?h.push(E.jsx("span",{className:"star half"},p)):h.push(E.jsx("span",{className:"star empty",children:"☆"},p));return h},o=()=>{console.log(`Purchasing agent ${s}`)};return E.jsx("div",{className:"agent-details",children:E.jsxs("div",{className:"agent-details-container",children:[E.jsxs("div",{className:"agent-header",children:[E.jsxs("div",{className:"agent-header-left",children:[E.jsx("span",{className:"agent-emoji",children:i.emoji}),E.jsx("h2",{children:i.name})]}),E.jsxs("button",{className:"buy-button",onClick:o,children:["Buy $",i.price]})]}),E.jsxs("div",{className:"agent-info",children:[E.jsxs("p",{className:"seller",children:["Created by ",E.jsx("span",{className:"seller-name",children:i.seller})]}),E.jsx("div",{className:"tags",children:i.tags.map((u,f)=>E.jsx("span",{className:"tag",children:u},f))}),E.jsx("p",{className:"description",children:i.description}),E.jsxs("div",{className:"stats",children:[E.jsxs("span",{className:"uses",children:[i.uses.toLocaleString()," uses"]}),E.jsx("span",{className:"dot",children:"•"}),E.jsxs("span",{className:"rating",children:[a(i.rating),E.jsxs("span",{className:"rating-number",children:["(",i.rating,")"]})]})]})]})]})})}function nD(){const s=zi(),{user:e}=Jn(),[i,a]=O.useState({role:"",displayName:""}),[o,u]=O.useState(""),f=async m=>{if(m.preventDefault(),u(""),!i.role||!i.displayName.trim()){u("Please fill in all fields");return}try{const h=Et(kt,`users/${e.uid}`),y={...(await yn(h)).val()||{},role:i.role,displayName:i.displayName.trim(),lastUpdated:new Date().toISOString()};await gu(h,y),s("/ai-agent-mp/")}catch(h){console.error("Error saving user data:",h),u("Failed to save profile information. Please try again.")}};return E.jsx("div",{className:"profile-setup-container",children:E.jsxs("div",{className:"profile-setup-card",children:[E.jsx("h2",{children:"Complete Your Profile"}),o&&E.jsx("p",{className:"error-message",children:o}),E.jsxs("form",{onSubmit:f,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"displayName",children:"Display Name"}),E.jsx("input",{type:"text",id:"displayName",name:"displayName",value:i.displayName,onChange:m=>a(h=>({...h,displayName:m.target.value})),placeholder:"Enter your display name",required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"I want to:"}),E.jsxs("div",{className:"role-options",children:[E.jsx("button",{type:"button",className:`role-button ${i.role==="user"?"active":""}`,onClick:()=>a(m=>({...m,role:"user"})),children:"Use AI Agents"}),E.jsx("button",{type:"button",className:`role-button ${i.role==="builder"?"active":""}`,onClick:()=>a(m=>({...m,role:"builder"})),children:"Build AI Agents"})]})]}),E.jsx("button",{type:"submit",className:"setup-button",children:"Complete Setup"})]})]})})}function iD(){const[s,e]=O.useState([]),[i,a]=O.useState(!0),[o,u]=O.useState(""),{user:f}=Jn(),{role:m}=Kh();return O.useEffect(()=>{(async()=>{if(f)try{const p=Et(kt,"agents");let v;m==="builder"?v=yu(p,_u("creatorId"),vu(f.uid)):v=yu(p,_u("purchasers"),vu(f.uid));const y=await yn(v);if(y.exists()){const S=Object.entries(y.val()).map(([N,A])=>({id:N,...A}));e(S)}else e([])}catch(p){console.error("Error fetching agents:",p),u("Failed to load agents")}finally{a(!1)}})()},[f,m]),i?E.jsx("div",{className:"loading",children:"Loading..."}):o?E.jsx("div",{className:"error",children:o}):E.jsxs("div",{className:"my-agents",children:[E.jsx("h2",{children:m==="builder"?"My Created Agents":"My Purchased Agents"}),s.length===0?E.jsx("div",{className:"no-agents",children:m==="builder"?"You haven't created any agents yet.":"You haven't purchased any agents yet."}):E.jsx("div",{className:"agents-grid",children:s.map(h=>E.jsxs("div",{className:"agent-card",children:[E.jsxs("div",{className:"agent-header",children:[E.jsx("span",{className:"agent-emoji",children:h.emoji}),E.jsx("h3",{children:h.name})]}),E.jsx("p",{className:"agent-description",children:h.description}),E.jsx("div",{className:"agent-tags",children:h.tags&&h.tags.map((p,v)=>E.jsx("span",{className:"tag",children:p},v))}),E.jsxs("div",{className:"agent-footer",children:[E.jsxs("div",{className:"agent-stats",children:[E.jsxs("span",{children:[h.uses||0," uses"]}),E.jsx("span",{className:"dot",children:"•"}),E.jsxs("span",{className:"rating",children:["★ ",h.rating||0]})]}),m==="builder"&&E.jsxs("div",{className:"agent-meta",children:[E.jsxs("span",{children:["Price: $",h.price]}),E.jsxs("span",{children:["Sales: ",h.sales||0]})]})]})]},h.id))})]})}function sD(){const[s,e]=O.useState([]),[i,a]=O.useState(!0),[o,u]=O.useState(""),{user:f}=Jn(),m=h=>h.split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ");return O.useEffect(()=>{f&&(async()=>{try{const p=Et(kt,"requests"),v=yu(p,_u("builderId"),vu(f.uid)),y=await yn(v);if(y.exists()){const S=Object.entries(y.val()).map(([N,A])=>({id:N,...A})).filter(N=>N.status==="in_progress");e(S)}else e([])}catch(p){console.error("Error fetching builds:",p),u("Failed to load builds")}finally{a(!1)}})()},[f]),i?E.jsx("div",{className:"loading",children:"Loading..."}):o?E.jsx("div",{className:"error",children:o}):E.jsxs("div",{className:"my-builds",children:[E.jsx("h2",{children:"My Builds"}),s.length===0?E.jsx("div",{className:"no-builds",children:"You haven't accepted any requests yet."}):E.jsx("div",{className:"builds-grid",children:s.map(h=>E.jsxs("div",{className:"build-card",children:[E.jsxs("div",{className:"build-header",children:[E.jsx("h3",{children:h.title}),E.jsx("span",{className:`status-badge ${h.status}`,children:m(h.status)})]}),E.jsx("p",{className:"build-description",children:h.description}),h.tools&&h.tools.length>0&&E.jsxs("div",{className:"build-tools",children:[E.jsx("h4",{children:"Required Tools:"}),E.jsx("div",{className:"tools-container",children:h.tools.map((p,v)=>E.jsx("span",{className:"tool-tag",children:p},v))})]}),E.jsx("div",{className:"build-footer",children:E.jsxs("div",{className:"build-meta",children:[E.jsxs("span",{children:["Requester: ",h.requesterName]}),E.jsxs("span",{children:["Budget: $",h.budget]}),E.jsxs("span",{children:["Accepted: ",new Date(h.acceptedAt).toLocaleDateString()]})]})})]},h.id))})]})}function rD(){const{user:s}=Jn(),e=zi(),[i,a]=O.useState(null),[o,u]=O.useState(!1),f=O.useRef(null);O.useEffect(()=>{(async()=>{if(s){const p=Qh(),v=Et(p,`users/${s.uid}`);try{const y=await yn(v);y.exists()&&a(y.val())}catch(y){console.error("Error fetching user data:",y)}}})()},[s]),O.useEffect(()=>{const h=p=>{f.current&&!f.current.contains(p.target)&&u(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const m=async()=>{try{await nE(Dr),e("/ai-agent-mp/")}catch(h){console.error("Error logging out:",h)}};return E.jsx("div",{className:"profile-page",children:E.jsxs("div",{className:"profile-container",children:[E.jsxs("div",{className:"profile-header",children:[E.jsxs("div",{className:"profile-image-container",ref:f,children:[E.jsx("img",{src:(s==null?void 0:s.photoURL)||`https://ui-avatars.com/api/?name=${s==null?void 0:s.email}&background=random`,alt:"Profile",className:"profile-image",onClick:()=>u(!o),onError:h=>{h.target.onerror=null,h.target.src=`https://ui-avatars.com/api/?name=${s==null?void 0:s.email}&background=random`}}),o&&E.jsxs("div",{className:"profile-dropdown",children:[E.jsx(Ke,{to:"/ai-agent-mp/profile-setup",children:"Edit Profile"}),E.jsx("button",{onClick:m,children:"Logout"})]})]}),E.jsx("h2",{children:(i==null?void 0:i.displayName)||"User"}),E.jsx("p",{children:s==null?void 0:s.email})]}),E.jsxs("div",{className:"profile-sections",children:[E.jsxs("section",{className:"profile-section",children:[E.jsx("h3",{children:"My Content"}),E.jsx("div",{className:"section-links",children:(i==null?void 0:i.role)==="builder"?E.jsxs(E.Fragment,{children:[E.jsx(Ke,{to:"/ai-agent-mp/my-agents",className:"section-link",children:"My Agents"}),E.jsx(Ke,{to:"/ai-agent-mp/my-builds",className:"section-link",children:"My Builds"})]}):E.jsxs(E.Fragment,{children:[E.jsx(Ke,{to:"/ai-agent-mp/my-agents",className:"section-link",children:"My Agents"}),E.jsx(Ke,{to:"/ai-agent-mp/my-requests",className:"section-link",children:"My Requests"})]})})]}),E.jsxs("section",{className:"profile-section",children:[E.jsx("h3",{children:"Account Settings"}),E.jsxs("div",{className:"section-links",children:[E.jsx(Ke,{to:"/ai-agent-mp/profile-setup",className:"section-link",children:"Edit Profile"}),E.jsx("button",{onClick:m,className:"logout-button",children:"Logout"})]})]})]})]})})}function aD(){const[s,e]=O.useState([]),[i,a]=O.useState(!0),[o,u]=O.useState(""),{user:f}=Jn(),m=h=>h.split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ");return O.useEffect(()=>{f&&(async()=>{try{const p=Et(kt,"requests"),v=yu(p,_u("requesterId"),vu(f.uid)),y=await yn(v);if(y.exists()){const S=Object.entries(y.val()).map(([N,A])=>({id:N,...A}));e(S)}else e([])}catch(p){console.error("Error fetching requests:",p),u("Failed to load requests")}finally{a(!1)}})()},[f]),i?E.jsx("div",{className:"loading",children:"Loading..."}):o?E.jsx("div",{className:"error",children:o}):E.jsxs("div",{className:"my-requests",children:[E.jsx("h2",{children:"My Requests"}),s.length===0?E.jsx("div",{className:"no-requests",children:"You haven't submitted any requests yet."}):E.jsx("div",{className:"requests-grid",children:s.map(h=>E.jsxs("div",{className:"request-card",children:[E.jsxs("div",{className:"request-header",children:[E.jsx("h3",{children:h.title}),E.jsx("span",{className:`status-badge ${h.status}`,children:m(h.status)})]}),E.jsx("p",{className:"request-description",children:h.description}),E.jsx("div",{className:"request-footer",children:E.jsxs("div",{className:"request-meta",children:[E.jsxs("span",{children:["Posted by: ",h.requesterName]}),E.jsxs("span",{children:["Budget: $",h.budget]}),E.jsxs("span",{children:["Created: ",new Date(h.createdAt).toLocaleDateString()]}),h.status==="in_progress"&&E.jsxs(E.Fragment,{children:[E.jsxs("span",{children:["Builder: ",h.builderName]}),E.jsxs("span",{children:["Contact: ",h.requesterEmail]})]})]})})]},h.id))})]})}function fs({children:s}){const{user:e}=Jn();return e?s:E.jsx($T,{to:"/ai-agent-mp/login"})}function lD(){return E.jsx("div",{className:"builder-prompt-overlay",children:E.jsxs("div",{className:"builder-prompt-card",children:[E.jsx("h2",{children:"Log in or create an account to start building agents."}),E.jsxs("div",{className:"builder-features",children:[E.jsx("p",{children:"With Agent Builder you can:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Create agents customized to client's requests"}),E.jsx("li",{children:"Promote your agents in the marketplace"}),E.jsx("li",{children:"Integrate agents with your documents, systems, and tools"})]})]}),E.jsxs("div",{className:"builder-prompt-actions",children:[E.jsx(Ke,{to:"/ai-agent-mp/signup",className:"signup-button",children:"Sign Up"}),E.jsx(Ke,{to:"/ai-agent-mp/login",className:"login-button",children:"Login"})]})]})})}function oD(){return E.jsx(Kx,{children:E.jsx(IC,{children:E.jsx(bC,{children:E.jsxs("div",{className:"app",children:[E.jsx(Wx,{}),E.jsxs(JT,{children:[E.jsx(Qt,{path:"/ai-agent-mp/",element:E.jsx($x,{})}),E.jsx(Qt,{path:"/ai-agent-mp/builder-info",element:E.jsx(lD,{})}),E.jsx(Qt,{path:"/ai-agent-mp/builder",element:E.jsx(fs,{children:E.jsx(Zx,{})})}),E.jsx(Qt,{path:"/ai-agent-mp/login",element:E.jsx(Jx,{})}),E.jsx(Qt,{path:"/ai-agent-mp/signup",element:E.jsx(eD,{})}),E.jsx(Qt,{path:"/ai-agent-mp/profile-setup",element:E.jsx(fs,{children:E.jsx(nD,{})})}),E.jsx(Qt,{path:"/ai-agent-mp/my-agents",element:E.jsx(fs,{children:E.jsx(iD,{})})}),E.jsx(Qt,{path:"/ai-agent-mp/my-builds",element:E.jsx(fs,{children:E.jsx(sD,{})})}),E.jsx(Qt,{path:"/ai-agent-mp/agent/:id",element:E.jsx(fs,{children:E.jsx(tD,{})})}),E.jsx(Qt,{path:"/ai-agent-mp/profile",element:E.jsx(fs,{children:E.jsx(rD,{})})}),E.jsx(Qt,{path:"/ai-agent-mp/my-requests",element:E.jsx(fs,{children:E.jsx(aD,{})})})]})]})})})})}lT.createRoot(document.getElementById("root")).render(E.jsx(O.StrictMode,{children:E.jsx(oD,{})}));
